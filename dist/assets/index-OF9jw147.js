var DR=Object.defineProperty;var LR=(e,t,r)=>t in e?DR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Gl=(e,t,r)=>LR(e,typeof t!="symbol"?t+"":t,r);function $R(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function ya(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F2={exports:{}},dm={},z2={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.element"),RR=Symbol.for("react.portal"),MR=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),zR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),HR=Symbol.for("react.suspense"),qR=Symbol.for("react.memo"),VR=Symbol.for("react.lazy"),Ib=Symbol.iterator;function KR(e){return e===null||typeof e!="object"?null:(e=Ib&&e[Ib]||e["@@iterator"],typeof e=="function"?e:null)}var U2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W2=Object.assign,H2={};function Cl(e,t,r){this.props=e,this.context=t,this.refs=H2,this.updater=r||U2}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q2(){}q2.prototype=Cl.prototype;function q_(e,t,r){this.props=e,this.context=t,this.refs=H2,this.updater=r||U2}var V_=q_.prototype=new q2;V_.constructor=q_;W2(V_,Cl.prototype);V_.isPureReactComponent=!0;var Db=Array.isArray,V2=Object.prototype.hasOwnProperty,K_={current:null},K2={key:!0,ref:!0,__self:!0,__source:!0};function G2(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)V2.call(t,n)&&!K2.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Au,type:e,key:a,ref:s,props:i,_owner:K_.current}}function GR(e,t){return{$$typeof:Au,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function G_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Au}function YR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lb=/\/+/g;function nv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YR(""+e.key):t.toString(36)}function oh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Au:case RR:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+nv(s,0):n,Db(i)?(r="",e!=null&&(r=e.replace(Lb,"$&/")+"/"),oh(i,t,r,"",function(u){return u})):i!=null&&(G_(i)&&(i=GR(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Lb,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Db(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+nv(a,l);s+=oh(a,t,r,c,i)}else if(c=KR(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+nv(a,l++),s+=oh(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function md(e,t,r){if(e==null)return e;var n=[],i=0;return oh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function XR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hr={current:null},lh={transition:null},JR={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:lh,ReactCurrentOwner:K_};function Y2(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:md,forEach:function(e,t,r){md(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return md(e,function(){t++}),t},toArray:function(e){return md(e,function(t){return t})||[]},only:function(e){if(!G_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Cl;Re.Fragment=MR;Re.Profiler=FR;Re.PureComponent=q_;Re.StrictMode=BR;Re.Suspense=HR;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JR;Re.act=Y2;Re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=W2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=K_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)V2.call(t,c)&&!K2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Au,type:e.type,key:i,ref:a,props:n,_owner:s}};Re.createContext=function(e){return e={$$typeof:UR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zR,_context:e},e.Consumer=e};Re.createElement=G2;Re.createFactory=function(e){var t=G2.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:WR,render:e}};Re.isValidElement=G_;Re.lazy=function(e){return{$$typeof:VR,_payload:{_status:-1,_result:e},_init:XR}};Re.memo=function(e,t){return{$$typeof:qR,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=lh.transition;lh.transition={};try{e()}finally{lh.transition=t}};Re.unstable_act=Y2;Re.useCallback=function(e,t){return Hr.current.useCallback(e,t)};Re.useContext=function(e){return Hr.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return Hr.current.useDeferredValue(e)};Re.useEffect=function(e,t){return Hr.current.useEffect(e,t)};Re.useId=function(){return Hr.current.useId()};Re.useImperativeHandle=function(e,t,r){return Hr.current.useImperativeHandle(e,t,r)};Re.useInsertionEffect=function(e,t){return Hr.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return Hr.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return Hr.current.useMemo(e,t)};Re.useReducer=function(e,t,r){return Hr.current.useReducer(e,t,r)};Re.useRef=function(e){return Hr.current.useRef(e)};Re.useState=function(e){return Hr.current.useState(e)};Re.useSyncExternalStore=function(e,t,r){return Hr.current.useSyncExternalStore(e,t,r)};Re.useTransition=function(){return Hr.current.useTransition()};Re.version="18.3.1";z2.exports=Re;var m=z2.exports;const Ve=ya(m),QR=$R({__proto__:null,default:Ve},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=m,eM=Symbol.for("react.element"),tM=Symbol.for("react.fragment"),rM=Object.prototype.hasOwnProperty,nM=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iM={key:!0,ref:!0,__self:!0,__source:!0};function X2(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)rM.call(t,n)&&!iM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:eM,type:e,key:a,ref:s,props:i,_owner:nM.current}}dm.Fragment=tM;dm.jsx=X2;dm.jsxs=X2;F2.exports=dm;var o=F2.exports,vg={},J2={exports:{}},Sn={},Q2={exports:{}},Z2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,z){var Q=U.length;U.push(z);e:for(;0<Q;){var W=Q-1>>>1,re=U[W];if(0<i(re,z))U[W]=z,U[Q]=re,Q=W;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var z=U[0],Q=U.pop();if(Q!==z){U[0]=Q;e:for(var W=0,re=U.length,O=re>>>1;W<O;){var $=2*(W+1)-1,Z=U[$],X=$+1,ce=U[X];if(0>i(Z,Q))X<re&&0>i(ce,Z)?(U[W]=ce,U[X]=Q,W=X):(U[W]=Z,U[$]=Q,W=$);else if(X<re&&0>i(ce,Q))U[W]=ce,U[X]=Q,W=X;else break e}}return z}function i(U,z){var Q=U.sortIndex-z.sortIndex;return Q!==0?Q:U.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=U)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function x(U){if(w=!1,k(U),!g)if(r(c)!==null)g=!0,te(C);else{var z=r(u);z!==null&&A(x,z.startTime-U)}}function C(U,z){g=!1,w&&(w=!1,_(N),N=-1),p=!0;var Q=f;try{for(k(z),h=r(c);h!==null&&(!(h.expirationTime>z)||U&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var re=W(h.expirationTime<=z);z=e.unstable_now(),typeof re=="function"?h.callback=re:h===r(c)&&n(c),k(z)}else n(c);h=r(c)}if(h!==null)var O=!0;else{var $=r(u);$!==null&&A(x,$.startTime-z),O=!1}return O}finally{h=null,f=Q,p=!1}}var S=!1,j=null,N=-1,T=5,P=-1;function I(){return!(e.unstable_now()-P<T)}function E(){if(j!==null){var U=e.unstable_now();P=U;var z=!0;try{z=j(!0,U)}finally{z?B():(S=!1,j=null)}}else S=!1}var B;if(typeof b=="function")B=function(){b(E)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,R=K.port2;K.port1.onmessage=E,B=function(){R.postMessage(null)}}else B=function(){y(E,0)};function te(U){j=U,S||(S=!0,B())}function A(U,z){N=y(function(){U(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,te(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Q=f;f=z;try{return U()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,z){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=f;f=U;try{return z()}finally{f=Q}},e.unstable_scheduleCallback=function(U,z,Q){var W=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,U){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,U={id:d++,callback:z,priorityLevel:U,startTime:Q,expirationTime:re,sortIndex:-1},Q>W?(U.sortIndex=Q,t(u,U),r(c)===null&&U===r(u)&&(w?(_(N),N=-1):w=!0,A(x,Q-W))):(U.sortIndex=re,t(c,U),g||p||(g=!0,te(C))),U},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(U){var z=f;return function(){var Q=f;f=z;try{return U.apply(this,arguments)}finally{f=Q}}}})(Z2);Q2.exports=Z2;var aM=Q2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sM=m,kn=aM;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eN=new Set,Uc={};function lo(e,t){sl(e,t),sl(e+"Capture",t)}function sl(e,t){for(Uc[e]=t,e=0;e<t.length;e++)eN.add(t[e])}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=Object.prototype.hasOwnProperty,oM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$b={},Rb={};function lM(e){return gg.call(Rb,e)?!0:gg.call($b,e)?!1:oM.test(e)?Rb[e]=!0:($b[e]=!0,!1)}function cM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uM(e,t,r,n){if(t===null||typeof t>"u"||cM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Cr[e]=new qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Cr[t]=new qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Cr[e]=new qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Cr[e]=new qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Cr[e]=new qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Cr[e]=new qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Cr[e]=new qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Cr[e]=new qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Cr[e]=new qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y_=/[\-:]([a-z])/g;function X_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y_,X_);Cr[t]=new qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y_,X_);Cr[t]=new qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y_,X_);Cr[t]=new qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Cr[e]=new qr(e,1,!1,e.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Cr[e]=new qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function J_(e,t,r,n){var i=Cr.hasOwnProperty(t)?Cr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uM(t,r,i,n)&&(r=null),n||i===null?lM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _a=sM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pd=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),Q_=Symbol.for("react.strict_mode"),yg=Symbol.for("react.profiler"),tN=Symbol.for("react.provider"),rN=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),_g=Symbol.for("react.suspense"),wg=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),Oa=Symbol.for("react.lazy"),nN=Symbol.for("react.offscreen"),Mb=Symbol.iterator;function Yl(e){return e===null||typeof e!="object"?null:(e=Mb&&e[Mb]||e["@@iterator"],typeof e=="function"?e:null)}var Tt=Object.assign,iv;function gc(e){if(iv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);iv=t&&t[1]||""}return`
`+iv+e}var av=!1;function sv(e,t){if(!e||av)return"";av=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,l=a.length-1;1<=s&&0<=l&&i[s]!==a[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==a[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==a[l]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{av=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gc(e):""}function dM(e){switch(e.tag){case 5:return gc(e.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return e=sv(e.type,!1),e;case 11:return e=sv(e.type.render,!1),e;case 1:return e=sv(e.type,!0),e;default:return""}}function xg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Do:return"Fragment";case Io:return"Portal";case yg:return"Profiler";case Q_:return"StrictMode";case _g:return"Suspense";case wg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rN:return(e.displayName||"Context")+".Consumer";case tN:return(e._context.displayName||"Context")+".Provider";case Z_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case e0:return t=e.displayName||null,t!==null?t:xg(e.type)||"Memo";case Oa:t=e._payload,e=e._init;try{return xg(e(t))}catch{}}return null}function hM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xg(t);case 8:return t===Q_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ns(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function iN(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fM(e){var t=iN(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vd(e){e._valueTracker||(e._valueTracker=fM(e))}function aN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=iN(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Th(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bg(e,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Bb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ns(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sN(e,t){t=t.checked,t!=null&&J_(e,"checked",t,!1)}function kg(e,t){sN(e,t);var r=ns(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jg(e,t.type,r):t.hasOwnProperty("defaultValue")&&jg(e,t.type,ns(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function jg(e,t,r){(t!=="number"||Th(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yc=Array.isArray;function Yo(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ns(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ae(92));if(yc(r)){if(1<r.length)throw Error(ae(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ns(r)}}function oN(e,t){var r=ns(t.value),n=ns(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ub(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gd,cN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gd=gd||document.createElement("div"),gd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mM=["Webkit","ms","Moz","O"];Object.keys(Sc).forEach(function(e){mM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sc[t]=Sc[e]})});function uN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sc.hasOwnProperty(e)&&Sc[e]?(""+t).trim():t+"px"}function dN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var pM=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(e,t){if(t){if(pM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Tg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=null;function t0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pg=null,Xo=null,Jo=null;function Wb(e){if(e=Du(e)){if(typeof Pg!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=vm(t),Pg(e.stateNode,e.type,t))}}function hN(e){Xo?Jo?Jo.push(e):Jo=[e]:Xo=e}function fN(){if(Xo){var e=Xo,t=Jo;if(Jo=Xo=null,Wb(e),t)for(e=0;e<t.length;e++)Wb(t[e])}}function mN(e,t){return e(t)}function pN(){}var ov=!1;function vN(e,t,r){if(ov)return e(t,r);ov=!0;try{return mN(e,t,r)}finally{ov=!1,(Xo!==null||Jo!==null)&&(pN(),fN())}}function Hc(e,t){var r=e.stateNode;if(r===null)return null;var n=vm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ae(231,t,typeof r));return r}var Ag=!1;if(aa)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Ag=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Ag=!1}function vM(e,t,r,n,i,a,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Cc=!1,Eh=null,Ph=!1,Og=null,gM={onError:function(e){Cc=!0,Eh=e}};function yM(e,t,r,n,i,a,s,l,c){Cc=!1,Eh=null,vM.apply(gM,arguments)}function _M(e,t,r,n,i,a,s,l,c){if(yM.apply(this,arguments),Cc){if(Cc){var u=Eh;Cc=!1,Eh=null}else throw Error(ae(198));Ph||(Ph=!0,Og=u)}}function co(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hb(e){if(co(e)!==e)throw Error(ae(188))}function wM(e){var t=e.alternate;if(!t){if(t=co(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Hb(i),e;if(a===n)return Hb(i),t;a=a.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?e:t}function yN(e){return e=wM(e),e!==null?_N(e):null}function _N(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_N(e);if(t!==null)return t;e=e.sibling}return null}var wN=kn.unstable_scheduleCallback,qb=kn.unstable_cancelCallback,xM=kn.unstable_shouldYield,bM=kn.unstable_requestPaint,Bt=kn.unstable_now,kM=kn.unstable_getCurrentPriorityLevel,r0=kn.unstable_ImmediatePriority,xN=kn.unstable_UserBlockingPriority,Ah=kn.unstable_NormalPriority,jM=kn.unstable_LowPriority,bN=kn.unstable_IdlePriority,hm=null,Ii=null;function SM(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(hm,e,void 0,(e.current.flags&128)===128)}catch{}}var ai=Math.clz32?Math.clz32:TM,CM=Math.log,NM=Math.LN2;function TM(e){return e>>>=0,e===0?32:31-(CM(e)/NM|0)|0}var yd=64,_d=4194304;function _c(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~i;l!==0?n=_c(l):(a&=s,a!==0&&(n=_c(a)))}else s=r&~i,s!==0?n=_c(s):a!==0&&(n=_c(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ai(t),i=1<<r,n|=e[r],t&=~i;return n}function EM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ai(a),l=1<<s,c=i[s];c===-1?(!(l&r)||l&n)&&(i[s]=EM(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Ig(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kN(){var e=yd;return yd<<=1,!(yd&4194240)&&(yd=64),e}function lv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ou(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ai(t),e[t]=r}function AM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ai(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function n0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ai(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ze=0;function jN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var SN,i0,CN,NN,TN,Dg=!1,wd=[],Va=null,Ka=null,Ga=null,qc=new Map,Vc=new Map,Ma=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vb(e,t){switch(e){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":qc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(t.pointerId)}}function Jl(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Du(t),t!==null&&i0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IM(e,t,r,n,i){switch(t){case"focusin":return Va=Jl(Va,e,t,r,n,i),!0;case"dragenter":return Ka=Jl(Ka,e,t,r,n,i),!0;case"mouseover":return Ga=Jl(Ga,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return qc.set(a,Jl(qc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Vc.set(a,Jl(Vc.get(a)||null,e,t,r,n,i)),!0}return!1}function EN(e){var t=As(e.target);if(t!==null){var r=co(t);if(r!==null){if(t=r.tag,t===13){if(t=gN(r),t!==null){e.blockedOn=t,TN(e.priority,function(){CN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ch(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Lg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Eg=n,r.target.dispatchEvent(n),Eg=null}else return t=Du(r),t!==null&&i0(t),e.blockedOn=r,!1;t.shift()}return!0}function Kb(e,t,r){ch(e)&&r.delete(t)}function DM(){Dg=!1,Va!==null&&ch(Va)&&(Va=null),Ka!==null&&ch(Ka)&&(Ka=null),Ga!==null&&ch(Ga)&&(Ga=null),qc.forEach(Kb),Vc.forEach(Kb)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Dg||(Dg=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,DM)))}function Kc(e){function t(i){return Ql(i,e)}if(0<wd.length){Ql(wd[0],e);for(var r=1;r<wd.length;r++){var n=wd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Va!==null&&Ql(Va,e),Ka!==null&&Ql(Ka,e),Ga!==null&&Ql(Ga,e),qc.forEach(t),Vc.forEach(t),r=0;r<Ma.length;r++)n=Ma[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ma.length&&(r=Ma[0],r.blockedOn===null);)EN(r),r.blockedOn===null&&Ma.shift()}var Qo=_a.ReactCurrentBatchConfig,Ih=!0;function LM(e,t,r,n){var i=Ze,a=Qo.transition;Qo.transition=null;try{Ze=1,a0(e,t,r,n)}finally{Ze=i,Qo.transition=a}}function $M(e,t,r,n){var i=Ze,a=Qo.transition;Qo.transition=null;try{Ze=4,a0(e,t,r,n)}finally{Ze=i,Qo.transition=a}}function a0(e,t,r,n){if(Ih){var i=Lg(e,t,r,n);if(i===null)yv(e,t,n,Dh,r),Vb(e,n);else if(IM(i,e,t,r,n))n.stopPropagation();else if(Vb(e,n),t&4&&-1<OM.indexOf(e)){for(;i!==null;){var a=Du(i);if(a!==null&&SN(a),a=Lg(e,t,r,n),a===null&&yv(e,t,n,Dh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else yv(e,t,n,null,r)}}var Dh=null;function Lg(e,t,r,n){if(Dh=null,e=t0(n),e=As(e),e!==null)if(t=co(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dh=e,null}function PN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kM()){case r0:return 1;case xN:return 4;case Ah:case jM:return 16;case bN:return 536870912;default:return 16}default:return 16}}var Ua=null,s0=null,uh=null;function AN(){if(uh)return uh;var e,t=s0,r=t.length,n,i="value"in Ua?Ua.value:Ua.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return uh=i.slice(e,1<n?1-n:void 0)}function dh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xd(){return!0}function Gb(){return!1}function Cn(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xd:Gb,this.isPropagationStopped=Gb,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xd)},persist:function(){},isPersistent:xd}),t}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o0=Cn(Nl),Iu=Tt({},Nl,{view:0,detail:0}),RM=Cn(Iu),cv,uv,Zl,fm=Tt({},Iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(cv=e.screenX-Zl.screenX,uv=e.screenY-Zl.screenY):uv=cv=0,Zl=e),cv)},movementY:function(e){return"movementY"in e?e.movementY:uv}}),Yb=Cn(fm),MM=Tt({},fm,{dataTransfer:0}),BM=Cn(MM),FM=Tt({},Iu,{relatedTarget:0}),dv=Cn(FM),zM=Tt({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),UM=Cn(zM),WM=Tt({},Nl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),HM=Cn(WM),qM=Tt({},Nl,{data:0}),Xb=Cn(qM),VM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GM[e])?!!t[e]:!1}function l0(){return YM}var XM=Tt({},Iu,{key:function(e){if(e.key){var t=VM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l0,charCode:function(e){return e.type==="keypress"?dh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JM=Cn(XM),QM=Tt({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jb=Cn(QM),ZM=Tt({},Iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l0}),e8=Cn(ZM),t8=Tt({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),r8=Cn(t8),n8=Tt({},fm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i8=Cn(n8),a8=[9,13,27,32],c0=aa&&"CompositionEvent"in window,Nc=null;aa&&"documentMode"in document&&(Nc=document.documentMode);var s8=aa&&"TextEvent"in window&&!Nc,ON=aa&&(!c0||Nc&&8<Nc&&11>=Nc),Qb=" ",Zb=!1;function IN(e,t){switch(e){case"keyup":return a8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lo=!1;function o8(e,t){switch(e){case"compositionend":return DN(t);case"keypress":return t.which!==32?null:(Zb=!0,Qb);case"textInput":return e=t.data,e===Qb&&Zb?null:e;default:return null}}function l8(e,t){if(Lo)return e==="compositionend"||!c0&&IN(e,t)?(e=AN(),uh=s0=Ua=null,Lo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ON&&t.locale!=="ko"?null:t.data;default:return null}}var c8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c8[e.type]:t==="textarea"}function LN(e,t,r,n){hN(n),t=Lh(t,"onChange"),0<t.length&&(r=new o0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tc=null,Gc=null;function u8(e){VN(e,0)}function mm(e){var t=Mo(e);if(aN(t))return e}function d8(e,t){if(e==="change")return t}var $N=!1;if(aa){var hv;if(aa){var fv="oninput"in document;if(!fv){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),fv=typeof t1.oninput=="function"}hv=fv}else hv=!1;$N=hv&&(!document.documentMode||9<document.documentMode)}function r1(){Tc&&(Tc.detachEvent("onpropertychange",RN),Gc=Tc=null)}function RN(e){if(e.propertyName==="value"&&mm(Gc)){var t=[];LN(t,Gc,e,t0(e)),vN(u8,t)}}function h8(e,t,r){e==="focusin"?(r1(),Tc=t,Gc=r,Tc.attachEvent("onpropertychange",RN)):e==="focusout"&&r1()}function f8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mm(Gc)}function m8(e,t){if(e==="click")return mm(t)}function p8(e,t){if(e==="input"||e==="change")return mm(t)}function v8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var li=typeof Object.is=="function"?Object.is:v8;function Yc(e,t){if(li(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!gg.call(t,i)||!li(e[i],t[i]))return!1}return!0}function n1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i1(e,t){var r=n1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n1(r)}}function MN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?MN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BN(){for(var e=window,t=Th();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Th(e.document)}return t}function u0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function g8(e){var t=BN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&MN(r.ownerDocument.documentElement,r)){if(n!==null&&u0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=i1(r,a);var s=i1(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y8=aa&&"documentMode"in document&&11>=document.documentMode,$o=null,$g=null,Ec=null,Rg=!1;function a1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rg||$o==null||$o!==Th(n)||(n=$o,"selectionStart"in n&&u0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ec&&Yc(Ec,n)||(Ec=n,n=Lh($g,"onSelect"),0<n.length&&(t=new o0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=$o)))}function bd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ro={animationend:bd("Animation","AnimationEnd"),animationiteration:bd("Animation","AnimationIteration"),animationstart:bd("Animation","AnimationStart"),transitionend:bd("Transition","TransitionEnd")},mv={},FN={};aa&&(FN=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function pm(e){if(mv[e])return mv[e];if(!Ro[e])return e;var t=Ro[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FN)return mv[e]=t[r];return e}var zN=pm("animationend"),UN=pm("animationiteration"),WN=pm("animationstart"),HN=pm("transitionend"),qN=new Map,s1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){qN.set(e,t),lo(t,[e])}for(var pv=0;pv<s1.length;pv++){var vv=s1[pv],_8=vv.toLowerCase(),w8=vv[0].toUpperCase()+vv.slice(1);us(_8,"on"+w8)}us(zN,"onAnimationEnd");us(UN,"onAnimationIteration");us(WN,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(HN,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x8=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function o1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_M(n,t,void 0,e),e.currentTarget=null}function VN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;o1(i,l,u),a=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;o1(i,l,u),a=c}}}if(Ph)throw e=Og,Ph=!1,Og=null,e}function lt(e,t){var r=t[Ug];r===void 0&&(r=t[Ug]=new Set);var n=e+"__bubble";r.has(n)||(KN(t,e,2,!1),r.add(n))}function gv(e,t,r){var n=0;t&&(n|=4),KN(r,e,n,t)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[kd]){e[kd]=!0,eN.forEach(function(r){r!=="selectionchange"&&(x8.has(r)||gv(r,!1,e),gv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kd]||(t[kd]=!0,gv("selectionchange",!1,t))}}function KN(e,t,r,n){switch(PN(t)){case 1:var i=LM;break;case 4:i=$M;break;default:i=a0}r=i.bind(null,t,r,e),i=void 0,!Ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function yv(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;l!==null;){if(s=As(l),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}l=l.parentNode}}n=n.return}vN(function(){var u=a,d=t0(r),h=[];e:{var f=qN.get(e);if(f!==void 0){var p=o0,g=e;switch(e){case"keypress":if(dh(r)===0)break e;case"keydown":case"keyup":p=JM;break;case"focusin":g="focus",p=dv;break;case"focusout":g="blur",p=dv;break;case"beforeblur":case"afterblur":p=dv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=e8;break;case zN:case UN:case WN:p=UM;break;case HN:p=r8;break;case"scroll":p=RM;break;case"wheel":p=i8;break;case"copy":case"cut":case"paste":p=HM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Jb}var w=(t&4)!==0,y=!w&&e==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var b=u,k;b!==null;){k=b;var x=k.stateNode;if(k.tag===5&&x!==null&&(k=x,_!==null&&(x=Hc(b,_),x!=null&&w.push(Jc(b,x,k)))),y)break;b=b.return}0<w.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:w}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==Eg&&(g=r.relatedTarget||r.fromElement)&&(As(g)||g[sa]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?As(g):null,g!==null&&(y=co(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(w=Yb,x="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(w=Jb,x="onPointerLeave",_="onPointerEnter",b="pointer"),y=p==null?f:Mo(p),k=g==null?f:Mo(g),f=new w(x,b+"leave",p,r,d),f.target=y,f.relatedTarget=k,x=null,As(d)===u&&(w=new w(_,b+"enter",g,r,d),w.target=k,w.relatedTarget=y,x=w),y=x,p&&g)t:{for(w=p,_=g,b=0,k=w;k;k=yo(k))b++;for(k=0,x=_;x;x=yo(x))k++;for(;0<b-k;)w=yo(w),b--;for(;0<k-b;)_=yo(_),k--;for(;b--;){if(w===_||_!==null&&w===_.alternate)break t;w=yo(w),_=yo(_)}w=null}else w=null;p!==null&&l1(h,f,p,w,!1),g!==null&&y!==null&&l1(h,y,g,w,!0)}}e:{if(f=u?Mo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=d8;else if(e1(f))if($N)C=p8;else{C=f8;var S=h8}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=m8);if(C&&(C=C(e,u))){LN(h,C,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&jg(f,"number",f.value)}switch(S=u?Mo(u):window,e){case"focusin":(e1(S)||S.contentEditable==="true")&&($o=S,$g=u,Ec=null);break;case"focusout":Ec=$g=$o=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,a1(h,r,d);break;case"selectionchange":if(y8)break;case"keydown":case"keyup":a1(h,r,d)}var j;if(c0)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Lo?IN(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(ON&&r.locale!=="ko"&&(Lo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Lo&&(j=AN()):(Ua=d,s0="value"in Ua?Ua.value:Ua.textContent,Lo=!0)),S=Lh(u,N),0<S.length&&(N=new Xb(N,e,null,r,d),h.push({event:N,listeners:S}),j?N.data=j:(j=DN(r),j!==null&&(N.data=j)))),(j=s8?o8(e,r):l8(e,r))&&(u=Lh(u,"onBeforeInput"),0<u.length&&(d=new Xb("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=j))}VN(h,t)})}function Jc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Hc(e,r),a!=null&&n.unshift(Jc(e,a,i)),a=Hc(e,t),a!=null&&n.push(Jc(e,a,i))),e=e.return}return n}function yo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function l1(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Hc(r,a),c!=null&&s.unshift(Jc(r,c,l))):i||(c=Hc(r,a),c!=null&&s.push(Jc(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var b8=/\r\n?/g,k8=/\u0000|\uFFFD/g;function c1(e){return(typeof e=="string"?e:""+e).replace(b8,`
`).replace(k8,"")}function jd(e,t,r){if(t=c1(t),c1(e)!==t&&r)throw Error(ae(425))}function $h(){}var Mg=null,Bg=null;function Fg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zg=typeof setTimeout=="function"?setTimeout:void 0,j8=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,S8=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(e){return u1.resolve(null).then(e).catch(C8)}:zg;function C8(e){setTimeout(function(){throw e})}function _v(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Kc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Kc(t)}function Ya(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function d1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),Ti="__reactFiber$"+Tl,Qc="__reactProps$"+Tl,sa="__reactContainer$"+Tl,Ug="__reactEvents$"+Tl,N8="__reactListeners$"+Tl,T8="__reactHandles$"+Tl;function As(e){var t=e[Ti];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sa]||r[Ti]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=d1(e);e!==null;){if(r=e[Ti])return r;e=d1(e)}return t}e=r,r=e.parentNode}return null}function Du(e){return e=e[Ti]||e[sa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function vm(e){return e[Qc]||null}var Wg=[],Bo=-1;function ds(e){return{current:e}}function dt(e){0>Bo||(e.current=Wg[Bo],Wg[Bo]=null,Bo--)}function st(e,t){Bo++,Wg[Bo]=e.current,e.current=t}var is={},Dr=ds(is),tn=ds(!1),Ks=is;function ol(e,t){var r=e.type.contextTypes;if(!r)return is;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rn(e){return e=e.childContextTypes,e!=null}function Rh(){dt(tn),dt(Dr)}function h1(e,t,r){if(Dr.current!==is)throw Error(ae(168));st(Dr,t),st(tn,r)}function GN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ae(108,hM(e)||"Unknown",i));return Tt({},r,n)}function Mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||is,Ks=Dr.current,st(Dr,e),st(tn,tn.current),!0}function f1(e,t,r){var n=e.stateNode;if(!n)throw Error(ae(169));r?(e=GN(e,t,Ks),n.__reactInternalMemoizedMergedChildContext=e,dt(tn),dt(Dr),st(Dr,e)):dt(tn),st(tn,r)}var Vi=null,gm=!1,wv=!1;function YN(e){Vi===null?Vi=[e]:Vi.push(e)}function E8(e){gm=!0,YN(e)}function hs(){if(!wv&&Vi!==null){wv=!0;var e=0,t=Ze;try{var r=Vi;for(Ze=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vi=null,gm=!1}catch(i){throw Vi!==null&&(Vi=Vi.slice(e+1)),wN(r0,hs),i}finally{Ze=t,wv=!1}}return null}var Fo=[],zo=0,Bh=null,Fh=0,Dn=[],Ln=0,Gs=null,Yi=1,Xi="";function ks(e,t){Fo[zo++]=Fh,Fo[zo++]=Bh,Bh=e,Fh=t}function XN(e,t,r){Dn[Ln++]=Yi,Dn[Ln++]=Xi,Dn[Ln++]=Gs,Gs=e;var n=Yi;e=Xi;var i=32-ai(n)-1;n&=~(1<<i),r+=1;var a=32-ai(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Yi=1<<32-ai(t)+i|r<<i|n,Xi=a+e}else Yi=1<<a|r<<i|n,Xi=e}function d0(e){e.return!==null&&(ks(e,1),XN(e,1,0))}function h0(e){for(;e===Bh;)Bh=Fo[--zo],Fo[zo]=null,Fh=Fo[--zo],Fo[zo]=null;for(;e===Gs;)Gs=Dn[--Ln],Dn[Ln]=null,Xi=Dn[--Ln],Dn[Ln]=null,Yi=Dn[--Ln],Dn[Ln]=null}var xn=null,yn=null,wt=!1,ei=null;function JN(e,t){var r=$n(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function m1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,yn=Ya(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gs!==null?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=$n(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xn=e,yn=null,!0):!1;default:return!1}}function Hg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qg(e){if(wt){var t=yn;if(t){var r=t;if(!m1(e,t)){if(Hg(e))throw Error(ae(418));t=Ya(r.nextSibling);var n=xn;t&&m1(e,t)?JN(n,r):(e.flags=e.flags&-4097|2,wt=!1,xn=e)}}else{if(Hg(e))throw Error(ae(418));e.flags=e.flags&-4097|2,wt=!1,xn=e}}}function p1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function Sd(e){if(e!==xn)return!1;if(!wt)return p1(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fg(e.type,e.memoizedProps)),t&&(t=yn)){if(Hg(e))throw QN(),Error(ae(418));for(;t;)JN(e,t),t=Ya(t.nextSibling)}if(p1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yn=Ya(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yn=null}}else yn=xn?Ya(e.stateNode.nextSibling):null;return!0}function QN(){for(var e=yn;e;)e=Ya(e.nextSibling)}function ll(){yn=xn=null,wt=!1}function f0(e){ei===null?ei=[e]:ei.push(e)}var P8=_a.ReactCurrentBatchConfig;function ec(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var l=i.refs;s===null?delete l[a]:l[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,e))}return e}function Cd(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v1(e){var t=e._init;return t(e._payload)}function ZN(e){function t(_,b){if(e){var k=_.deletions;k===null?(_.deletions=[b],_.flags|=16):k.push(b)}}function r(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function n(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=Za(_,b),_.index=0,_.sibling=null,_}function a(_,b,k){return _.index=k,e?(k=_.alternate,k!==null?(k=k.index,k<b?(_.flags|=2,b):k):(_.flags|=2,b)):(_.flags|=1048576,b)}function s(_){return e&&_.alternate===null&&(_.flags|=2),_}function l(_,b,k,x){return b===null||b.tag!==6?(b=Nv(k,_.mode,x),b.return=_,b):(b=i(b,k),b.return=_,b)}function c(_,b,k,x){var C=k.type;return C===Do?d(_,b,k.props.children,x,k.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oa&&v1(C)===b.type)?(x=i(b,k.props),x.ref=ec(_,b,k),x.return=_,x):(x=yh(k.type,k.key,k.props,null,_.mode,x),x.ref=ec(_,b,k),x.return=_,x)}function u(_,b,k,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==k.containerInfo||b.stateNode.implementation!==k.implementation?(b=Tv(k,_.mode,x),b.return=_,b):(b=i(b,k.children||[]),b.return=_,b)}function d(_,b,k,x,C){return b===null||b.tag!==7?(b=zs(k,_.mode,x,C),b.return=_,b):(b=i(b,k),b.return=_,b)}function h(_,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Nv(""+b,_.mode,k),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pd:return k=yh(b.type,b.key,b.props,null,_.mode,k),k.ref=ec(_,null,b),k.return=_,k;case Io:return b=Tv(b,_.mode,k),b.return=_,b;case Oa:var x=b._init;return h(_,x(b._payload),k)}if(yc(b)||Yl(b))return b=zs(b,_.mode,k,null),b.return=_,b;Cd(_,b)}return null}function f(_,b,k,x){var C=b!==null?b.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return C!==null?null:l(_,b,""+k,x);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case pd:return k.key===C?c(_,b,k,x):null;case Io:return k.key===C?u(_,b,k,x):null;case Oa:return C=k._init,f(_,b,C(k._payload),x)}if(yc(k)||Yl(k))return C!==null?null:d(_,b,k,x,null);Cd(_,k)}return null}function p(_,b,k,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(k)||null,l(b,_,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case pd:return _=_.get(x.key===null?k:x.key)||null,c(b,_,x,C);case Io:return _=_.get(x.key===null?k:x.key)||null,u(b,_,x,C);case Oa:var S=x._init;return p(_,b,k,S(x._payload),C)}if(yc(x)||Yl(x))return _=_.get(k)||null,d(b,_,x,C,null);Cd(b,x)}return null}function g(_,b,k,x){for(var C=null,S=null,j=b,N=b=0,T=null;j!==null&&N<k.length;N++){j.index>N?(T=j,j=null):T=j.sibling;var P=f(_,j,k[N],x);if(P===null){j===null&&(j=T);break}e&&j&&P.alternate===null&&t(_,j),b=a(P,b,N),S===null?C=P:S.sibling=P,S=P,j=T}if(N===k.length)return r(_,j),wt&&ks(_,N),C;if(j===null){for(;N<k.length;N++)j=h(_,k[N],x),j!==null&&(b=a(j,b,N),S===null?C=j:S.sibling=j,S=j);return wt&&ks(_,N),C}for(j=n(_,j);N<k.length;N++)T=p(j,_,N,k[N],x),T!==null&&(e&&T.alternate!==null&&j.delete(T.key===null?N:T.key),b=a(T,b,N),S===null?C=T:S.sibling=T,S=T);return e&&j.forEach(function(I){return t(_,I)}),wt&&ks(_,N),C}function w(_,b,k,x){var C=Yl(k);if(typeof C!="function")throw Error(ae(150));if(k=C.call(k),k==null)throw Error(ae(151));for(var S=C=null,j=b,N=b=0,T=null,P=k.next();j!==null&&!P.done;N++,P=k.next()){j.index>N?(T=j,j=null):T=j.sibling;var I=f(_,j,P.value,x);if(I===null){j===null&&(j=T);break}e&&j&&I.alternate===null&&t(_,j),b=a(I,b,N),S===null?C=I:S.sibling=I,S=I,j=T}if(P.done)return r(_,j),wt&&ks(_,N),C;if(j===null){for(;!P.done;N++,P=k.next())P=h(_,P.value,x),P!==null&&(b=a(P,b,N),S===null?C=P:S.sibling=P,S=P);return wt&&ks(_,N),C}for(j=n(_,j);!P.done;N++,P=k.next())P=p(j,_,N,P.value,x),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?N:P.key),b=a(P,b,N),S===null?C=P:S.sibling=P,S=P);return e&&j.forEach(function(E){return t(_,E)}),wt&&ks(_,N),C}function y(_,b,k,x){if(typeof k=="object"&&k!==null&&k.type===Do&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case pd:e:{for(var C=k.key,S=b;S!==null;){if(S.key===C){if(C=k.type,C===Do){if(S.tag===7){r(_,S.sibling),b=i(S,k.props.children),b.return=_,_=b;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Oa&&v1(C)===S.type){r(_,S.sibling),b=i(S,k.props),b.ref=ec(_,S,k),b.return=_,_=b;break e}r(_,S);break}else t(_,S);S=S.sibling}k.type===Do?(b=zs(k.props.children,_.mode,x,k.key),b.return=_,_=b):(x=yh(k.type,k.key,k.props,null,_.mode,x),x.ref=ec(_,b,k),x.return=_,_=x)}return s(_);case Io:e:{for(S=k.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===k.containerInfo&&b.stateNode.implementation===k.implementation){r(_,b.sibling),b=i(b,k.children||[]),b.return=_,_=b;break e}else{r(_,b);break}else t(_,b);b=b.sibling}b=Tv(k,_.mode,x),b.return=_,_=b}return s(_);case Oa:return S=k._init,y(_,b,S(k._payload),x)}if(yc(k))return g(_,b,k,x);if(Yl(k))return w(_,b,k,x);Cd(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,b!==null&&b.tag===6?(r(_,b.sibling),b=i(b,k),b.return=_,_=b):(r(_,b),b=Nv(k,_.mode,x),b.return=_,_=b),s(_)):r(_,b)}return y}var cl=ZN(!0),eT=ZN(!1),zh=ds(null),Uh=null,Uo=null,m0=null;function p0(){m0=Uo=Uh=null}function v0(e){var t=zh.current;dt(zh),e._currentValue=t}function Vg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Zo(e,t){Uh=e,m0=Uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qr=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(m0!==e)if(e={context:e,memoizedValue:t,next:null},Uo===null){if(Uh===null)throw Error(ae(308));Uo=e,Uh.dependencies={lanes:0,firstContext:e}}else Uo=Uo.next=e;return t}var Os=null;function g0(e){Os===null?Os=[e]:Os.push(e)}function tT(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,g0(t)):(r.next=i.next,i.next=r),t.interleaved=r,oa(e,n)}function oa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ia=!1;function y0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Be&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,oa(e,r)}return i=n.interleaved,i===null?(t.next=t,g0(n)):(t.next=i.next,i.next=t),n.interleaved=t,oa(e,r)}function hh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n0(e,r)}}function g1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wh(e,t,r,n){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;s=0,d=u=c=null,l=a;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(f=t,p=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Tt({},h,f);break e;case 2:Ia=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Xs|=s,e.lanes=s,e.memoizedState=h}}function y1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var Lu={},Di=ds(Lu),Zc=ds(Lu),eu=ds(Lu);function Is(e){if(e===Lu)throw Error(ae(174));return e}function _0(e,t){switch(st(eu,t),st(Zc,e),st(Di,Lu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cg(t,e)}dt(Di),st(Di,t)}function ul(){dt(Di),dt(Zc),dt(eu)}function nT(e){Is(eu.current);var t=Is(Di.current),r=Cg(t,e.type);t!==r&&(st(Zc,e),st(Di,r))}function w0(e){Zc.current===e&&(dt(Di),dt(Zc))}var jt=ds(0);function Hh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xv=[];function x0(){for(var e=0;e<xv.length;e++)xv[e]._workInProgressVersionPrimary=null;xv.length=0}var fh=_a.ReactCurrentDispatcher,bv=_a.ReactCurrentBatchConfig,Ys=0,Ct=null,Zt=null,hr=null,qh=!1,Pc=!1,tu=0,A8=0;function Tr(){throw Error(ae(321))}function b0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!li(e[r],t[r]))return!1;return!0}function k0(e,t,r,n,i,a){if(Ys=a,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fh.current=e===null||e.memoizedState===null?L8:$8,e=r(n,i),Pc){a=0;do{if(Pc=!1,tu=0,25<=a)throw Error(ae(301));a+=1,hr=Zt=null,t.updateQueue=null,fh.current=R8,e=r(n,i)}while(Pc)}if(fh.current=Vh,t=Zt!==null&&Zt.next!==null,Ys=0,hr=Zt=Ct=null,qh=!1,t)throw Error(ae(300));return e}function j0(){var e=tu!==0;return tu=0,e}function Ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hr===null?Ct.memoizedState=hr=e:hr=hr.next=e,hr}function Fn(){if(Zt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var t=hr===null?Ct.memoizedState:hr.next;if(t!==null)hr=t,Zt=e;else{if(e===null)throw Error(ae(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},hr===null?Ct.memoizedState=hr=e:hr=hr.next=e}return hr}function ru(e,t){return typeof t=="function"?t(e):t}function kv(e){var t=Fn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=Zt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((Ys&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,s=n):c=c.next=h,Ct.lanes|=d,Xs|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=l,li(n,t.memoizedState)||(Qr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Ct.lanes|=a,Xs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function jv(e){var t=Fn(),r=t.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);li(a,t.memoizedState)||(Qr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function iT(){}function aT(e,t){var r=Ct,n=Fn(),i=t(),a=!li(n.memoizedState,i);if(a&&(n.memoizedState=i,Qr=!0),n=n.queue,S0(lT.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||hr!==null&&hr.memoizedState.tag&1){if(r.flags|=2048,nu(9,oT.bind(null,r,n,i,t),void 0,null),pr===null)throw Error(ae(349));Ys&30||sT(r,t,i)}return i}function sT(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function oT(e,t,r,n){t.value=r,t.getSnapshot=n,cT(t)&&uT(e)}function lT(e,t,r){return r(function(){cT(t)&&uT(e)})}function cT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!li(e,r)}catch{return!0}}function uT(e){var t=oa(e,1);t!==null&&si(t,e,1,-1)}function _1(e){var t=Ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:e},t.queue=e,e=e.dispatch=D8.bind(null,Ct,e),[t.memoizedState,e]}function nu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dT(){return Fn().memoizedState}function mh(e,t,r,n){var i=Ci();Ct.flags|=e,i.memoizedState=nu(1|t,r,void 0,n===void 0?null:n)}function ym(e,t,r,n){var i=Fn();n=n===void 0?null:n;var a=void 0;if(Zt!==null){var s=Zt.memoizedState;if(a=s.destroy,n!==null&&b0(n,s.deps)){i.memoizedState=nu(t,r,a,n);return}}Ct.flags|=e,i.memoizedState=nu(1|t,r,a,n)}function w1(e,t){return mh(8390656,8,e,t)}function S0(e,t){return ym(2048,8,e,t)}function hT(e,t){return ym(4,2,e,t)}function fT(e,t){return ym(4,4,e,t)}function mT(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pT(e,t,r){return r=r!=null?r.concat([e]):null,ym(4,4,mT.bind(null,t,e),r)}function C0(){}function vT(e,t){var r=Fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function gT(e,t){var r=Fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yT(e,t,r){return Ys&21?(li(r,t)||(r=kN(),Ct.lanes|=r,Xs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qr=!0),e.memoizedState=r)}function O8(e,t){var r=Ze;Ze=r!==0&&4>r?r:4,e(!0);var n=bv.transition;bv.transition={};try{e(!1),t()}finally{Ze=r,bv.transition=n}}function _T(){return Fn().memoizedState}function I8(e,t,r){var n=Qa(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wT(e))xT(t,r);else if(r=tT(e,t,r,n),r!==null){var i=zr();si(r,e,n,i),bT(r,t,n)}}function D8(e,t,r){var n=Qa(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wT(e))xT(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,r);if(i.hasEagerState=!0,i.eagerState=l,li(l,s)){var c=t.interleaved;c===null?(i.next=i,g0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=tT(e,t,i,n),r!==null&&(i=zr(),si(r,e,n,i),bT(r,t,n))}}function wT(e){var t=e.alternate;return e===Ct||t!==null&&t===Ct}function xT(e,t){Pc=qh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bT(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,n0(e,r)}}var Vh={readContext:Bn,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},L8={readContext:Bn,useCallback:function(e,t){return Ci().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:w1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mh(4194308,4,mT.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mh(4194308,4,e,t)},useInsertionEffect:function(e,t){return mh(4,2,e,t)},useMemo:function(e,t){var r=Ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ci();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=I8.bind(null,Ct,e),[n.memoizedState,e]},useRef:function(e){var t=Ci();return e={current:e},t.memoizedState=e},useState:_1,useDebugValue:C0,useDeferredValue:function(e){return Ci().memoizedState=e},useTransition:function(){var e=_1(!1),t=e[0];return e=O8.bind(null,e[1]),Ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ct,i=Ci();if(wt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=t(),pr===null)throw Error(ae(349));Ys&30||sT(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,w1(lT.bind(null,n,a,e),[e]),n.flags|=2048,nu(9,oT.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ci(),t=pr.identifierPrefix;if(wt){var r=Xi,n=Yi;r=(n&~(1<<32-ai(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tu++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=A8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$8={readContext:Bn,useCallback:vT,useContext:Bn,useEffect:S0,useImperativeHandle:pT,useInsertionEffect:hT,useLayoutEffect:fT,useMemo:gT,useReducer:kv,useRef:dT,useState:function(){return kv(ru)},useDebugValue:C0,useDeferredValue:function(e){var t=Fn();return yT(t,Zt.memoizedState,e)},useTransition:function(){var e=kv(ru)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:iT,useSyncExternalStore:aT,useId:_T,unstable_isNewReconciler:!1},R8={readContext:Bn,useCallback:vT,useContext:Bn,useEffect:S0,useImperativeHandle:pT,useInsertionEffect:hT,useLayoutEffect:fT,useMemo:gT,useReducer:jv,useRef:dT,useState:function(){return jv(ru)},useDebugValue:C0,useDeferredValue:function(e){var t=Fn();return Zt===null?t.memoizedState=e:yT(t,Zt.memoizedState,e)},useTransition:function(){var e=jv(ru)[0],t=Fn().memoizedState;return[e,t]},useMutableSource:iT,useSyncExternalStore:aT,useId:_T,unstable_isNewReconciler:!1};function Xn(e,t){if(e&&e.defaultProps){t=Tt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Kg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Tt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var _m={isMounted:function(e){return(e=e._reactInternals)?co(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=zr(),i=Qa(e),a=Zi(n,i);a.payload=t,r!=null&&(a.callback=r),t=Xa(e,a,i),t!==null&&(si(t,e,i,n),hh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=zr(),i=Qa(e),a=Zi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Xa(e,a,i),t!==null&&(si(t,e,i,n),hh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=zr(),n=Qa(e),i=Zi(r,n);i.tag=2,t!=null&&(i.callback=t),t=Xa(e,i,n),t!==null&&(si(t,e,n,r),hh(t,e,n))}};function x1(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Yc(r,n)||!Yc(i,a):!0}function kT(e,t,r){var n=!1,i=is,a=t.contextType;return typeof a=="object"&&a!==null?a=Bn(a):(i=rn(t)?Ks:Dr.current,n=t.contextTypes,a=(n=n!=null)?ol(e,i):is),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_m,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function b1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&_m.enqueueReplaceState(t,t.state,null)}function Gg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},y0(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bn(a):(a=rn(t)?Ks:Dr.current,i.context=ol(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Kg(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&_m.enqueueReplaceState(i,i.state,null),Wh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function dl(e,t){try{var r="",n=t;do r+=dM(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Sv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var M8=typeof WeakMap=="function"?WeakMap:Map;function jT(e,t,r){r=Zi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gh||(Gh=!0,ay=n),Yg(e,t)},r}function ST(e,t,r){r=Zi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Yg(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yg(e,t),typeof n!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function k1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new M8;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Q8.bind(null,e,t,r),t.then(e,e))}function j1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function S1(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Zi(-1,1),t.tag=2,Xa(r,t,1))),r.lanes|=1),e)}var B8=_a.ReactCurrentOwner,Qr=!1;function Mr(e,t,r,n){t.child=e===null?eT(t,null,r,n):cl(t,e.child,r,n)}function C1(e,t,r,n,i){r=r.render;var a=t.ref;return Zo(t,i),n=k0(e,t,r,n,a,i),r=j0(),e!==null&&!Qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(wt&&r&&d0(t),t.flags|=1,Mr(e,t,n,i),t.child)}function N1(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!D0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CT(e,t,a,n,i)):(e=yh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Yc,r(s,n)&&e.ref===t.ref)return la(e,t,i)}return t.flags|=1,e=Za(a,n),e.ref=t.ref,e.return=t,t.child=e}function CT(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Yc(a,n)&&e.ref===t.ref)if(Qr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Qr=!0);else return t.lanes=e.lanes,la(e,t,i)}return Xg(e,t,r,n,i)}function NT(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ho,pn),pn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Ho,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(Ho,pn),pn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(Ho,pn),pn|=n;return Mr(e,t,i,r),t.child}function TT(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xg(e,t,r,n,i){var a=rn(r)?Ks:Dr.current;return a=ol(t,a),Zo(t,i),r=k0(e,t,r,n,a,i),n=j0(),e!==null&&!Qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,la(e,t,i)):(wt&&n&&d0(t),t.flags|=1,Mr(e,t,r,i),t.child)}function T1(e,t,r,n,i){if(rn(r)){var a=!0;Mh(t)}else a=!1;if(Zo(t,i),t.stateNode===null)ph(e,t),kT(t,r,n),Gg(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=rn(r)?Ks:Dr.current,u=ol(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&b1(t,s,n,u),Ia=!1;var f=t.memoizedState;s.state=f,Wh(t,n,s,i),c=t.memoizedState,l!==n||f!==c||tn.current||Ia?(typeof d=="function"&&(Kg(t,r,d,n),c=t.memoizedState),(l=Ia||x1(t,r,l,n,f,c,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,rT(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xn(t.type,l),s.props=u,h=t.pendingProps,f=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=rn(r)?Ks:Dr.current,c=ol(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==h||f!==c)&&b1(t,s,n,c),Ia=!1,f=t.memoizedState,s.state=f,Wh(t,n,s,i);var g=t.memoizedState;l!==h||f!==g||tn.current||Ia?(typeof p=="function"&&(Kg(t,r,p,n),g=t.memoizedState),(u=Ia||x1(t,r,u,n,f,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Jg(e,t,r,n,a,i)}function Jg(e,t,r,n,i,a){TT(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&f1(t,r,!1),la(e,t,a);n=t.stateNode,B8.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=cl(t,e.child,null,a),t.child=cl(t,null,l,a)):Mr(e,t,l,a),t.memoizedState=n.state,i&&f1(t,r,!0),t.child}function ET(e){var t=e.stateNode;t.pendingContext?h1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h1(e,t.context,!1),_0(e,t.containerInfo)}function E1(e,t,r,n,i){return ll(),f0(i),t.flags|=256,Mr(e,t,r,n),t.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function Zg(e){return{baseLanes:e,cachePool:null,transitions:null}}function PT(e,t,r){var n=t.pendingProps,i=jt.current,a=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),st(jt,i&1),e===null)return qg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=bm(s,n,0,null),e=zs(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zg(r),t.memoizedState=Qg,e):N0(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return F8(e,t,s,n,l,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Za(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Za(l,a):(a=zs(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Zg(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Qg,n}return a=e.child,e=a.sibling,n=Za(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function N0(e,t){return t=bm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nd(e,t,r,n){return n!==null&&f0(n),cl(t,e.child,null,r),e=N0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F8(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=Sv(Error(ae(422))),Nd(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=bm({mode:"visible",children:n.children},i,0,null),a=zs(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&cl(t,e.child,null,s),t.child.memoizedState=Zg(s),t.memoizedState=Qg,a);if(!(t.mode&1))return Nd(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(ae(419)),n=Sv(a,n,void 0),Nd(e,t,s,n)}if(l=(s&e.childLanes)!==0,Qr||l){if(n=pr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,oa(e,i),si(n,e,i,-1))}return I0(),n=Sv(Error(ae(421))),Nd(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z8.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,yn=Ya(i.nextSibling),xn=t,wt=!0,ei=null,e!==null&&(Dn[Ln++]=Yi,Dn[Ln++]=Xi,Dn[Ln++]=Gs,Yi=e.id,Xi=e.overflow,Gs=t),t=N0(t,n.children),t.flags|=4096,t)}function P1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vg(e.return,t,r)}function Cv(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function AT(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mr(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&P1(e,r,t);else if(e.tag===19)P1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(jt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Hh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Cv(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Cv(t,!0,r,null,a);break;case"together":Cv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ph(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function la(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,r=Za(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Za(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function z8(e,t,r){switch(t.tag){case 3:ET(t),ll();break;case 5:nT(t);break;case 1:rn(t.type)&&Mh(t);break;case 4:_0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;st(zh,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?PT(e,t,r):(st(jt,jt.current&1),e=la(e,t,r),e!==null?e.sibling:null);st(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return AT(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,NT(e,t,r)}return la(e,t,r)}var OT,ey,IT,DT;OT=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ey=function(){};IT=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Is(Di.current);var a=null;switch(r){case"input":i=bg(e,i),n=bg(e,n),a=[];break;case"select":i=Tt({},i,{value:void 0}),n=Tt({},n,{value:void 0}),a=[];break;case"textarea":i=Sg(e,i),n=Sg(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$h)}Ng(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Uc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&lt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};DT=function(e,t,r,n){r!==n&&(t.flags|=4)};function tc(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U8(e,t,r){var n=t.pendingProps;switch(h0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return rn(t.type)&&Rh(),Er(t),null;case 3:return n=t.stateNode,ul(),dt(tn),dt(Dr),x0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ei!==null&&(ly(ei),ei=null))),ey(e,t),Er(t),null;case 5:w0(t);var i=Is(eu.current);if(r=t.type,e!==null&&t.stateNode!=null)IT(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ae(166));return Er(t),null}if(e=Is(Di.current),Sd(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ti]=t,n[Qc]=a,e=(t.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<wc.length;i++)lt(wc[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":Bb(n,a),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},lt("invalid",n);break;case"textarea":zb(n,a),lt("invalid",n)}Ng(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&jd(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&jd(n.textContent,l,e),i=["children",""+l]):Uc.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&lt("scroll",n)}switch(r){case"input":vd(n),Fb(n,a,!0);break;case"textarea":vd(n),Ub(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=$h)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ti]=t,e[Qc]=n,OT(e,t,!1,!1),t.stateNode=e;e:{switch(s=Tg(r,n),r){case"dialog":lt("cancel",e),lt("close",e),i=n;break;case"iframe":case"object":case"embed":lt("load",e),i=n;break;case"video":case"audio":for(i=0;i<wc.length;i++)lt(wc[i],e);i=n;break;case"source":lt("error",e),i=n;break;case"img":case"image":case"link":lt("error",e),lt("load",e),i=n;break;case"details":lt("toggle",e),i=n;break;case"input":Bb(e,n),i=bg(e,n),lt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Tt({},n,{value:void 0}),lt("invalid",e);break;case"textarea":zb(e,n),i=Sg(e,n),lt("invalid",e);break;default:i=n}Ng(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?dN(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cN(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Wc(e,c):typeof c=="number"&&Wc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Uc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&lt("scroll",e):c!=null&&J_(e,a,c,s))}switch(r){case"input":vd(e),Fb(e,n,!1);break;case"textarea":vd(e),Ub(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ns(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Yo(e,!!n.multiple,a,!1):n.defaultValue!=null&&Yo(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$h)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)DT(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ae(166));if(r=Is(eu.current),Is(Di.current),Sd(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ti]=t,(a=n.nodeValue!==r)&&(e=xn,e!==null))switch(e.tag){case 3:jd(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jd(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ti]=t,t.stateNode=n}return Er(t),null;case 13:if(dt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&yn!==null&&t.mode&1&&!(t.flags&128))QN(),ll(),t.flags|=98560,a=!1;else if(a=Sd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ae(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ae(317));a[Ti]=t}else ll(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),a=!1}else ei!==null&&(ly(ei),ei=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?nr===0&&(nr=3):I0())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return ul(),ey(e,t),e===null&&Xc(t.stateNode.containerInfo),Er(t),null;case 10:return v0(t.type._context),Er(t),null;case 17:return rn(t.type)&&Rh(),Er(t),null;case 19:if(dt(jt),a=t.memoizedState,a===null)return Er(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)tc(a,!1);else{if(nr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Hh(e),s!==null){for(t.flags|=128,tc(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(jt,jt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Bt()>hl&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Hh(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!wt)return Er(t),null}else 2*Bt()-a.renderingStartTime>hl&&r!==1073741824&&(t.flags|=128,n=!0,tc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Bt(),t.sibling=null,r=jt.current,st(jt,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return O0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pn&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function W8(e,t){switch(h0(t),t.tag){case 1:return rn(t.type)&&Rh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ul(),dt(tn),dt(Dr),x0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return w0(t),null;case 13:if(dt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));ll()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(jt),null;case 4:return ul(),null;case 10:return v0(t.type._context),null;case 22:case 23:return O0(),null;case 24:return null;default:return null}}var Td=!1,Ar=!1,H8=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Wo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Dt(e,t,n)}else r.current=null}function ty(e,t,r){try{r()}catch(n){Dt(e,t,n)}}var A1=!1;function q8(e,t){if(Mg=Ih,e=BN(),u0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(l=s+i),h!==a||n!==0&&h.nodeType!==3||(c=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===i&&(l=s),f===a&&++d===n&&(c=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bg={focusedElem:e,selectionRange:r},Ih=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,y=g.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?w:Xn(t.type,w),y);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(x){Dt(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return g=A1,A1=!1,g}function Ac(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&ty(t,r,a)}i=i.next}while(i!==n)}}function wm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ry(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LT(e){var t=e.alternate;t!==null&&(e.alternate=null,LT(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Qc],delete t[Ug],delete t[N8],delete t[T8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $T(e){return e.tag===5||e.tag===3||e.tag===4}function O1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$T(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ny(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$h));else if(n!==4&&(e=e.child,e!==null))for(ny(e,t,r),e=e.sibling;e!==null;)ny(e,t,r),e=e.sibling}function iy(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(iy(e,t,r),e=e.sibling;e!==null;)iy(e,t,r),e=e.sibling}var kr=null,Qn=!1;function Aa(e,t,r){for(r=r.child;r!==null;)RT(e,t,r),r=r.sibling}function RT(e,t,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(hm,r)}catch{}switch(r.tag){case 5:Ar||Wo(r,t);case 6:var n=kr,i=Qn;kr=null,Aa(e,t,r),kr=n,Qn=i,kr!==null&&(Qn?(e=kr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kr.removeChild(r.stateNode));break;case 18:kr!==null&&(Qn?(e=kr,r=r.stateNode,e.nodeType===8?_v(e.parentNode,r):e.nodeType===1&&_v(e,r),Kc(e)):_v(kr,r.stateNode));break;case 4:n=kr,i=Qn,kr=r.stateNode.containerInfo,Qn=!0,Aa(e,t,r),kr=n,Qn=i;break;case 0:case 11:case 14:case 15:if(!Ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&ty(r,t,s),i=i.next}while(i!==n)}Aa(e,t,r);break;case 1:if(!Ar&&(Wo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Dt(r,t,l)}Aa(e,t,r);break;case 21:Aa(e,t,r);break;case 22:r.mode&1?(Ar=(n=Ar)||r.memoizedState!==null,Aa(e,t,r),Ar=n):Aa(e,t,r);break;default:Aa(e,t,r)}}function I1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new H8),t.forEach(function(n){var i=eB.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:kr=l.stateNode,Qn=!1;break e;case 3:kr=l.stateNode.containerInfo,Qn=!0;break e;case 4:kr=l.stateNode.containerInfo,Qn=!0;break e}l=l.return}if(kr===null)throw Error(ae(160));RT(a,s,i),kr=null,Qn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Dt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)MT(t,e),t=t.sibling}function MT(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),bi(e),n&4){try{Ac(3,e,e.return),wm(3,e)}catch(w){Dt(e,e.return,w)}try{Ac(5,e,e.return)}catch(w){Dt(e,e.return,w)}}break;case 1:Gn(t,e),bi(e),n&512&&r!==null&&Wo(r,r.return);break;case 5:if(Gn(t,e),bi(e),n&512&&r!==null&&Wo(r,r.return),e.flags&32){var i=e.stateNode;try{Wc(i,"")}catch(w){Dt(e,e.return,w)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&sN(i,a),Tg(l,s);var u=Tg(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];d==="style"?dN(i,h):d==="dangerouslySetInnerHTML"?cN(i,h):d==="children"?Wc(i,h):J_(i,d,h,u)}switch(l){case"input":kg(i,a);break;case"textarea":oN(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?Yo(i,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?Yo(i,!!a.multiple,a.defaultValue,!0):Yo(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qc]=a}catch(w){Dt(e,e.return,w)}}break;case 6:if(Gn(t,e),bi(e),n&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(w){Dt(e,e.return,w)}}break;case 3:if(Gn(t,e),bi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Kc(t.containerInfo)}catch(w){Dt(e,e.return,w)}break;case 4:Gn(t,e),bi(e);break;case 13:Gn(t,e),bi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(P0=Bt())),n&4&&I1(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ar=(u=Ar)||d,Gn(t,e),Ar=u):Gn(t,e),bi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(h=ve=d;ve!==null;){switch(f=ve,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ac(4,f,f.return);break;case 1:Wo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){Dt(n,r,w)}}break;case 5:Wo(f,f.return);break;case 22:if(f.memoizedState!==null){L1(h);continue}}p!==null?(p.return=f,ve=p):L1(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uN("display",s))}catch(w){Dt(e,e.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Dt(e,e.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gn(t,e),bi(e),n&4&&I1(e);break;case 21:break;default:Gn(t,e),bi(e)}}function bi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($T(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Wc(i,""),n.flags&=-33);var a=O1(e);iy(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,l=O1(e);ny(e,l,s);break;default:throw Error(ae(161))}}catch(c){Dt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V8(e,t,r){ve=e,BT(e)}function BT(e,t,r){for(var n=(e.mode&1)!==0;ve!==null;){var i=ve,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Td;if(!s){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Ar;l=Td;var u=Ar;if(Td=s,(Ar=c)&&!u)for(ve=i;ve!==null;)s=ve,c=s.child,s.tag===22&&s.memoizedState!==null?$1(i):c!==null?(c.return=s,ve=c):$1(i);for(;a!==null;)ve=a,BT(a),a=a.sibling;ve=i,Td=l,Ar=u}D1(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ve=a):D1(e)}}function D1(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ar||wm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ar)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Xn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&y1(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}y1(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Kc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Ar||t.flags&512&&ry(t)}catch(f){Dt(t,t.return,f)}}if(t===e){ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,ve=r;break}ve=t.return}}function L1(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ve=r;break}ve=t.return}}function $1(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wm(4,t)}catch(c){Dt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Dt(t,i,c)}}var a=t.return;try{ry(t)}catch(c){Dt(t,a,c)}break;case 5:var s=t.return;try{ry(t)}catch(c){Dt(t,s,c)}}}catch(c){Dt(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var K8=Math.ceil,Kh=_a.ReactCurrentDispatcher,T0=_a.ReactCurrentOwner,Mn=_a.ReactCurrentBatchConfig,Be=0,pr=null,Wt=null,Sr=0,pn=0,Ho=ds(0),nr=0,iu=null,Xs=0,xm=0,E0=0,Oc=null,Jr=null,P0=0,hl=1/0,Hi=null,Gh=!1,ay=null,Ja=null,Ed=!1,Wa=null,Yh=0,Ic=0,sy=null,vh=-1,gh=0;function zr(){return Be&6?Bt():vh!==-1?vh:vh=Bt()}function Qa(e){return e.mode&1?Be&2&&Sr!==0?Sr&-Sr:P8.transition!==null?(gh===0&&(gh=kN()),gh):(e=Ze,e!==0||(e=window.event,e=e===void 0?16:PN(e.type)),e):1}function si(e,t,r,n){if(50<Ic)throw Ic=0,sy=null,Error(ae(185));Ou(e,r,n),(!(Be&2)||e!==pr)&&(e===pr&&(!(Be&2)&&(xm|=r),nr===4&&Ba(e,Sr)),nn(e,n),r===1&&Be===0&&!(t.mode&1)&&(hl=Bt()+500,gm&&hs()))}function nn(e,t){var r=e.callbackNode;PM(e,t);var n=Oh(e,e===pr?Sr:0);if(n===0)r!==null&&qb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qb(r),t===1)e.tag===0?E8(R1.bind(null,e)):YN(R1.bind(null,e)),S8(function(){!(Be&6)&&hs()}),r=null;else{switch(jN(n)){case 1:r=r0;break;case 4:r=xN;break;case 16:r=Ah;break;case 536870912:r=bN;break;default:r=Ah}r=KT(r,FT.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FT(e,t){if(vh=-1,gh=0,Be&6)throw Error(ae(327));var r=e.callbackNode;if(el()&&e.callbackNode!==r)return null;var n=Oh(e,e===pr?Sr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xh(e,n);else{t=n;var i=Be;Be|=2;var a=UT();(pr!==e||Sr!==t)&&(Hi=null,hl=Bt()+500,Fs(e,t));do try{X8();break}catch(l){zT(e,l)}while(!0);p0(),Kh.current=a,Be=i,Wt!==null?t=0:(pr=null,Sr=0,t=nr)}if(t!==0){if(t===2&&(i=Ig(e),i!==0&&(n=i,t=oy(e,i))),t===1)throw r=iu,Fs(e,0),Ba(e,n),nn(e,Bt()),r;if(t===6)Ba(e,n);else{if(i=e.current.alternate,!(n&30)&&!G8(i)&&(t=Xh(e,n),t===2&&(a=Ig(e),a!==0&&(n=a,t=oy(e,a))),t===1))throw r=iu,Fs(e,0),Ba(e,n),nn(e,Bt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ae(345));case 2:js(e,Jr,Hi);break;case 3:if(Ba(e,n),(n&130023424)===n&&(t=P0+500-Bt(),10<t)){if(Oh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){zr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zg(js.bind(null,e,Jr,Hi),t);break}js(e,Jr,Hi);break;case 4:if(Ba(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-ai(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K8(n/1960))-n,10<n){e.timeoutHandle=zg(js.bind(null,e,Jr,Hi),n);break}js(e,Jr,Hi);break;case 5:js(e,Jr,Hi);break;default:throw Error(ae(329))}}}return nn(e,Bt()),e.callbackNode===r?FT.bind(null,e):null}function oy(e,t){var r=Oc;return e.current.memoizedState.isDehydrated&&(Fs(e,t).flags|=256),e=Xh(e,t),e!==2&&(t=Jr,Jr=r,t!==null&&ly(t)),e}function ly(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function G8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!li(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ba(e,t){for(t&=~E0,t&=~xm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ai(t),n=1<<r;e[r]=-1,t&=~n}}function R1(e){if(Be&6)throw Error(ae(327));el();var t=Oh(e,0);if(!(t&1))return nn(e,Bt()),null;var r=Xh(e,t);if(e.tag!==0&&r===2){var n=Ig(e);n!==0&&(t=n,r=oy(e,n))}if(r===1)throw r=iu,Fs(e,0),Ba(e,t),nn(e,Bt()),r;if(r===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,Jr,Hi),nn(e,Bt()),null}function A0(e,t){var r=Be;Be|=1;try{return e(t)}finally{Be=r,Be===0&&(hl=Bt()+500,gm&&hs())}}function Js(e){Wa!==null&&Wa.tag===0&&!(Be&6)&&el();var t=Be;Be|=1;var r=Mn.transition,n=Ze;try{if(Mn.transition=null,Ze=1,e)return e()}finally{Ze=n,Mn.transition=r,Be=t,!(Be&6)&&hs()}}function O0(){pn=Ho.current,dt(Ho)}function Fs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j8(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(h0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rh();break;case 3:ul(),dt(tn),dt(Dr),x0();break;case 5:w0(n);break;case 4:ul();break;case 13:dt(jt);break;case 19:dt(jt);break;case 10:v0(n.type._context);break;case 22:case 23:O0()}r=r.return}if(pr=e,Wt=e=Za(e.current,null),Sr=pn=t,nr=0,iu=null,E0=xm=Xs=0,Jr=Oc=null,Os!==null){for(t=0;t<Os.length;t++)if(r=Os[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}Os=null}return e}function zT(e,t){do{var r=Wt;try{if(p0(),fh.current=Vh,qh){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}qh=!1}if(Ys=0,hr=Zt=Ct=null,Pc=!1,tu=0,T0.current=null,r===null||r.return===null){nr=1,iu=t,Wt=null;break}e:{var a=e,s=r.return,l=r,c=t;if(t=Sr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=j1(s);if(p!==null){p.flags&=-257,S1(p,s,l,a,t),p.mode&1&&k1(a,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var w=new Set;w.add(c),t.updateQueue=w}else g.add(c);break e}else{if(!(t&1)){k1(a,u,t),I0();break e}c=Error(ae(426))}}else if(wt&&l.mode&1){var y=j1(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),S1(y,s,l,a,t),f0(dl(c,l));break e}}a=c=dl(c,l),nr!==4&&(nr=2),Oc===null?Oc=[a]:Oc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var _=jT(a,c,t);g1(a,_);break e;case 1:l=c;var b=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ja===null||!Ja.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var x=ST(a,l,t);g1(a,x);break e}}a=a.return}while(a!==null)}HT(r)}catch(C){t=C,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function UT(){var e=Kh.current;return Kh.current=Vh,e===null?Vh:e}function I0(){(nr===0||nr===3||nr===2)&&(nr=4),pr===null||!(Xs&268435455)&&!(xm&268435455)||Ba(pr,Sr)}function Xh(e,t){var r=Be;Be|=2;var n=UT();(pr!==e||Sr!==t)&&(Hi=null,Fs(e,t));do try{Y8();break}catch(i){zT(e,i)}while(!0);if(p0(),Be=r,Kh.current=n,Wt!==null)throw Error(ae(261));return pr=null,Sr=0,nr}function Y8(){for(;Wt!==null;)WT(Wt)}function X8(){for(;Wt!==null&&!xM();)WT(Wt)}function WT(e){var t=VT(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?HT(e):Wt=t,T0.current=null}function HT(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=W8(r,t),r!==null){r.flags&=32767,Wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nr=6,Wt=null;return}}else if(r=U8(r,t,pn),r!==null){Wt=r;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);nr===0&&(nr=5)}function js(e,t,r){var n=Ze,i=Mn.transition;try{Mn.transition=null,Ze=1,J8(e,t,r,n)}finally{Mn.transition=i,Ze=n}return null}function J8(e,t,r,n){do el();while(Wa!==null);if(Be&6)throw Error(ae(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(AM(e,a),e===pr&&(Wt=pr=null,Sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ed||(Ed=!0,KT(Ah,function(){return el(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Mn.transition,Mn.transition=null;var s=Ze;Ze=1;var l=Be;Be|=4,T0.current=null,q8(e,r),MT(r,e),g8(Bg),Ih=!!Mg,Bg=Mg=null,e.current=r,V8(r),bM(),Be=l,Ze=s,Mn.transition=a}else e.current=r;if(Ed&&(Ed=!1,Wa=e,Yh=i),a=e.pendingLanes,a===0&&(Ja=null),SM(r.stateNode),nn(e,Bt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Gh)throw Gh=!1,e=ay,ay=null,e;return Yh&1&&e.tag!==0&&el(),a=e.pendingLanes,a&1?e===sy?Ic++:(Ic=0,sy=e):Ic=0,hs(),null}function el(){if(Wa!==null){var e=jN(Yh),t=Mn.transition,r=Ze;try{if(Mn.transition=null,Ze=16>e?16:e,Wa===null)var n=!1;else{if(e=Wa,Wa=null,Yh=0,Be&6)throw Error(ae(331));var i=Be;for(Be|=4,ve=e.current;ve!==null;){var a=ve,s=a.child;if(ve.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Ac(8,d,a)}var h=d.child;if(h!==null)h.return=d,ve=h;else for(;ve!==null;){d=ve;var f=d.sibling,p=d.return;if(LT(d),d===u){ve=null;break}if(f!==null){f.return=p,ve=f;break}ve=p}}}var g=a.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var y=w.sibling;w.sibling=null,w=y}while(w!==null)}}ve=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ve=s;else e:for(;ve!==null;){if(a=ve,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ac(9,a,a.return)}var _=a.sibling;if(_!==null){_.return=a.return,ve=_;break e}ve=a.return}}var b=e.current;for(ve=b;ve!==null;){s=ve;var k=s.child;if(s.subtreeFlags&2064&&k!==null)k.return=s,ve=k;else e:for(s=b;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wm(9,l)}}catch(C){Dt(l,l.return,C)}if(l===s){ve=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,ve=x;break e}ve=l.return}}if(Be=i,hs(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(hm,e)}catch{}n=!0}return n}finally{Ze=r,Mn.transition=t}}return!1}function M1(e,t,r){t=dl(r,t),t=jT(e,t,1),e=Xa(e,t,1),t=zr(),e!==null&&(Ou(e,1,t),nn(e,t))}function Dt(e,t,r){if(e.tag===3)M1(e,e,r);else for(;t!==null;){if(t.tag===3){M1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ja===null||!Ja.has(n))){e=dl(r,e),e=ST(t,e,1),t=Xa(t,e,1),e=zr(),t!==null&&(Ou(t,1,e),nn(t,e));break}}t=t.return}}function Q8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=zr(),e.pingedLanes|=e.suspendedLanes&r,pr===e&&(Sr&r)===r&&(nr===4||nr===3&&(Sr&130023424)===Sr&&500>Bt()-P0?Fs(e,0):E0|=r),nn(e,t)}function qT(e,t){t===0&&(e.mode&1?(t=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):t=1);var r=zr();e=oa(e,t),e!==null&&(Ou(e,t,r),nn(e,r))}function Z8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qT(e,r)}function eB(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(t),qT(e,r)}var VT;VT=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Qr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qr=!1,z8(e,t,r);Qr=!!(e.flags&131072)}else Qr=!1,wt&&t.flags&1048576&&XN(t,Fh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ph(e,t),e=t.pendingProps;var i=ol(t,Dr.current);Zo(t,r),i=k0(null,t,n,e,i,r);var a=j0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(n)?(a=!0,Mh(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,y0(t),i.updater=_m,t.stateNode=i,i._reactInternals=t,Gg(t,n,e,r),t=Jg(null,t,n,!0,a,r)):(t.tag=0,wt&&a&&d0(t),Mr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ph(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=rB(n),e=Xn(n,e),i){case 0:t=Xg(null,t,n,e,r);break e;case 1:t=T1(null,t,n,e,r);break e;case 11:t=C1(null,t,n,e,r);break e;case 14:t=N1(null,t,n,Xn(n.type,e),r);break e}throw Error(ae(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),Xg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),T1(e,t,n,i,r);case 3:e:{if(ET(t),e===null)throw Error(ae(387));n=t.pendingProps,a=t.memoizedState,i=a.element,rT(e,t),Wh(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=dl(Error(ae(423)),t),t=E1(e,t,n,r,i);break e}else if(n!==i){i=dl(Error(ae(424)),t),t=E1(e,t,n,r,i);break e}else for(yn=Ya(t.stateNode.containerInfo.firstChild),xn=t,wt=!0,ei=null,r=eT(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ll(),n===i){t=la(e,t,r);break e}Mr(e,t,n,r)}t=t.child}return t;case 5:return nT(t),e===null&&qg(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Fg(n,i)?s=null:a!==null&&Fg(n,a)&&(t.flags|=32),TT(e,t),Mr(e,t,s,r),t.child;case 6:return e===null&&qg(t),null;case 13:return PT(e,t,r);case 4:return _0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=cl(t,null,n,r):Mr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),C1(e,t,n,i,r);case 7:return Mr(e,t,t.pendingProps,r),t.child;case 8:return Mr(e,t,t.pendingProps.children,r),t.child;case 12:return Mr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,st(zh,n._currentValue),n._currentValue=s,a!==null)if(li(a.value,s)){if(a.children===i.children&&!tn.current){t=la(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){s=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Zi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Vg(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ae(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Vg(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Mr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Zo(t,r),i=Bn(i),n=n(i),t.flags|=1,Mr(e,t,n,r),t.child;case 14:return n=t.type,i=Xn(n,t.pendingProps),i=Xn(n.type,i),N1(e,t,n,i,r);case 15:return CT(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),ph(e,t),t.tag=1,rn(n)?(e=!0,Mh(t)):e=!1,Zo(t,r),kT(t,n,i),Gg(t,n,i,r),Jg(null,t,n,!0,e,r);case 19:return AT(e,t,r);case 22:return NT(e,t,r)}throw Error(ae(156,t.tag))};function KT(e,t){return wN(e,t)}function tB(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,r,n){return new tB(e,t,r,n)}function D0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rB(e){if(typeof e=="function")return D0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z_)return 11;if(e===e0)return 14}return 2}function Za(e,t){var r=e.alternate;return r===null?(r=$n(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yh(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")D0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Do:return zs(r.children,i,a,t);case Q_:s=8,i|=8;break;case yg:return e=$n(12,r,t,i|2),e.elementType=yg,e.lanes=a,e;case _g:return e=$n(13,r,t,i),e.elementType=_g,e.lanes=a,e;case wg:return e=$n(19,r,t,i),e.elementType=wg,e.lanes=a,e;case nN:return bm(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tN:s=10;break e;case rN:s=9;break e;case Z_:s=11;break e;case e0:s=14;break e;case Oa:s=16,n=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=$n(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function zs(e,t,r,n){return e=$n(7,e,n,t),e.lanes=r,e}function bm(e,t,r,n){return e=$n(22,e,n,t),e.elementType=nN,e.lanes=r,e.stateNode={isHidden:!1},e}function Nv(e,t,r){return e=$n(6,e,null,t),e.lanes=r,e}function Tv(e,t,r){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nB(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lv(0),this.expirationTimes=lv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function L0(e,t,r,n,i,a,s,l,c){return e=new nB(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=$n(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},y0(a),e}function iB(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function GT(e){if(!e)return is;e=e._reactInternals;e:{if(co(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var r=e.type;if(rn(r))return GN(e,r,t)}return t}function YT(e,t,r,n,i,a,s,l,c){return e=L0(r,n,!0,e,i,a,s,l,c),e.context=GT(null),r=e.current,n=zr(),i=Qa(r),a=Zi(n,i),a.callback=t??null,Xa(r,a,i),e.current.lanes=i,Ou(e,i,n),nn(e,n),e}function km(e,t,r,n){var i=t.current,a=zr(),s=Qa(i);return r=GT(r),t.context===null?t.context=r:t.pendingContext=r,t=Zi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xa(i,t,s),e!==null&&(si(e,i,s,a),hh(e,i,s)),s}function Jh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function B1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $0(e,t){B1(e,t),(e=e.alternate)&&B1(e,t)}function aB(){return null}var XT=typeof reportError=="function"?reportError:function(e){console.error(e)};function R0(e){this._internalRoot=e}jm.prototype.render=R0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));km(e,t,null,null)};jm.prototype.unmount=R0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Js(function(){km(null,e,null,null)}),t[sa]=null}};function jm(e){this._internalRoot=e}jm.prototype.unstable_scheduleHydration=function(e){if(e){var t=NN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ma.length&&t!==0&&t<Ma[r].priority;r++);Ma.splice(r,0,e),r===0&&EN(e)}};function M0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function F1(){}function sB(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Jh(s);a.call(u)}}var s=YT(t,n,e,0,null,!1,!1,"",F1);return e._reactRootContainer=s,e[sa]=s.current,Xc(e.nodeType===8?e.parentNode:e),Js(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Jh(c);l.call(u)}}var c=L0(e,0,!1,null,null,!1,!1,"",F1);return e._reactRootContainer=c,e[sa]=c.current,Xc(e.nodeType===8?e.parentNode:e),Js(function(){km(t,c,r,n)}),c}function Cm(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var l=i;i=function(){var c=Jh(s);l.call(c)}}km(t,s,e,i)}else s=sB(r,t,e,i,n);return Jh(s)}SN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_c(t.pendingLanes);r!==0&&(n0(t,r|1),nn(t,Bt()),!(Be&6)&&(hl=Bt()+500,hs()))}break;case 13:Js(function(){var n=oa(e,1);if(n!==null){var i=zr();si(n,e,1,i)}}),$0(e,1)}};i0=function(e){if(e.tag===13){var t=oa(e,134217728);if(t!==null){var r=zr();si(t,e,134217728,r)}$0(e,134217728)}};CN=function(e){if(e.tag===13){var t=Qa(e),r=oa(e,t);if(r!==null){var n=zr();si(r,e,t,n)}$0(e,t)}};NN=function(){return Ze};TN=function(e,t){var r=Ze;try{return Ze=e,t()}finally{Ze=r}};Pg=function(e,t,r){switch(t){case"input":if(kg(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=vm(n);if(!i)throw Error(ae(90));aN(n),kg(n,i)}}}break;case"textarea":oN(e,r);break;case"select":t=r.value,t!=null&&Yo(e,!!r.multiple,t,!1)}};mN=A0;pN=Js;var oB={usingClientEntryPoint:!1,Events:[Du,Mo,vm,hN,fN,A0]},rc={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lB={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yN(e),e===null?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||aB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{hm=Pd.inject(lB),Ii=Pd}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oB;Sn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M0(t))throw Error(ae(200));return iB(e,t,null,r)};Sn.createRoot=function(e,t){if(!M0(e))throw Error(ae(299));var r=!1,n="",i=XT;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=L0(e,1,!1,null,null,r,!1,n,i),e[sa]=t.current,Xc(e.nodeType===8?e.parentNode:e),new R0(t)};Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=yN(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e){return Js(e)};Sn.hydrate=function(e,t,r){if(!Sm(t))throw Error(ae(200));return Cm(null,e,t,!0,r)};Sn.hydrateRoot=function(e,t,r){if(!M0(e))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=XT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=YT(t,null,e,1,r??null,i,!1,a,s),e[sa]=t.current,Xc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new jm(t)};Sn.render=function(e,t,r){if(!Sm(t))throw Error(ae(200));return Cm(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!Sm(e))throw Error(ae(40));return e._reactRootContainer?(Js(function(){Cm(null,null,e,!1,function(){e._reactRootContainer=null,e[sa]=null})}),!0):!1};Sn.unstable_batchedUpdates=A0;Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Sm(r))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Cm(e,t,r,!1,n)};Sn.version="18.3.1-next-f1338f8080-20240426";function JT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JT)}catch(e){console.error(e)}}JT(),J2.exports=Sn;var Ha=J2.exports,z1=Ha;vg.createRoot=z1.createRoot,vg.hydrateRoot=z1.hydrateRoot;/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U1="popstate";function cB(e={}){function t(n,i){let{pathname:a,search:s,hash:l}=n.location;return cy("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:au(i)}return dB(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ci(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uB(){return Math.random().toString(36).substring(2,10)}function W1(e,t){return{usr:e.state,key:e.key,idx:t}}function cy(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?El(t):t,state:r,key:t&&t.key||n||uB()}}function au({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function El(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function dB(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,l="POP",c=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function h(){l="POP";let y=d(),_=y==null?null:y-u;u=y,c&&c({action:l,location:w.location,delta:_})}function f(y,_){l="PUSH";let b=cy(w.location,y,_);u=d()+1;let k=W1(b,u),x=w.createHref(b);try{s.pushState(k,"",x)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(x)}a&&c&&c({action:l,location:w.location,delta:1})}function p(y,_){l="REPLACE";let b=cy(w.location,y,_);u=d();let k=W1(b,u),x=w.createHref(b);s.replaceState(k,"",x),a&&c&&c({action:l,location:w.location,delta:0})}function g(y){return hB(y)}let w={get action(){return l},get location(){return e(i,s)},listen(y){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(U1,h),c=y,()=>{i.removeEventListener(U1,h),c=null}},createHref(y){return t(i,y)},createURL:g,encodeLocation(y){let _=g(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(y){return s.go(y)}};return w}function hB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:au(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function QT(e,t,r="/"){return fB(e,t,r,!1)}function fB(e,t,r,n){let i=typeof t=="string"?El(t):t,a=ca(i.pathname||"/",r);if(a==null)return null;let s=ZT(e);mB(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=SB(a);l=kB(s[c],u,n)}return l}function ZT(e,t=[],r=[],n="",i=!1){let a=(s,l,c=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&c)return;Nt(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=ea([n,d.relativePath]),f=r.concat(d);s.children&&s.children.length>0&&(Nt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),ZT(s.children,t,f,h,c)),!(s.path==null&&!s.index)&&t.push({path:h,score:xB(h,s.index),routesMeta:f})};return e.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,l);else for(let u of eE(s.path))a(s,l,!0,u)}),t}function eE(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=eE(n.join("/")),l=[];return l.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function mB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pB=/^:[\w-]+$/,vB=3,gB=2,yB=1,_B=10,wB=-2,H1=e=>e==="*";function xB(e,t){let r=e.split("/"),n=r.length;return r.some(H1)&&(n+=wB),t&&(n+=gB),r.filter(i=>!H1(i)).reduce((i,a)=>i+(pB.test(a)?vB:a===""?yB:_B),n)}function bB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function kB(e,t,r=!1){let{routesMeta:n}=e,i={},a="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Qh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Qh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ea([a,h.pathname]),pathnameBase:EB(ea([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ea([a,h.pathnameBase]))}return s}function Qh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=jB(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:h},f)=>{if(d==="*"){let g=l[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const p=l[f];return h&&!p?u[d]=void 0:u[d]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function jB(e,t=!1,r=!0){ci(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function SB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ci(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ca(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var CB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function NB(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?El(e):e,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=q1(r.substring(1),"/"):a=q1(r,t)):a=t,{pathname:a,search:PB(n),hash:AB(i)}}function q1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ev(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function tE(e){let t=TB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function rE(e,t,r,n=!1){let i;typeof e=="string"?i=El(e):(i={...e},Nt(!i.pathname||!i.pathname.includes("?"),Ev("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),Ev("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),Ev("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=r;else{let h=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=NB(i,l),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var ea=e=>e.join("/").replace(/\/\/+/g,"/"),EB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,AB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,OB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function IB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function DB(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iE(e,t){let r=e;if(typeof r!="string"||!CB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(nE)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),l=ca(s.pathname,t);s.origin===a.origin&&l!=null?r=l+s.search+s.hash:i=!0}catch{ci(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aE=["POST","PUT","PATCH","DELETE"];new Set(aE);var LB=["GET",...aE];new Set(LB);var Pl=m.createContext(null);Pl.displayName="DataRouter";var Nm=m.createContext(null);Nm.displayName="DataRouterState";var $B=m.createContext(!1),sE=m.createContext({isTransitioning:!1});sE.displayName="ViewTransition";var RB=m.createContext(new Map);RB.displayName="Fetchers";var MB=m.createContext(null);MB.displayName="Await";var Wn=m.createContext(null);Wn.displayName="Navigation";var $u=m.createContext(null);$u.displayName="Location";var wa=m.createContext({outlet:null,matches:[],isDataRoute:!1});wa.displayName="Route";var B0=m.createContext(null);B0.displayName="RouteError";var oE="REACT_ROUTER_ERROR",BB="REDIRECT",FB="ROUTE_ERROR_RESPONSE";function zB(e){if(e.startsWith(`${oE}:${BB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function UB(e){if(e.startsWith(`${oE}:${FB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new OB(t.status,t.statusText,t.data)}catch{}}function WB(e,{relative:t}={}){Nt(Ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=m.useContext(Wn),{hash:i,pathname:a,search:s}=Mu(e,{relative:t}),l=a;return r!=="/"&&(l=a==="/"?r:ea([r,a])),n.createHref({pathname:l,search:s,hash:i})}function Ru(){return m.useContext($u)!=null}function fs(){return Nt(Ru(),"useLocation() may be used only in the context of a <Router> component."),m.useContext($u).location}var lE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cE(e){m.useContext(Wn).static||m.useLayoutEffect(e)}function F0(){let{isDataRoute:e}=m.useContext(wa);return e?r4():HB()}function HB(){Nt(Ru(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(Pl),{basename:t,navigator:r}=m.useContext(Wn),{matches:n}=m.useContext(wa),{pathname:i}=fs(),a=JSON.stringify(tE(n)),s=m.useRef(!1);return cE(()=>{s.current=!0}),m.useCallback((c,u={})=>{if(ci(s.current,lE),!s.current)return;if(typeof c=="number"){r.go(c);return}let d=rE(c,JSON.parse(a),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ea([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,a,i,e])}m.createContext(null);function Mu(e,{relative:t}={}){let{matches:r}=m.useContext(wa),{pathname:n}=fs(),i=JSON.stringify(tE(r));return m.useMemo(()=>rE(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function qB(e,t){return uE(e,t)}function uE(e,t,r,n,i){var b;Nt(Ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(Wn),{matches:s}=m.useContext(wa),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let k=h&&h.path||"";hE(u,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let f=fs(),p;if(t){let k=typeof t=="string"?El(t):t;Nt(d==="/"||((b=k.pathname)==null?void 0:b.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),p=k}else p=f;let g=p.pathname||"/",w=g;if(d!=="/"){let k=d.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=QT(e,{pathname:w});ci(h||y!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ci(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=XB(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},c,k.params),pathname:ea([d,a.encodeLocation?a.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:ea([d,a.encodeLocation?a.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),s,r,n,i);return t&&_?m.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},_):_}function VB(){let e=t4(),t=IB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:a},"ErrorBoundary")," or"," ",m.createElement("code",{style:a},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,s)}var KB=m.createElement(VB,null),dE=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=UB(e.digest);r&&(e=r)}let t=e!==void 0?m.createElement(wa.Provider,{value:this.props.routeContext},m.createElement(B0.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?m.createElement(GB,{error:e},t):t}};dE.contextType=$B;var Pv=new WeakMap;function GB({children:e,error:t}){let{basename:r}=m.useContext(Wn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=zB(t.digest);if(n){let i=Pv.get(t);if(i)throw i;let a=iE(n.location,r);if(nE&&!Pv.get(t))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Pv.set(t,s),s}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function YB({routeContext:e,match:t,children:r}){let n=m.useContext(Pl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(wa.Provider,{value:e},r)}function XB(e,t=[],r=null,n=null,i=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let d=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let u=r&&n?(d,h)=>{var f,p;n(d,{location:r.location,params:((p=(f=r.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:DB(r.matches),errorInfo:h})}:void 0;return a.reduceRight((d,h,f)=>{let p,g=!1,w=null,y=null;r&&(p=s&&h.route.id?s[h.route.id]:void 0,w=h.route.errorElement||KB,l&&(c<0&&f===0?(hE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):c===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let _=t.concat(a.slice(0,f+1)),b=()=>{let k;return p?k=w:g?k=y:h.route.Component?k=m.createElement(h.route.Component,null):h.route.element?k=h.route.element:k=d,m.createElement(YB,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:k})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?m.createElement(dE,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:u}):b()},null)}function z0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JB(e){let t=m.useContext(Pl);return Nt(t,z0(e)),t}function QB(e){let t=m.useContext(Nm);return Nt(t,z0(e)),t}function ZB(e){let t=m.useContext(wa);return Nt(t,z0(e)),t}function U0(e){let t=ZB(e),r=t.matches[t.matches.length-1];return Nt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function e4(){return U0("useRouteId")}function t4(){var n;let e=m.useContext(B0),t=QB("useRouteError"),r=U0("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function r4(){let{router:e}=JB("useNavigate"),t=U0("useNavigate"),r=m.useRef(!1);return cE(()=>{r.current=!0}),m.useCallback(async(i,a={})=>{ci(r.current,lE),r.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...a}))},[e,t])}var V1={};function hE(e,t,r){!t&&!V1[e]&&(V1[e]=!0,ci(!1,r))}m.memo(n4);function n4({routes:e,future:t,state:r,onError:n}){return uE(e,void 0,r,n,t)}function uy(e){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function i4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Nt(!Ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=m.useMemo(()=>({basename:l,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[l,i,a,s]);typeof r=="string"&&(r=El(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=m.useMemo(()=>{let w=ca(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:n}},[l,u,d,h,f,p,n]);return ci(g!=null,`<Router basename="${l}"> is not able to match the URL "${u}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:m.createElement(Wn.Provider,{value:c},m.createElement($u.Provider,{children:t,value:g}))}function a4({children:e,location:t}){return qB(dy(e),t)}function dy(e,t=[]){let r=[];return m.Children.forEach(e,(n,i)=>{if(!m.isValidElement(n))return;let a=[...t,i];if(n.type===m.Fragment){r.push.apply(r,dy(n.props.children,a));return}Nt(n.type===uy,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=dy(n.props.children,a)),r.push(s)}),r}var _h="get",wh="application/x-www-form-urlencoded";function Tm(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function s4(e){return Tm(e)&&e.tagName.toLowerCase()==="button"}function o4(e){return Tm(e)&&e.tagName.toLowerCase()==="form"}function l4(e){return Tm(e)&&e.tagName.toLowerCase()==="input"}function c4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u4(e,t){return e.button===0&&(!t||t==="_self")&&!c4(e)}function hy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function d4(e,t){let r=hy(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}var Ad=null;function h4(){if(Ad===null)try{new FormData(document.createElement("form"),0),Ad=!1}catch{Ad=!0}return Ad}var f4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Av(e){return e!=null&&!f4.has(e)?(ci(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wh}"`),null):e}function m4(e,t){let r,n,i,a,s;if(o4(e)){let l=e.getAttribute("action");n=l?ca(l,t):null,r=e.getAttribute("method")||_h,i=Av(e.getAttribute("enctype"))||wh,a=new FormData(e)}else if(s4(e)||l4(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?ca(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||_h,i=Av(e.getAttribute("formenctype"))||Av(l.getAttribute("enctype"))||wh,a=new FormData(l,e),!h4()){let{name:u,type:d,value:h}=e;if(d==="image"){let f=u?`${u}.`:"";a.append(`${f}x`,"0"),a.append(`${f}y`,"0")}else u&&a.append(u,h)}}else{if(Tm(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=_h,n=null,i=wh,s=e}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function W0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p4(e,t,r,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:t&&ca(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function v4(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function g4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function y4(e,t,r){let n=await Promise.all(e.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await v4(a,r);return s.links?s.links():[]}return[]}));return b4(n.flat(1).filter(g4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function K1(e,t,r,n,i,a){let s=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return a==="assets"?t.filter((c,u)=>s(c,u)||l(c,u)):a==="data"?t.filter((c,u)=>{var h;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function _4(e,t,{includeHydrateFallback:r}={}){return w4(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function w4(e){return[...new Set(e)]}function x4(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function b4(e,t){let r=new Set;return new Set(t),e.reduce((n,i)=>{let a=JSON.stringify(x4(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function fE(){let e=m.useContext(Pl);return W0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function k4(){let e=m.useContext(Nm);return W0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var H0=m.createContext(void 0);H0.displayName="FrameworkContext";function mE(){let e=m.useContext(H0);return W0(e,"You must render this element inside a <HydratedRouter> element"),e}function j4(e,t){let r=m.useContext(H0),[n,i]=m.useState(!1),[a,s]=m.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,f=m.useRef(null);m.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let w=_=>{_.forEach(b=>{s(b.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return f.current&&y.observe(f.current),()=>{y.disconnect()}}},[e]),m.useEffect(()=>{if(n){let w=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(w)}}},[n]);let p=()=>{i(!0)},g=()=>{i(!1),s(!1)};return r?e!=="intent"?[a,f,{}]:[a,f,{onFocus:nc(l,p),onBlur:nc(c,g),onMouseEnter:nc(u,p),onMouseLeave:nc(d,g),onTouchStart:nc(h,p)}]:[!1,f,{}]}function nc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function S4({page:e,...t}){let{router:r}=fE(),n=m.useMemo(()=>QT(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?m.createElement(N4,{page:e,matches:n,...t}):null}function C4(e){let{manifest:t,routeModules:r}=mE(),[n,i]=m.useState([]);return m.useEffect(()=>{let a=!1;return y4(e,t,r).then(s=>{a||i(s)}),()=>{a=!0}},[e,t,r]),n}function N4({page:e,matches:t,...r}){let n=fs(),{future:i,manifest:a,routeModules:s}=mE(),{basename:l}=fE(),{loaderData:c,matches:u}=k4(),d=m.useMemo(()=>K1(e,t,u,a,n,"data"),[e,t,u,a,n]),h=m.useMemo(()=>K1(e,t,u,a,n,"assets"),[e,t,u,a,n]),f=m.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,y=!1;if(t.forEach(b=>{var x;let k=a.routes[b.route.id];!k||!k.hasLoader||(!d.some(C=>C.route.id===b.route.id)&&b.route.id in c&&((x=s[b.route.id])!=null&&x.shouldRevalidate)||k.hasClientLoader?y=!0:w.add(b.route.id))}),w.size===0)return[];let _=p4(e,l,i.unstable_trailingSlashAwareDataRequests,"data");return y&&w.size>0&&_.searchParams.set("_routes",t.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[_.pathname+_.search]},[l,i.unstable_trailingSlashAwareDataRequests,c,n,a,d,t,e,s]),p=m.useMemo(()=>_4(h,a),[h,a]),g=C4(h);return m.createElement(m.Fragment,null,f.map(w=>m.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),p.map(w=>m.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:y})=>m.createElement("link",{key:w,nonce:r.nonce,...y,crossOrigin:y.crossOrigin??r.crossOrigin})))}function T4(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var E4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E4&&(window.__reactRouterVersion="7.13.0")}catch{}function P4({basename:e,children:t,unstable_useTransitions:r,window:n}){let i=m.useRef();i.current==null&&(i.current=cB({window:n,v5Compat:!0}));let a=i.current,[s,l]=m.useState({action:a.action,location:a.location}),c=m.useCallback(u=>{r===!1?l(u):m.startTransition(()=>l(u))},[r]);return m.useLayoutEffect(()=>a.listen(c),[a,c]),m.createElement(i4,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r})}var pE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vE=m.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...p},g){let{basename:w,unstable_useTransitions:y}=m.useContext(Wn),_=typeof u=="string"&&pE.test(u),b=iE(u,w);u=b.to;let k=WB(u,{relative:i}),[x,C,S]=j4(n,p),j=D4(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h,unstable_defaultShouldRevalidate:f,unstable_useTransitions:y});function N(P){t&&t(P),P.defaultPrevented||j(P)}let T=m.createElement("a",{...p,...S,href:b.absoluteURL||k,onClick:b.isExternal||a?t:N,ref:T4(g,C),target:c,"data-discover":!_&&r==="render"?"true":void 0});return x&&!_?m.createElement(m.Fragment,null,T,m.createElement(S4,{page:k})):T});vE.displayName="Link";var A4=m.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:l,children:c,...u},d){let h=Mu(s,{relative:u.relative}),f=fs(),p=m.useContext(Nm),{navigator:g,basename:w}=m.useContext(Wn),y=p!=null&&F4(h)&&l===!0,_=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,b=f.pathname,k=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(b=b.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&w&&(k=ca(k,w)||k);const x=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let C=b===_||!i&&b.startsWith(_)&&b.charAt(x)==="/",S=k!=null&&(k===_||!i&&k.startsWith(_)&&k.charAt(_.length)==="/"),j={isActive:C,isPending:S,isTransitioning:y},N=C?t:void 0,T;typeof n=="function"?T=n(j):T=[n,C?"active":null,S?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(j):a;return m.createElement(vE,{...u,"aria-current":N,className:T,ref:d,style:P,to:s,viewTransition:l},typeof c=="function"?c(j):c)});A4.displayName="NavLink";var O4=m.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:a,method:s=_h,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f,...p},g)=>{let{unstable_useTransitions:w}=m.useContext(Wn),y=M4(),_=B4(l,{relative:u}),b=s.toLowerCase()==="get"?"get":"post",k=typeof l=="string"&&pE.test(l),x=C=>{if(c&&c(C),C.defaultPrevented)return;C.preventDefault();let S=C.nativeEvent.submitter,j=(S==null?void 0:S.getAttribute("formmethod"))||s,N=()=>y(S||C.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:i,state:a,relative:u,preventScrollReset:d,viewTransition:h,unstable_defaultShouldRevalidate:f});w&&r!==!1?m.startTransition(()=>N()):N()};return m.createElement("form",{ref:g,method:b,action:_,onSubmit:n?c:x,...p,"data-discover":!k&&e==="render"?"true":void 0})});O4.displayName="Form";function I4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gE(e){let t=m.useContext(Pl);return Nt(t,I4(e)),t}function D4(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=F0(),d=fs(),h=Mu(e,{relative:a});return m.useCallback(f=>{if(u4(f,t)){f.preventDefault();let p=r!==void 0?r:au(d)===au(h),g=()=>u(e,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:l});c?m.startTransition(()=>g()):g()}},[d,u,h,r,n,t,e,i,a,s,l,c])}function L4(e){ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=m.useRef(hy(e)),r=m.useRef(!1),n=fs(),i=m.useMemo(()=>d4(n.search,r.current?null:t.current),[n.search]),a=F0(),s=m.useCallback((l,c)=>{const u=hy(typeof l=="function"?l(new URLSearchParams(i)):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var $4=0,R4=()=>`__${String(++$4)}__`;function M4(){let{router:e}=gE("useSubmit"),{basename:t}=m.useContext(Wn),r=e4(),n=e.fetch,i=e.navigate;return m.useCallback(async(a,s={})=>{let{action:l,method:c,encType:u,formData:d,body:h}=m4(a,t);if(s.navigate===!1){let f=s.fetcherKey||R4();await n(f,r,s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await i(s.action||l,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,t,r])}function B4(e,{relative:t}={}){let{basename:r}=m.useContext(Wn),n=m.useContext(wa);Nt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Mu(e||".",{relative:t})},s=fs();if(e==null){a.search=s.search;let l=new URLSearchParams(a.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(h=>h).forEach(h=>l.append("index",h));let d=l.toString();a.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:ea([r,a.pathname])),au(a)}function F4(e,{relative:t}={}){let r=m.useContext(sE);Nt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=gE("useViewTransitionState"),i=Mu(e,{relative:t});if(!r.isTransitioning)return!1;let a=ca(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=ca(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Qh(i.pathname,s)!=null||Qh(i.pathname,a)!=null}function Em(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function z4(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function l(d){try{u(n.next(d))}catch(h){s(h)}}function c(d){try{u(n.throw(d))}catch(h){s(h)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const U4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class q0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class W4 extends q0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G1 extends q0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Y1 extends q0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fy;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fy||(fy={}));class H4{constructor(t,{headers:r={},customFetch:n,region:i=fy.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=U4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return z4(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let f={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(f["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let w;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(f["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(f["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let y=d;h&&(s=new AbortController,a=setTimeout(()=>s.abort(),h),d?(y=s.signal,d.addEventListener("abort",()=>s.abort())):y=s.signal);const _=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:w,signal:y}).catch(C=>{throw new W4(C)}),b=_.headers.get("x-relay-error");if(b&&b==="true")throw new G1(_);if(!_.ok)throw new Y1(_);let k=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),x;return k==="application/json"?x=yield _.json():k==="application/octet-stream"||k==="application/pdf"?x=yield _.blob():k==="text/event-stream"?x=_:k==="multipart/form-data"?x=yield _.formData():x=yield _.text(),{data:x,error:null,response:_}}catch(l){return{data:null,error:l,response:l instanceof Y1||l instanceof G1?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var q4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},V4=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,f;if(r.method!=="HEAD"){var p;const _=await a.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=_:l=JSON.parse(_))}const w=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),y=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");w&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const w=await a.text();try{s=JSON.parse(w),Array.isArray(s)&&a.status===404&&(l=[],s=null,u=200,d="OK")}catch{a.status===404&&w===""?(u=204,d="No Content"):s={message:w}}if(s&&r.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new q4(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let l="",c="",u="";const d=a==null?void 0:a.cause;if(d){var h,f,p,g;const _=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",b=(f=d==null?void 0:d.code)!==null&&f!==void 0?f:"";l=`${(p=a==null?void 0:a.name)!==null&&p!==void 0?p:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(g=d==null?void 0:d.name)!==null&&g!==void 0?g:"Error"}: ${_}`,b&&(l+=` (${b})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var w;l=(w=a==null?void 0:a.stack)!==null&&w!==void 0?w:""}const y=this.url.toString().length;return(a==null?void 0:a.name)==="AbortError"||(a==null?void 0:a.code)==="ABORT_ERR"?(u="",c="Request was aborted (timeout or manual cancellation)",y>this.urlLengthLimit&&(c+=`. Note: Your request URL is ${y} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",c="HTTP headers exceeded server limits (typically 16KB)",y>this.urlLengthLimit&&(c+=`. Your request URL is ${y} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:c,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},K4=class extends V4{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const X1=new RegExp("[,()]");var Eo=class extends K4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&X1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&X1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},G4=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Eo({method:i,url:l,headers:c,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Eo({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new Eo({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Eo({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Eo({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Y4(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e){var t=Y4(e,"string");return su(t)=="symbol"?t:t+""}function J4(e,t,r){return(t=X4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J1(Object(r),!0).forEach(function(n){J4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Q4=class yE{constructor(t,{headers:r={},schema:n,fetch:i,timeout:a,urlLengthLimit:s=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=s;const l=i??globalThis.fetch;a!==void 0&&a>0?this.fetch=(c,u)=>{const d=new AbortController,h=setTimeout(()=>d.abort(),a),f=u==null?void 0:u.signal;if(f){if(f.aborted)return clearTimeout(h),l(c,u);const p=()=>{clearTimeout(h),d.abort()};return f.addEventListener("abort",p,{once:!0}),l(c,Od(Od({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(h),f.removeEventListener("abort",p)})}return l(c,Od(Od({},u),{},{signal:d.signal})).finally(()=>clearTimeout(h))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new G4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new yE(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const f=new Headers(this.headers);return h?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new Eo({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};class Z4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const e3="2.97.0",t3=`realtime-js/${e3}`,r3="1.0.0",_E="2.0.0",Q1=_E,my=1e4,n3=1e3,i3=100;var Da;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Da||(Da={}));var Qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qt||(Qt={}));var Zn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zn||(Zn={}));var py;(function(e){e.websocket="websocket"})(py||(py={}));var Es;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Es||(Es={}));class a3{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,l=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+h.length,p=new ArrayBuffer(this.HEADER_LENGTH+f);let g=new DataView(p),w=0;g.setUint8(w++,this.KINDS.userBroadcastPush),g.setUint8(w++,c.length),g.setUint8(w++,l.length),g.setUint8(w++,s.length),g.setUint8(w++,u.length),g.setUint8(w++,h.length),g.setUint8(w++,r),Array.from(c,_=>g.setUint8(w++,_.charCodeAt(0))),Array.from(l,_=>g.setUint8(w++,_.charCodeAt(0))),Array.from(s,_=>g.setUint8(w++,_.charCodeAt(0))),Array.from(u,_=>g.setUint8(w++,_.charCodeAt(0))),Array.from(h,_=>g.setUint8(w++,_.charCodeAt(0)));var y=new Uint8Array(p.byteLength+n.byteLength);return y.set(new Uint8Array(p),0),y.set(new Uint8Array(n),p.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,l,c]=n;return r({join_ref:i,ref:a,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+s));c=c+s;const f=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class wE{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const Z1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=s3(s,e,t,i),a),{}):{}},s3=(e,t,r,n)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?xE(a,s):vy(s)},xE=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return u3(t,r)}switch(e){case it.bool:return o3(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return l3(t);case it.json:case it.jsonb:return c3(t);case it.timestamp:return d3(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return vy(t);default:return vy(t)}},vy=e=>e,o3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},c3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},u3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(l=>xE(t,l))}return e},d3=e=>typeof e=="string"?e.replace(" ","T"):e,bE=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ov{constructor(t,r,n={},i=my){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ek;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ek||(ek={}));class Dc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dc.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=Dc.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Dc.syncDiff(this.state,i,a,s),l())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const h=a[u];if(h){const f=d.map(y=>y.presence_ref),p=h.map(y=>y.presence_ref),g=d.filter(y=>p.indexOf(y.presence_ref)<0),w=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),w.length>0&&(c[u]=w)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tk;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(tk||(tk={}));var Lc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lc||(Lc={}));var qi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qi||(qi={}));class qo{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ov(this,Zn.join,this.params,this.timeout),this.rejoinTimer=new wE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zn.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Dc(this),this.broadcastEndpointURL=bE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Lc.PRESENCE]&&this.bindings[Lc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},f={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(qi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(qi.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(qi.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,_=[];for(let b=0;b<y;b++){const k=w[b],{filter:{event:x,schema:C,table:S,filter:j}}=k,N=p&&p[b];if(N&&N.event===x&&qo.isFilterValueEqual(N.schema,C)&&qo.isFilterValueEqual(N.table,S)&&qo.isFilterValueEqual(N.filter,j))_.push(Object.assign(Object.assign({},k),{id:N.id}));else{this.unsubscribe(),this.state=Qt.errored,t==null||t(qi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(qi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Qt.errored,t==null||t(qi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Qt.joined&&t===Lc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Ov(this,Zn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Ov(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>i3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Zn;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,w,y;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(w=p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(p=>p.callback(f,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var g,w,y,_,b,k;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const x=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(b=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return x==="*"||x===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:w,table:y,commit_timestamp:_,type:b,errors:k}=g;f=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:_,eventType:b,new:{},old:{},errors:k}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&qo.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zn.close,{},t)}_onError(t){this._on(Zn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Z1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Z1(t.columns,t.old_record)),r}}const Iv=()=>{},Id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},h3=[1e3,2e3,5e3,1e4],f3=1e4,m3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class p3{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=my,this.transport=null,this.heartbeatIntervalMs=Id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Iv,this.ref=0,this.reconnectTimer=null,this.vsn=Q1,this.logger=Iv,this.conn=null,this.sendBuffer=[],this.serializer=new a3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${py.websocket}`,this.httpEndpoint=bE(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Z4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Da.connecting:return Es.Connecting;case Da.open:return Es.Open;case Da.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new qo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(n3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Id.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,l=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Da.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Da.open||this.conn.readyState===Da.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([m3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:t3};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Zn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,l,c,u,d,h,f,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:my,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Id.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Iv,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Q1,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>h3[g-1]||f3,this.vsn){case r3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,w)=>w(JSON.stringify(g)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(g,w)=>w(JSON.parse(g));break;case _E:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ou=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v3(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function g3(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function y3(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const l=v3(e.baseUrl,n,i),c=await g3(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!u.ok){const p=h?f:void 0,g=p==null?void 0:p.error;throw new ou((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:f}}}}function Dd(e){return e.join("")}var _3=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dd(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dd(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dd(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dd(e.namespace)}`}),!0}catch(t){if(t instanceof ou&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ou&&r.status===409)return;throw r}}};function _o(e){return e.join("")}var w3=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ou&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ou&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},x3=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=y3({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _3(this.client,t),this.tableOps=new w3(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Pm=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Am(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ld=class extends Pm{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kE=class extends Pm{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const b3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),k3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gy=e=>{if(Array.isArray(e))return e.map(r=>gy(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=gy(n)}),t},j3=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function S3(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C3(e){var t=S3(e,"string");return lu(t)=="symbol"?t:t+""}function N3(e,t,r){return(t=C3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rk(Object(r),!0).forEach(function(n){N3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const nk=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},T3=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(s=>{const l=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||a+"";t(new Ld(nk(s),a,l,n))}).catch(()=>{if(n==="vectors"){const s=a+"";t(new Ld(i.statusText||`HTTP ${a} error`,a,s,n))}else{const s=a+"";t(new Ld(i.statusText||`HTTP ${a} error`,a,s,n))}});else{const s=a+"";t(new Ld(i.statusText||`HTTP ${a} error`,a,s,n))}}else t(new kE(nk(e),e,n))},E3=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ce(Ce({},i),r):(k3(n)?(i.headers=Ce({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Ce(Ce({},i),r))};async function ic(e,t,r,n,i,a,s){return new Promise((l,c)=>{e(r,E3(t,n,i,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(s==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>T3(u,c,n,s))})}function jE(e="storage"){return{get:async(t,r,n,i)=>ic(t,"GET",r,n,i,void 0,e),post:async(t,r,n,i,a)=>ic(t,"POST",r,i,a,n,e),put:async(t,r,n,i,a)=>ic(t,"PUT",r,i,a,n,e),head:async(t,r,n,i)=>ic(t,"HEAD",r,Ce(Ce({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,r,n,i,a)=>ic(t,"DELETE",r,i,a,n,e)}}const P3=jE("storage"),{get:cu,post:Jn,put:yy,head:A3,remove:V0}=P3,vn=jE("vectors");var Al=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=b3(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Ce(Ce({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Am(r))return{data:null,error:r};throw r}}},O3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Am(t))return{data:null,error:t};throw t}}};let SE;SE=Symbol.toStringTag;var I3=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[SE]="BlobDownloadBuilder",this.promise=null}asStream(){return new O3(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Am(t))return{data:null,error:t};throw t}}};const D3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ik={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var L3=class extends Al{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var i=this;return i.handleOperation(async()=>{let a;const s=Ce(Ce({},ik),n);let l=Ce(Ce({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Ce(Ce({},l),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),h=await(e=="PUT"?yy:Jn)(i.fetch,`${i.url}/object/${d}`,a,Ce({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),l=new URL(i.url+`/object/upload/sign/${s}`);return l.searchParams.set("token",t),i.handleOperation(async()=>{let c;const u=Ce({upsert:ik.upsert},n),d=Ce(Ce({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await yy(i.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const i=Ce({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Jn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),l=s.searchParams.get("token");if(!l)throw new Pm("No token returned by API");return{signedUrl:s.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Jn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Jn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),a=await Jn(n.fetch,`${n.url}/object/sign/${i}`,Ce({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const i=await Jn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i.map(s=>Ce(Ce({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",s=this._getFinalPath(e),l=()=>cu(this.fetch,`${this.url}/${n}/${s}${a}`,{headers:this.headers,noResolveJson:!0},r);return new I3(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>gy(await cu(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await A3(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Am(n)&&n instanceof kE){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const i=Ce(Ce(Ce({},D3),t),{},{prefix:e||""});return await Jn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ce({},e);return await Jn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $3="2.97.0",Bu={"X-Client-Info":`storage-js/${$3}`};var R3=class extends Al{constructor(e,t={},r,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),s=Ce(Ce({},Bu),t);super(a,s,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await cu(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await cu(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Jn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await yy(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Jn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},M3=class extends Al{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ce(Ce({},Bu),t);super(n,i,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Jn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await cu(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!j3(e))throw new Pm("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new x3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(i,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},B3=class extends Al{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ce(Ce({},Bu),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await vn.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await vn.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},F3=class extends Al{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ce(Ce({},Bu),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},z3=class extends Al{constructor(e,t={},r){const n=e.replace(/\/$/,""),i=Ce(Ce({},Bu),{},{"Content-Type":"application/json"},t);super(n,i,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},U3=class extends z3{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new W3(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},W3=class extends B3{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new H3(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},H3=class extends F3{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ce(Ce({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},q3=class extends R3{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new L3(this.url,this.headers,e,this.fetch)}get vectors(){return new U3(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M3(this.url+"/iceberg",this.headers,this.fetch)}};const CE="2.97.0",Po=30*1e3,_y=3,Dv=_y*Po,V3="http://localhost:9999",K3="supabase.auth.token",G3={"X-Client-Info":`gotrue-js/${CE}`},wy="X-Supabase-Api-Version",NE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Y3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X3=10*60*1e3;class uu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J3 extends uu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Q3(e){return xe(e)&&e.name==="AuthApiError"}class Ps extends uu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class xa extends uu{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class mn extends xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lv(e){return xe(e)&&e.name==="AuthSessionMissingError"}class wo extends xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $d extends xa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends xa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Z3(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class ak extends xa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class e5 extends xa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class xy extends xa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function $v(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class sk extends xa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class by extends xa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ok=` 	
\r=`.split(""),t5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ok.length;t+=1)e[ok[t].charCodeAt(0)]=-2;for(let t=0;t<Zh.length;t+=1)e[Zh[t].charCodeAt(0)]=t;return e})();function lk(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Zh[n]),t.queuedBits-=6}}function TE(e,t,r){const n=t5[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ck(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{i5(s,n,r)};for(let s=0;s<e.length;s+=1)TE(e.charCodeAt(s),i,a);return t.join("")}function r5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function n5(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}r5(n,t)}}function i5(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tl(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)TE(e.charCodeAt(i),r,n);return new Uint8Array(t)}function a5(e){const t=[];return n5(e,r=>t.push(r)),new Uint8Array(t)}function Ds(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>lk(i,r,n)),lk(null,r,n),t.join("")}function s5(e){return Math.round(Date.now()/1e3)+e}function o5(){return Symbol("auth-callback")}const xr=()=>typeof window<"u"&&typeof document<"u",ws={tested:!1,writable:!1},EE=()=>{if(!xr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ws.tested)return ws.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ws.tested=!0,ws.writable=!0}catch{ws.tested=!0,ws.writable=!1}return ws.writable};function l5(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const PE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),c5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ao=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},wr=async(e,t)=>{await e.removeItem(t)};class Om{constructor(){this.promise=new Om.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Om.promiseConstructor=Promise;function Md(e){const t=e.split(".");if(t.length!==3)throw new by("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Y3.test(t[n]))throw new by("JWT not in base64url format");return{header:JSON.parse(ck(t[0])),payload:JSON.parse(ck(t[1])),signature:tl(t[2]),raw:{header:t[0],payload:t[1]}}}async function u5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function d5(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function h5(e){return("0"+e.toString(16)).substr(-2)}function f5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,h5).join("")}async function m5(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function p5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await m5(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xo(e,t,r=!1){const n=f5();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ao(e,`${t}-code-verifier`,i);const a=await p5(n);return[a,n===a?"plain":"s256"]}const v5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function g5(e){const t=e.headers.get(wy);if(!t||!t.match(v5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function y5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const w5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bo(e){if(!w5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rv(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x5(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function uk(e){return JSON.parse(JSON.stringify(e))}const Ss=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b5=[502,503,504];async function dk(e){var t;if(!c5(e))throw new xy(Ss(e),0);if(b5.includes(e.status))throw new xy(Ss(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ps(Ss(a),a)}let n;const i=g5(e);if(i&&i.getTime()>=NE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sk(Ss(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new mn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new sk(Ss(r),e.status,r.weak_password.reasons);throw new J3(Ss(r),e.status||500,n)}const k5=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ne(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[wy]||(a[wy]=NE["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await j5(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function j5(e,t,r,n,i,a){const s=k5(t,n,i,a);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new xy(Ss(c),0)}if(l.ok||await dk(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await dk(c)}}function Yn(e){var t;let r=null;N5(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=s5(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function hk(e){const t=Yn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Fa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function S5(e){return{data:e,error:null}}function C5(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Em(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function fk(e){return e}function N5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mv=["global","local","others"];class T5{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=PE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mv[0]){if(Mv.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mv.join(", ")}`);try{return await Ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fa})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Em(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:C5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fa})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:fk});if(d.error)throw d.error;const h=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){bo(t);try{return await Ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fa})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){bo(t);try{return await Ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Fa})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){bo(t);try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fa})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){bo(t.userId);try{const{data:r,error:n}=await Ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){bo(t.userId),bo(t.id);try{return{data:await Ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:fk});if(d.error)throw d.error;const h=await d.json(),f=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(xe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}}function mk(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ko={debug:!!(globalThis&&EE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AE extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pk extends AE{}async function E5(e,t,r){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),ko.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ko.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ko.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new pk(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):i}}function P5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function OE(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function A5(e){return parseInt(e,16)}function O5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function I5(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=OE(e.address),g=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${p}

${w}`;let _=`URI: ${h}
Version: ${f}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),l&&(_+=`
Not Before: ${l.toISOString()}`),c&&(_+=`
Request ID: ${c}`),u){let b=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);b+=`
- ${k}`}_+=b}return`${y}
${_}`}class Ut extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ef extends Ut{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function D5({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(IE(s)){if(a.rp.id!==s)return new Ut({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function L5({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ut({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(IE(n)){if(r.rpId!==n)return new Ut({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const R5=new $5;function M5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Em(e,["challenge","user","excludeCredentials"]),a=tl(t).buffer,s=Object.assign(Object.assign({},r),{id:tl(r.id).buffer}),l=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:tl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function B5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Em(e,["challenge","allowCredentials"]),i=tl(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},l),{id:tl(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function F5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ds(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ds(new Uint8Array(i.authenticatorData)),clientDataJSON:Ds(new Uint8Array(i.clientDataJSON)),signature:Ds(new Uint8Array(i.signature)),userHandle:i.userHandle?Ds(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function IE(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vk(){var e,t;return!!(xr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function U5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:D5({error:t,options:e})}}}async function W5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ef("Browser returned unexpected credential type",t)}:{data:null,error:new ef("Empty credential response",t)}}catch(t){return{data:null,error:L5({error:t,options:e})}}}const H5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},q5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function tf(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const l=n[a];t(l)?n[a]=tf(l,s):n[a]=tf(s)}else n[a]=s}return n}function V5(e,t){return tf(H5,e,t||{})}function K5(e,t){return tf(q5,e,t||{})}class G5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){var s;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=i??R5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const p=(await this.client.getUser()).data.user,g=((s=p==null?void 0:p.user_metadata)===null||s===void 0?void 0:s.name)||(p==null?void 0:p.email)||(p==null?void 0:p.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=V5(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:f}=await U5({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const d=K5(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:f}=await W5(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(l){return xe(l)?{data:null,error:l}:{data:null,error:new Ps("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new uu("rpId is required for WebAuthn authentication")};try{if(!vk())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return xe(s)?{data:null,error:s}:{data:null,error:new Ps("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new uu("rpId is required for WebAuthn registration")};try{if(!vk())return{data:null,error:new Ps("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return xe(s)?{data:null,error:s}:{data:null,error:new Ps("Unexpected error in register",s)}}}}P5();const Y5={url:V3,storageKey:K3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function gk(e,t,r){return await r()}const jo={};class du{get jwks(){var t,r;return(r=(t=jo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=jo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){jo[this.storageKey]=Object.assign(Object.assign({},jo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Y5),t);if(this.storageKey=a.storageKey,this.instanceID=(r=du.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,du.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&xr()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new T5({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=PE(a.fetch),this.lock=a.lock||gk,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&xr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=E5:this.lock=gk,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new G5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:EE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mk(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=mk(this.memoryStorage)),xr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s);try{await this._notifyAllSubscribers(s.data.event,s.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}a.skipAutoInitialize||this.initialize().catch(s=>{this._debug("#initialize()","error",s)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CE}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(xr()&&(r=l5(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),xr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Z3(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return xe(r)?this._returnResult({error:r}):this._returnResult({error:new Ps("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Yn}),{data:s,error:l}=a;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await xo(this.storage,this.storageKey)),a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Yn})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Yn})}else throw new $d("You must provide either an email or phone number and a password");const{data:s,error:l}=a;if(l||!s)return await wr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hk})}else if("phone"in t){const{phone:a,password:s,options:l}=t;r=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:hk})}else throw new $d("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new wo;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,l,c,u,d,h,f;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:w,wallet:y,statement:_,options:b}=t;let k;if(xr())if(typeof y=="object")k=y;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")k=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const x=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),C=await k.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=OE(C[0]);let j=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const T=await k.request({method:"eth_chainId"});j=A5(T)}const N={domain:x.host,address:S,statement:_,uri:x.href,version:"1",chainId:j,nonce:(i=b==null?void 0:b.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=I5(N),g=await k.request({method:"personal_sign",params:[O5(p),S]})}try{const{data:w,error:y}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Yn});if(y)throw y;if(!w||!w.session||!w.user){const _=new wo;return this._returnResult({data:{user:null,session:null},error:_})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:y})}catch(w){if(xe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,i,a,s,l,c,u,d,h,f,p;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:y,wallet:_,statement:b,options:k}=t;let x;if(xr())if(typeof _=="object")x=_;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=_}const C=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),b?{statement:b}:null));let j;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")j=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)j=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)g=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${C.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((h=(d=k==null?void 0:k.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...k.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=S}}try{const{data:y,error:_}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ds(w)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Yn});if(_)throw _;if(!y||!y.session||!y.user){const b=new wo;return this._returnResult({data:{user:null,session:null},error:b})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:_})}catch(y){if(xe(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new e5;const{data:a,error:s}=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Yn});if(await wr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const l=new wo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,l=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Yn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new wo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xo(this.storage,this.storageKey));const{error:h}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $d("You must provide either an email or phone number.")}catch(l){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Yn});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await xo(this.storage,this.storageKey));const u=await Ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:S5});return!((a=u.data)===null||a===void 0)&&a.url&&xr()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new mn;const{error:i}=await Ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:l}=await Ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new $d("You must provide either an email or phone number and a type")}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Dv:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await xs(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Rv()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=x5(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fa}):await this._useSession(async r=>{var n,i,a;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mn}:await Ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Fa})})}catch(r){if(xe(r))return Lv(r)&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new mn;const s=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await xo(this.storage,this.storageKey));const{data:u,error:d}=await Ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Fa});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=Md(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new mn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!xr())throw new Rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ak("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ak("No code detected.");const{data:b,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!s||!u)throw new Rd("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:w,error:y}=await this._getUser(a);if(y)throw y;const _={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:h,expires_at:f,refresh_token:s,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a&&!Lv(a))return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(Q3(l)&&(l.status===404||l.status===401||l.status===403)||Lv(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=o5(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await xo(this.storage,this.storageKey,!0));try{return await Ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ne(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return xr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(xe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,h=await Ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Yn}),{data:f,error:p}=h;return p?this._returnResult({data:{user:null,session:null},error:p}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new wo}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:p}))}catch(i){if(await wr(this.storage,`${this.storageKey}-code-verifier`),xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await Ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await d5(async i=>(i>0&&await u5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yn})),(i,a)=>{const s=200*Math.pow(2,i);return a&&$v(a)&&Date.now()+s-n<Po})}catch(n){if(this._debug(r,"error",n),xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await xs(this.storage,this.storageKey);if(i&&this.userStorage){let s=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Ao(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Rv()}else if(i&&!i.user&&!i.user){const s=await xs(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await wr(this.storage,this.storageKey+"-user"),await Ao(this.storage,this.storageKey,i)):i.user=Rv()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Dv;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Dv}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),$v(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(i.access_token);!l&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new mn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Om;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new mn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),xe(a)){const s={data:null,error:a};return $v(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await wr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ao(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=uk(i);await Ao(this.storage,this.storageKey,a)}else{const i=uk(r);await Ao(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await wr(this.storage,this.storageKey),await wr(this.storage,this.storageKey+"-code-verifier"),await wr(this.storage,this.storageKey+"-user"),this.userStorage&&await wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Po}ms, refresh threshold is ${_y} ticks`),i<=_y&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AE)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await xo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ne(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?F5(t.webauthn.credential_response):z5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await Ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:M5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:B5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,i,a;if(t)try{const{payload:p}=Md(t);let g=null;p.aal&&(g=p.aal);let w=g;const{data:{user:y},error:_}=await this.getUser(t);if(_)return this._returnResult({data:null,error:_});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const k=p.amr||[];return{data:{currentLevel:g,nextLevel:w,currentAuthenticationMethods:k},error:null}}catch(p){if(xe(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:s},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Md(s.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(i=s.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new mn})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mn});const s=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&xr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new mn});const s=await Ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&xr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new mn})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mn})})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+X3>i)return n;const{data:a,error:s}=await Ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:l,payload:c}}=Md(n);r!=null&&r.allowExpired||y5(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=_5(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,s,a5(`${l}.${c}`)))throw new by("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}}du.nextInstanceID={};const X5=du,J5="2.97.0";let xc="";typeof Deno<"u"?xc="deno":typeof document<"u"?xc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xc="react-native":xc="node";const Q5={"X-Client-Info":`supabase-js-${xc}/${J5}`},Z5={headers:Q5},e6={schema:"public"},t6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r6={};function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function n6(e,t){if(hu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6(e){var t=n6(e,"string");return hu(t)=="symbol"?t:t+""}function a6(e,t,r){return(t=i6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){a6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const s6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o6=()=>Headers,l6=(e,t,r)=>{const n=s6(r),i=o6();return async(a,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,At(At({},s),{},{headers:u}))}};function c6(e){return e.endsWith("/")?e:e+"/"}function u6(e,t){var r,n;const{db:i,auth:a,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:At(At({},c),i),auth:At(At({},u),a),realtime:At(At({},d),s),storage:{},global:At(At(At({},h),l),{},{headers:At(At({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function d6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var h6=class extends X5{constructor(e){super(e)}},f6=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=d6(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:e6,realtime:r6,auth:At(At({},t6),{},{storageKey:s}),global:Z5},c=u6(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=l6(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(At({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Q4(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch,timeout:c.db.timeout,urlLengthLimit:c.db.urlLengthLimit}),this.storage=new q3(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new H4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:l,debug:c,throwOnError:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new h6({url:this.authUrl.href,headers:At(At({},f),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new p3(this.realtimeUrl.href,At(At({},e),{},{params:At(At({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const m6=(e,t,r)=>new f6(e,t,r);function p6(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}p6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v6="https://opmfmqmrvybciumukpew.supabase.co",g6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wbWZtcW1ydnliY2l1bXVrcGV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE0MjA5OTUsImV4cCI6MjA4Njk5Njk5NX0.4MxUfxx6seF2V_UaTo-cuTevL1zgBl38pi_bvzW8QtE",y6=v6,_6=g6,w6={getItem:e=>{try{return window.localStorage.getItem(e)}catch{return null}},setItem:(e,t)=>{try{window.localStorage.setItem(e,t)}catch{}},removeItem:e=>{try{window.localStorage.removeItem(e)}catch{}}},M=m6(y6,_6,{auth:{storage:w6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),_k=Object.freeze(Object.defineProperty({__proto__:null,supabase:M},Symbol.toStringTag,{value:"Module"})),DE=async(e,t)=>{const{data:r,error:n}=await M.auth.signInWithPassword({email:e,password:t});return{data:r,error:n}},LE=async(e,t,r)=>{const{data:n,error:i}=await M.auth.signUp({email:e,password:t,options:{data:{full_name:r}}});return{data:n,error:i}},$E=async()=>{const{data:e,error:t}=await M.auth.signInWithOAuth({provider:"google"});return{data:e,error:t}},RE=async()=>{const{error:e}=await M.auth.signOut();return{error:e}},x6=async()=>{const{data:e,error:t}=await M.auth.getSession();return{data:e,error:t}},ME=e=>M.auth.onAuthStateChange(e),fu=async e=>{const{data:t,error:r}=await M.from("profiles").select("*").eq("id",e).maybeSingle();return{data:t,error:r}},b6=async()=>{const{data:e,error:t}=await M.from("profiles").select("*").order("full_name");return{data:e,error:t}},BE=async e=>{console.log("[getProfileByEmail] Looking up email:",e);const{data:t,error:r}=await M.from("profiles").select("*").eq("email",e).maybeSingle();return console.log("[getProfileByEmail] Result:",t?"found":"not found","error:",r),{data:t,error:r}},K0=async(e,t,r)=>{const{data:n,error:i}=await M.from("profiles").insert({id:e,email:t,full_name:r||(t==null?void 0:t.split("@")[0])}).select().single();return{data:n,error:i}},ky=async(e,t)=>{const{data:r,error:n}=await M.from("profiles").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:n}},FE=async(e,t)=>{const r=t.name.split(".").pop(),n=`${e}/avatar.${r}`,{error:i}=await M.storage.from("avatars").upload(n,t,{upsert:!0});if(i)return{error:i};const{data:a}=M.storage.from("avatars").getPublicUrl(n);return{url:a.publicUrl,error:null}},zE=async e=>{const{data:t,error:r}=await M.from("boards").select("*").eq("user_id",e).eq("is_default",!0).maybeSingle();return{data:t,error:r}},UE=async(e,t="My Kanban Board")=>{const{data:r,error:n}=await M.from("boards").insert({user_id:e,title:t,is_default:!0}).select().single();return{data:r,error:n}},jy=async e=>{const{data:t,error:r}=await M.from("columns").select("*").eq("board_id",e).order("position");return{data:t,error:r}},WE=async e=>{const{data:t,error:r}=await M.from("columns").select("*").eq("id",e).single();return{data:t,error:r}},G0=async e=>{const t=[{board_id:e,title:"To Do",color:"#e94560",position:0},{board_id:e,title:"In Progress",color:"#ffc107",position:1},{board_id:e,title:"Review",color:"#00bcd4",position:2},{board_id:e,title:"Done",color:"#4caf50",position:3},{board_id:e,title:"Archive",color:"#6c757d",position:4}],{data:r,error:n}=await M.from("columns").insert(t).select();return{data:r,error:n}},HE=async(e,t)=>{const{data:r,error:n}=await M.from("columns").update(t).eq("id",e).select().single();return{data:r,error:n}},k6=async e=>{const{count:t,error:r}=await M.from("tasks").select("*",{count:"exact",head:!0}).eq("column_id",e).eq("is_archived",!1);return{count:t||0,error:r}},qE=async e=>{const{data:t,error:r}=await M.from("tasks").select(`
      *,
      tags (*),
      subtasks (*),
      task_labels (
        id,
        label_id,
        labels (*)
      ),
      projects (*)
    `).eq("board_id",e).order("position");return r||!t?{data:t,error:r}:{data:await Promise.all(t.map(async i=>{const{data:a}=await M.from("task_assignees").select("id, user_id").eq("task_id",i.id),s=[];if(a&&a.length>0){const l=a.map(u=>u.user_id),{data:c}=await M.from("profiles").select("*").in("id",l);for(const u of a)s.push({...u,profiles:(c==null?void 0:c.find(d=>d.id===u.user_id))||null})}return{...i,task_assignees:s}})),error:null}},VE=async e=>{const{data:t,error:r}=await M.from("task_assignees").select("task_id").eq("user_id",e);if(r)return{data:[],error:r};if(!t||t.length===0)return{data:[],error:null};const n=t.map(l=>l.task_id),{data:i,error:a}=await M.from("tasks").select(`
      *,
      tags (*),
      subtasks (*),
      task_labels (
        id,
        label_id,
        labels (*)
      ),
      projects (*)
    `).in("id",n).order("position");return a||!i?{data:i,error:a}:{data:await Promise.all(i.map(async l=>{const{data:c}=await M.from("task_assignees").select("id, user_id").eq("task_id",l.id),u=[];if(c&&c.length>0){const d=c.map(f=>f.user_id),{data:h}=await M.from("profiles").select("*").in("id",d);for(const f of c)u.push({...f,profiles:(h==null?void 0:h.find(p=>p.id===f.user_id))||null})}return{...l,task_assignees:u}})),error:null}},KE=async e=>{const{data:t,error:r}=await M.from("tasks").select(`
      *,
      tags (*),
      subtasks (*),
      task_labels (
        id,
        label_id,
        labels (*)
      ),
      projects (*)
    `).eq("board_id",e).not("deleted_at","is",null).order("deleted_at",{ascending:!1});return r||!t?{data:[],error:r}:{data:t,error:null}},Y0=async e=>{const{data:t,error:r}=await M.from("tasks").insert(e).select().single();return{data:t,error:r}},Xr=async(e,t)=>{const{data:r,error:n}=await M.from("tasks").update(t).eq("id",e).select().single();return{data:r,error:n}},X0=async e=>{const{error:t}=await M.from("tasks").delete().eq("id",e);return{error:t}},GE=async(e,t)=>{const{data:r,error:n}=await M.from("tasks").select(`
      *,
      tags (*),
      subtasks (*),
      task_labels (
        id,
        label_id,
        labels (*)
      )
    `).eq("id",e).single();if(n||!r)return{data:null,error:n};const{data:i}=await M.from("tasks").select("id").eq("column_id",r.column_id),a=(i==null?void 0:i.length)||0,s={board_id:r.board_id,column_id:r.column_id,user_id:t,title:`${r.title} (Copy)`,description:r.description,priority:r.priority,due_date:null,position:a,is_archived:!1,project_id:r.project_id},{data:l,error:c}=await M.from("tasks").insert(s).select().single();if(c||!l)return{data:null,error:c};if(r.tags&&r.tags.length>0)for(const u of r.tags)await M.from("tags").insert({task_id:l.id,name:u.name});if(r.subtasks&&r.subtasks.length>0)for(let u=0;u<r.subtasks.length;u++)await M.from("subtasks").insert({task_id:l.id,title:r.subtasks[u].title,position:u,is_completed:!1});if(r.task_labels&&r.task_labels.length>0)for(const u of r.task_labels)await M.from("task_labels").insert({task_id:l.id,label_id:u.label_id});return{data:l,error:null}},Im=async e=>{const{data:t,error:r}=await M.from("tags").insert(e).select().single();return{data:t,error:r}},YE=async e=>{const{error:t}=await M.from("tags").delete().eq("task_id",e);return{error:t}},XE=async(e,t)=>{await YE(e);for(const r of t)await Im({task_id:e,name:r})},Dm=async e=>{const{data:t,error:r}=await M.from("subtasks").insert(e).select().single();return{data:t,error:r}},J0=async(e,t)=>{console.log("[updateSubtask] Updating subtask:",e,"with:",t);const{data:r,error:n}=await M.from("subtasks").update(t).eq("id",e).select().single();return n&&console.error("[updateSubtask] Error:",n),{data:r,error:n}},JE=async e=>{const{error:t}=await M.from("subtasks").delete().eq("id",e);return{error:t}},QE=async e=>{const{data:t,error:r}=await M.from("subtasks").select("*").eq("task_id",e).order("position");return{data:t,error:r}},ZE=async(e,t)=>{const{data:r}=await QE(e),n=(r==null?void 0:r.map(a=>a.id))||[],i=t.filter(a=>a.id).map(a=>a.id);for(const a of n)i.includes(a)||await JE(a);for(let a=0;a<t.length;a++){const s=t[a];s.id?await J0(s.id,{title:s.title,is_completed:s.is_completed||!1,position:a}):await Dm({task_id:e,title:s.title,is_completed:s.is_completed||!1,position:a})}},j6=(e,t,r)=>M.channel("kanban-changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks",filter:`board_id=eq.${e}`},()=>{t()}).on("postgres_changes",{event:"*",schema:"public",table:"tags"},()=>{t()}).on("postgres_changes",{event:"*",schema:"public",table:"subtasks"},()=>{t()}).subscribe(n=>{r(n==="SUBSCRIBED")}),Sy=(e,t,r)=>{const n={board:e,columns:t,tasks:r,exportedAt:new Date().toISOString()},i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),a=URL.createObjectURL(i),s=document.createElement("a");s.href=a,s.download=`kanban-backup-${new Date().toISOString().split("T")[0]}.json`,s.click(),URL.revokeObjectURL(a)},Lm=async e=>{const{data:t,error:r}=await M.from("projects").select("*").eq("user_id",e);let n=[];try{const{data:s}=await M.from("project_members").select(`
        projects (*)
      `).eq("user_id",e);s&&(n=s)}catch{console.log("[getProjects] project_members table might not exist yet")}if(r)return{data:null,error:r};const i=[...t||[]],a=new Set(i.map(s=>s.id));return n&&n.forEach(s=>{s.projects&&!a.has(s.projects.id)&&i.push(s.projects)}),i.sort((s,l)=>new Date(l.updated_at).getTime()-new Date(s.updated_at).getTime()),{data:i,error:null}},eP=async e=>{const{data:t,error:r}=await Lm(e);return r||!t?{data:null,error:r}:{data:await Promise.all(t.map(async i=>{const{count:a}=await M.from("tasks").select("*",{count:"exact",head:!0}).eq("project_id",i.id);return{...i,task_count:a||0}})),error:null}},Q0=async e=>{const{data:t,error:r}=await M.from("projects").insert(e).select().single();return{data:t,error:r}},Cy=async(e,t)=>{console.log("[updateProject] Updating project:",e,"with:",t);const{data:r,error:n}=await M.from("projects").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return n?console.error("[updateProject] Error:",n):console.log("[updateProject] Success:",r),{data:r,error:n}},tP=async e=>{const{error:t}=await M.from("projects").delete().eq("id",e);return{error:t}},Z0=async e=>{const{data:t,error:r}=await M.from("labels").select("*").eq("user_id",e).order("name");return{data:t,error:r}},rP=async e=>{const{data:t,error:r}=await M.from("labels").select("*").eq("user_id",e).order("name");return r||!t?{data:null,error:r}:{data:await Promise.all(t.map(async i=>{const{count:a}=await M.from("task_labels").select("*",{count:"exact",head:!0}).eq("label_id",i.id);return{...i,task_count:a||0}})),error:null}},nP=async e=>{const{data:t,error:r}=await M.from("labels").insert(e).select().single();return{data:t,error:r}},iP=async(e,t)=>{const{data:r,error:n}=await M.from("labels").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:n}},aP=async e=>{const{error:t}=await M.from("labels").delete().eq("id",e);return{error:t}},sP=async e=>{const{data:t,error:r}=await M.from("task_labels").insert(e).select().single();return{data:t,error:r}},S6=async(e,t)=>{const{error:r}=await M.from("task_labels").delete().eq("task_id",e).eq("label_id",t);return{error:r}},oP=async e=>{const{error:t}=await M.from("task_labels").delete().eq("task_id",e);return{error:t}},Ny=async(e,t)=>{await oP(e);for(const r of t)await sP({task_id:e,label_id:r})},C6=async e=>{const{data:t,error:r}=await M.from("starred_tasks").select(`
      *,
      tasks (*)
    `).eq("user_id",e);return{data:t,error:r}},ew=async e=>{console.log("[getStarredTaskIds] Fetching starred tasks for user:",e);const{data:t,error:r}=await M.from("starred_tasks").select("task_id").eq("user_id",e);console.log("[getStarredTaskIds] Raw data from DB:",t),console.log("[getStarredTaskIds] Error:",r),r&&console.error("[getStarredTaskIds] Error:",r);const n=(t==null?void 0:t.map(i=>i.task_id))||[];return console.log("[getStarredTaskIds] Extracted task IDs:",n),{data:n,error:r}},N6=async e=>{const{data:t,error:r}=await M.from("starred_tasks").insert(e).select().single();return r&&console.error("[addStarredTask] Error:",r),{data:t,error:r}},T6=async(e,t)=>{const{error:r}=await M.from("starred_tasks").delete().eq("user_id",e).eq("task_id",t);return r&&console.error("[removeStarredTask] Error:",r),{error:r}},tw=async(e,t)=>{console.log("[toggleStarredTask] Called with userId:",e,"taskId:",t);const{data:r,error:n}=await M.from("starred_tasks").select("id").eq("user_id",e).eq("task_id",t).maybeSingle();if(n)return console.error("[toggleStarredTask] Check error:",n),{starred:!1,error:n};if(console.log("[toggleStarredTask] Existing record:",r),r){const{error:i}=await M.from("starred_tasks").delete().eq("id",r.id);return i?console.error("[toggleStarredTask] Delete error:",i):console.log("[toggleStarredTask] Star removed successfully"),{starred:!1,error:i}}else{const{error:i}=await M.from("starred_tasks").insert({user_id:e,task_id:t});return i?console.error("[toggleStarredTask] Insert error:",i):console.log("[toggleStarredTask] Star added successfully"),{starred:!0,error:i}}},rw=async e=>{console.log("[getTeamMembers] Fetching members for user:",e);const{data:t,error:r}=await M.from("team_members").select("*").eq("user_id",e).order("name");return console.log("[getTeamMembers] Result - data:",(t==null?void 0:t.length)||0,"members, error:",r),{data:t,error:r}},lP=async e=>{console.log("[getProjectMembers] Fetching members for project:",e);const{data:t,error:r}=await M.from("projects").select("user_id").eq("id",e).single(),n=t==null?void 0:t.user_id;console.log("[getProjectMembers] Project owner:",n);let i=[];try{const{data:a,error:s}=await M.from("project_members").select(`
        *,
        user_profile:profiles!project_members_user_id_fkey (id, full_name, email, avatar_url)
      `).eq("project_id",e).order("created_at");console.log("[getProjectMembers] project_members query - data:",a,"error:",s),!s&&a&&a.length>0&&(i=a.filter(l=>l.user_id!==n).map(l=>{var c,u,d;return{id:l.id,user_id:l.user_id,project_id:l.project_id,role:l.role,full_name:(c=l.user_profile)==null?void 0:c.full_name,email:(u=l.user_profile)==null?void 0:u.email,avatar_url:(d=l.user_profile)==null?void 0:d.avatar_url,auth_user_id:l.user_id}}))}catch(a){console.log("[getProjectMembers] project_members table might not exist:",a)}return console.log("[getProjectMembers] Final result:",i.length,"members (excluding owner)"),{data:i,error:null}},E6=async e=>{const{data:t,error:r}=await M.from("team_members").insert(e).select().single();return{data:t,error:r}},Ty=async(e,t)=>{const{data:r,error:n}=await M.from("team_members").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:n}},cP=async e=>{const{error:t}=await M.from("team_members").delete().eq("id",e);return{error:t}},uP=async(e,t)=>{console.log("[linkTeamMemberByAuth] Linking:",t,"to auth user:",e);const{data:r,error:n}=await M.from("team_members").select("*").ilike("email",t).is("auth_user_id",null);if(n)return console.error("[linkTeamMemberByAuth] Find error:",n),{error:n};if(!r||r.length===0)return console.log("[linkTeamMemberByAuth] No pending members found for:",t),{error:null};console.log("[linkTeamMemberByAuth] Found",r.length,"members to link");for(const i of r){const{error:a}=await M.from("team_members").update({auth_user_id:e,updated_at:new Date().toISOString()}).eq("id",i.id);a?console.error("[linkTeamMemberByAuth] Update error for",i.id,":",a):console.log("[linkTeamMemberByAuth] Successfully linked member:",i.id)}return{error:null}},nw=async e=>{const{data:t,error:r}=await M.from("notifications").select("*").eq("user_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},rf=async e=>{console.log("[createNotification] Inserting:",JSON.stringify(e));const{data:t,error:r}=await M.from("notifications").insert(e).select().single();return console.log("[createNotification] Result:",{data:t,error:r}),{data:t,error:r}},iw=async e=>{const{data:t,error:r}=await M.from("notifications").update({is_read:!0}).eq("id",e).select().single();return{data:t,error:r}},aw=async e=>{const{data:t,error:r}=await M.from("notifications").update({is_read:!0}).eq("user_id",e).eq("is_read",!1);return{data:t,error:r}},dP=async e=>{const{error:t}=await M.from("notifications").delete().eq("id",e);return{error:t}},hP=async e=>{const{data:t,error:r}=await M.from("user_settings").select("*").eq("user_id",e).maybeSingle();return{data:t,error:r}},P6=async e=>{const{data:t,error:r}=await M.from("user_settings").insert(e).select().single();return{data:t,error:r}},A6=async(e,t)=>{const{data:r,error:n}=await M.from("user_settings").update({...t,updated_at:new Date().toISOString()}).eq("user_id",e).select().single();return{data:r,error:n}},fP=async e=>{const{data:t,error:r}=await M.from("user_settings").upsert(e,{onConflict:"user_id"}).select().single();return{data:t,error:r}},mP=async e=>{const{data:t,error:r}=await M.from("task_comments").select("*").eq("task_id",e).order("created_at",{ascending:!0});return{data:t,error:r}},Ey=async e=>{const{data:t,error:r}=await M.from("task_comments").insert(e).select().single();return{data:t,error:r}},O6=async(e,t)=>{const{data:r,error:n}=await M.from("task_comments").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:n}},pP=async e=>{const{error:t}=await M.from("task_comments").delete().eq("id",e);return{error:t}},vP=async e=>{const{data:t,error:r}=await M.from("task_attachments").select("*").eq("task_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},gP=async e=>{const{data:t,error:r}=await M.from("task_attachments").insert(e).select().single();return{data:t,error:r}},yP=async e=>{const{error:t}=await M.from("task_attachments").delete().eq("id",e);return{error:t}},$c=async(e,t,r)=>{const n=r.name.split(".").pop(),i=`${t}/${e}/${Date.now()}.${n}`,{error:a}=await M.storage.from("attachments").upload(i,r);if(a)return{error:a};const{data:s}=M.storage.from("attachments").getPublicUrl(i),{data:l,error:c}=await gP({task_id:e,user_id:t,file_name:r.name,file_url:s.publicUrl,file_type:r.type,file_size:r.size});return{data:l,error:c}},_P=async(e,t)=>{const{data:r,error:n}=await M.from("task_assignees").insert({task_id:e,user_id:t}).select().single();return{data:r,error:n}},I6=async(e,t)=>{const{error:r}=await M.from("task_assignees").delete().eq("task_id",e).eq("user_id",t);return{error:r}},wP=async e=>{const{error:t}=await M.from("task_assignees").delete().eq("task_id",e);return{error:t}},Py=async(e,t)=>{await wP(e);for(const r of t)await _P(e,r)},sw=async e=>{const{data:t,error:r}=await M.from("team_invitations").select("*").eq("email",e).eq("status","pending").order("invited_at",{ascending:!1});return{data:t,error:r}},xP=async e=>{const{data:t,error:r}=await M.from("team_invitations").select("*").eq("team_owner_id",e).order("invited_at",{ascending:!1});return{data:t,error:r}},bP=async e=>{console.log("[createTeamInvitation] Creating invitation:",e);const{data:t,error:r}=await M.from("team_invitations").select("*").eq("email",e.email).eq("team_owner_id",e.team_owner_id).eq("status","pending").maybeSingle();if(console.log("[createTeamInvitation] Existing check:",{existingInvitation:t,checkError:r}),t)return{data:null,error:{message:"User already invited"}};const n=crypto.randomUUID(),{data:i,error:a}=await M.from("team_invitations").insert({...e,invitation_token:n}).select().single();if(console.log("[createTeamInvitation] Insert result:",{data:i,error:a}),i&&i.project_id){const{data:s}=await M.from("projects").select("*").eq("id",i.project_id).single();s&&(i.projects=s)}return{data:i,error:a}},ow=async e=>{const{data:t,error:r}=await M.from("team_invitations").select("*").eq("id",e).single();if(r||!t)return{error:r||{message:"Invitation not found"}};const{error:n}=await M.from("team_invitations").update({status:"accepted",responded_at:new Date().toISOString()}).eq("id",e);if(n)return{error:n};const{data:{user:i}}=await M.auth.getUser(),{data:a,error:s}=await M.from("team_members").insert({user_id:t.team_owner_id,name:t.name,email:t.email,role:t.role,status:"online",auth_user_id:(i==null?void 0:i.id)||null}).select().single();return console.log("[acceptTeamInvitation] Created member:",{member:a,memberError:s,auth_user_id:i==null?void 0:i.id}),{data:a,error:s}},lw=async e=>{const{error:t}=await M.from("team_invitations").update({status:"declined",responded_at:new Date().toISOString()}).eq("id",e);return{error:t}},kP=async e=>{const{error:t}=await M.from("team_invitations").delete().eq("id",e);return{error:t}},jP=async e=>{const{data:t,error:r}=await M.from("task_time_entries").select("*").eq("task_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},SP=async e=>{const{data:t,error:r}=await M.from("task_time_entries").insert(e).select().single();return{data:t,error:r}},D6=async(e,t)=>{const{data:r,error:n}=await M.from("task_time_entries").update(t).eq("id",e).select().single();return{data:r,error:n}},CP=async e=>{const{error:t}=await M.from("task_time_entries").delete().eq("id",e);return{error:t}},NP=async(e,t)=>{const r=new Date().toISOString(),{data:n,error:i}=await M.from("tasks").update({timer_started_at:r,timer_user_id:t}).eq("id",e).select().single();return i?{data:null,error:i}:{data:n,error:null}},TP=async e=>{const{data:t,error:r}=await M.from("tasks").select("timer_started_at, timer_user_id").eq("id",e).single();if(r||!t)return{data:null,error:r};if(!t.timer_started_at||!t.timer_user_id)return{data:null,error:{message:"No active timer"}};const n=new Date,i=new Date(t.timer_started_at),a=Math.floor((n.getTime()-i.getTime())/1e3),{data:s,error:l}=await M.from("task_time_entries").insert({task_id:e,user_id:t.timer_user_id,duration_seconds:a,started_at:t.timer_started_at,stopped_at:n.toISOString()}).select().single();return l?{data:null,error:l}:(await M.from("tasks").update({timer_started_at:null,timer_user_id:null}).eq("id",e),{data:s,error:null})},L6=async e=>{const{data:t,error:r}=await M.from("task_time_entries").select("duration_seconds").eq("task_id",e);return r?{total:0,error:r}:{total:(t==null?void 0:t.reduce((i,a)=>i+(a.duration_seconds||0),0))||0,error:null}},$6=async(e,t,r)=>{let n=M.from("task_time_entries").select("duration_seconds, task_id, tasks(title)").eq("user_id",e);t&&(n=n.gte("created_at",t)),r&&(n=n.lte("created_at",r));const{data:i,error:a}=await n;if(a)return{data:null,total:0,error:a};const s=(i==null?void 0:i.reduce((l,c)=>l+(c.duration_seconds||0),0))||0;return{data:i,total:s,error:null}},EP=async e=>{const{data:t,error:r}=await M.from("task_dependencies").select(`
      *,
      depends_on_task:tasks!task_dependencies_depends_on_task_id_fkey(id, title, due_date, priority)
    `).eq("task_id",e);return{data:t,error:r}},PP=async e=>{const{data:t,error:r}=await M.from("task_dependencies").select(`
      *,
      task:tasks!task_dependencies_task_id_fkey(id, title, due_date, priority)
    `).eq("depends_on_task_id",e);return{data:t,error:r}},AP=async e=>{const{data:t,error:r}=await M.from("task_dependencies").insert(e).select().single();return{data:t,error:r}},OP=async e=>{const{error:t}=await M.from("task_dependencies").delete().eq("id",e);return{error:t}},IP=async(e,t)=>{const r=new Set,n=[t];for(;n.length>0;){const i=n.shift();if(i===e)return!0;if(r.has(i))continue;r.add(i);const{data:a}=await M.from("task_dependencies").select("depends_on_task_id").eq("task_id",i);a&&n.push(...a.map(s=>s.depends_on_task_id))}return!1},R6=async e=>{const{data:t,error:r}=await M.from("recurring_patterns").select("*").eq("task_id",e).maybeSingle();return{data:t,error:r}},M6=async e=>{const{data:t,error:r}=await M.from("recurring_patterns").select(`
      *,
      tasks!recurring_patterns_task_id_fkey(*)
    `).eq("tasks.user_id",e).eq("is_active",!0);return{data:t,error:r}},B6=async e=>{const{data:t,error:r}=await M.from("recurring_patterns").insert(e).select().single();return{data:t,error:r}},F6=async(e,t)=>{const{data:r,error:n}=await M.from("recurring_patterns").update(t).eq("id",e).select().single();return{data:r,error:n}},z6=async e=>{const{error:t}=await M.from("recurring_patterns").delete().eq("id",e);return{error:t}},U6=e=>{if(!e.is_active)return null;let t=e.next_occurrence?new Date(e.next_occurrence):new Date;switch(e.frequency){case"daily":t.setDate(t.getDate()+e.interval_value);break;case"weekly":if(e.days_of_week&&e.days_of_week.length>0){const r=t.getDay(),n=[...e.days_of_week].sort((a,s)=>a-s);let i=n.find(a=>a>r);i?t.setDate(t.getDate()+(i-r)):t.setDate(t.getDate()+(7-r+n[0]))}else t.setDate(t.getDate()+7*e.interval_value);break;case"monthly":e.day_of_month?(t.setMonth(t.getMonth()+e.interval_value),t.setDate(e.day_of_month)):t.setMonth(t.getMonth()+e.interval_value);break;case"yearly":t.setFullYear(t.getFullYear()+e.interval_value);break}return e.end_date&&t>new Date(e.end_date)?null:t},cw=async e=>{const{data:t,error:r}=await M.from("task_templates").select("*").eq("user_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},DP=async e=>{const{data:t,error:r}=await M.from("task_templates").select("*").eq("id",e).single();return{data:t,error:r}},LP=async e=>{const{data:t,error:r}=await M.from("task_templates").insert(e).select().single();return{data:t,error:r}},$P=async(e,t)=>{const{data:r,error:n}=await M.from("task_templates").update(t).eq("id",e).select().single();return{data:r,error:n}},RP=async e=>{const{error:t}=await M.from("task_templates").delete().eq("id",e);return{error:t}},W6=async(e,t)=>{const{data:r,error:n}=await DP(e);if(n||!r)return{data:null,error:n};const i={board_id:t.board_id,column_id:t.column_id,user_id:t.user_id,title:t.title||r.title_template||"Untitled Task",description:t.description||r.description_template||null,priority:r.priority,due_date:null,position:0,is_archived:!1,project_id:null},{data:a,error:s}=await M.from("tasks").insert(i).select().single();if(s||!a)return{data:null,error:s};if(r.default_tags&&r.default_tags.length>0)for(const l of r.default_tags)await M.from("tags").insert({task_id:a.id,name:l});if(r.default_labels&&r.default_labels.length>0)for(const l of r.default_labels)await M.from("task_labels").insert({task_id:a.id,label_id:l});if(r.subtask_templates&&r.subtask_templates.length>0)for(const l of r.subtask_templates)await M.from("subtasks").insert({task_id:a.id,title:l.title,position:l.position});return{data:a,error:null}},H6=async e=>{const{data:t,error:r}=await M.from("activity_logs").insert(e).select().single();return{data:t,error:r}},uw=async(e,t,r,n=50)=>{let i=M.from("activity_logs").select(`
      *,
      profiles(full_name, avatar_url, email)
    `).order("created_at",{ascending:!1}).limit(n);e&&(i=i.eq("board_id",e)),t&&(i=i.eq("task_id",t)),r&&(i=i.eq("user_id",r));const{data:a,error:s}=await i;return{data:a,error:s}},q6=async e=>{const{data:t,error:r}=await M.from("activity_logs").select(`
      *,
      profiles(full_name, avatar_url, email)
    `).eq("task_id",e).order("created_at",{ascending:!1});return{data:t,error:r}},V6=async(e,t=100)=>{const{data:r,error:n}=await M.from("activity_logs").select(`
      *,
      profiles(full_name, avatar_url, email),
      tasks(id, title)
    `).eq("board_id",e).order("created_at",{ascending:!1}).limit(t);return{data:r,error:n}},K6=async e=>{const{data:t,error:r}=await M.from("board_members").select(`
      *,
      profiles(full_name, avatar_url, email)
    `).eq("board_id",e).order("created_at");return{data:t,error:r}},G6=async e=>{const{data:t,error:r}=await M.from("board_members").insert(e).select().single();return{data:t,error:r}},Y6=async(e,t)=>{const{data:r,error:n}=await M.from("board_members").update(t).eq("id",e).select().single();return{data:r,error:n}},X6=async e=>{const{error:t}=await M.from("board_members").delete().eq("id",e);return{error:t}},J6=async e=>{const{data:t,error:r}=await M.from("boards").select("*").eq("user_id",e),{data:n,error:i}=await M.from("board_members").select(`
      role,
      boards(*)
    `).eq("user_id",e);return r||i?{data:null,error:r||i}:{data:[...(t||[]).map(s=>({...s,membership_role:"owner"})),...(n||[]).map(s=>({...s.boards,membership_role:s.role}))],error:null}},Q6=async(e,t,r)=>{const{data:n,error:i}=await M.from("boards").insert({user_id:e,title:t,description:r||null,is_default:!1}).select().single();return i||!n?{data:null,error:i}:(await G0(n.id),{data:n,error:null})},Z6=async(e,t)=>{const{data:r,error:n}=await M.from("boards").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:n}},eF=async e=>{const{error:t}=await M.from("boards").delete().eq("id",e);return{error:t}},tF=async e=>{const{data:t,error:r}=await M.from("task_watchers").select(`
      *,
      profiles(full_name, avatar_url, email)
    `).eq("task_id",e);return{data:t,error:r}},rF=async e=>{const{data:t,error:r}=await M.from("task_watchers").insert(e).select().single();return{data:t,error:r}},MP=async(e,t)=>{const{error:r}=await M.from("task_watchers").delete().eq("task_id",e).eq("user_id",t);return{error:r}},BP=MP,FP=async(e,t)=>{const{data:r,error:n}=await M.from("task_watchers").select("id").eq("task_id",e).eq("user_id",t).maybeSingle();return{isWatched:!!r,error:n}},zP=async e=>{const{data:t,error:r}=await M.from("task_watchers").select(`
      task_id,
      tasks(*)
    `).eq("user_id",e);return{data:t,error:r}},UP=async(e,t)=>{const{data:r}=await M.from("task_watchers").select("id").eq("task_id",e).eq("user_id",t).maybeSingle();if(r){const{error:n}=await M.from("task_watchers").delete().eq("id",r.id);return{watching:!1,error:n}}else{const{error:n}=await M.from("task_watchers").insert({task_id:e,user_id:t});return{watching:!0,error:n}}},WP=async e=>{const{error:t}=await M.from("tasks").delete().in("id",e);return{error:t}},HP=async(e,t)=>{const{error:r}=await M.from("tasks").update({column_id:t}).in("id",e);return{error:r}},qP=async(e,t)=>{const{error:r}=await M.from("tasks").update(t).in("id",e);return{error:r}},VP=(e,t,r)=>{const n=["ID","Title","Description","Priority","Due Date","Column","Project","Labels","Tags","Subtasks","Created At","Is Archived"],i=r.map(u=>{var g,w,y,_;const d=t.find(b=>b.id===u.column_id),h=((g=u.task_labels)==null?void 0:g.map(b=>b.labels.name).join("; "))||"",f=((w=u.tags)==null?void 0:w.map(b=>b.name).join("; "))||"",p=((y=u.subtasks)==null?void 0:y.map(b=>`${b.is_completed?"[x]":"[ ]"} ${b.title}`).join("; "))||"";return[u.id,`"${(u.title||"").replace(/"/g,'""')}"`,`"${(u.description||"").replace(/"/g,'""')}"`,u.priority,u.due_date||"",(d==null?void 0:d.title)||"",((_=u.projects)==null?void 0:_.name)||"",`"${h}"`,`"${f}"`,`"${p}"`,u.created_at,u.is_archived?"Yes":"No"]}),a=[n.join(","),...i.map(u=>u.join(","))].join(`
`),s=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`kanban-export-${new Date().toISOString().split("T")[0]}.csv`,c.click(),URL.revokeObjectURL(l)},nF=Object.freeze(Object.defineProperty({__proto__:null,acceptTeamInvitation:ow,addBoardMember:G6,addStarredTask:N6,addTaskAssignee:_P,addTaskDependency:AP,addTaskLabel:sP,addTaskWatcher:rF,bulkDeleteTasks:WP,bulkMoveTasks:HP,bulkUpdateTasks:qP,calculateNextOccurrence:U6,cancelTeamInvitation:kP,checkCircularDependency:IP,createBoard:UE,createBoardWithMember:Q6,createColumns:G0,createLabel:nP,createNotification:rf,createProfile:K0,createProject:Q0,createRecurringPattern:B6,createSubtask:Dm,createTag:Im,createTask:Y0,createTaskAttachment:gP,createTaskComment:Ey,createTaskFromTemplate:W6,createTaskTemplate:LP,createTeamInvitation:bP,createTeamMember:E6,createTimeEntry:SP,createUserSettings:P6,declineTeamInvitation:lw,deleteBoard:eF,deleteLabel:aP,deleteNotification:dP,deleteProject:tP,deleteRecurringPattern:z6,deleteSubtask:JE,deleteTagsByTask:YE,deleteTask:X0,deleteTaskAttachment:yP,deleteTaskComment:pP,deleteTaskTemplate:RP,deleteTeamMember:cP,deleteTimeEntry:CP,duplicateTask:GE,exportData:Sy,exportToCSV:VP,getActivityLog:uw,getAllProfiles:b6,getAssignedTasks:VE,getBoard:zE,getBoardActivity:V6,getBoardMembers:K6,getColumnById:WE,getColumnTaskCount:k6,getColumns:jy,getDeletedTasks:KE,getLabelWithTaskCount:rP,getLabels:Z0,getNotifications:nw,getPendingInvitations:sw,getProfile:fu,getProfileByEmail:BE,getProjectMembers:lP,getProjects:Lm,getProjectsWithTaskCount:eP,getRecurringPattern:R6,getRecurringTasks:M6,getSentInvitations:xP,getSession:x6,getStarredTaskIds:ew,getStarredTasks:C6,getSubtasks:QE,getTaskActivity:q6,getTaskAttachments:vP,getTaskComments:mP,getTaskDependencies:EP,getTaskDependents:PP,getTaskTemplate:DP,getTaskTemplates:cw,getTaskTimeSummary:L6,getTaskWatchers:tF,getTasks:qE,getTeamMembers:rw,getTimeEntries:jP,getUserBoards:J6,getUserSettings:hP,getUserTimeSummary:$6,getWatchedTasks:zP,isTaskWatched:FP,linkTeamMemberByAuth:uP,logActivity:H6,markAllNotificationsAsRead:aw,markNotificationAsRead:iw,onAuthStateChange:ME,removeAllTaskAssignees:wP,removeAllTaskLabels:oP,removeBoardMember:X6,removeStarredTask:T6,removeTaskAssignee:I6,removeTaskDependency:OP,removeTaskLabel:S6,removeTaskWatcher:MP,signInWithEmail:DE,signInWithGoogle:$E,signOut:RE,signUpWithEmail:LE,startTimeTracking:NP,stopTimeTracking:TP,subscribeToBoardChanges:j6,toggleStarredTask:tw,toggleTaskWatcher:UP,unwatchTask:BP,updateBoard:Z6,updateBoardMember:Y6,updateColumn:HE,updateLabel:iP,updateProfile:ky,updateProject:Cy,updateRecurringPattern:F6,updateSubtask:J0,updateSubtasks:ZE,updateTags:XE,updateTask:Xr,updateTaskAssignees:Py,updateTaskComment:O6,updateTaskLabels:Ny,updateTaskTemplate:$P,updateTeamMember:Ty,updateTimeEntry:D6,updateUserSettings:A6,uploadAvatar:FE,uploadTaskAttachment:$c,upsertUserSettings:fP},Symbol.toStringTag,{value:"Module"})),KP=m.createContext(void 0);function iF({children:e}){const[t,r]=m.useState([]),n=m.useCallback((a,s="info")=>{const l=Date.now().toString();r(c=>[...c,{id:l,message:a,type:s}]),setTimeout(()=>{r(c=>c.filter(u=>u.id!==l))},3e3)},[]),i=m.useCallback(a=>{r(s=>s.filter(l=>l.id!==a))},[]);return o.jsx(KP.Provider,{value:{toasts:t,showToast:n,removeToast:i},children:e})}function vr(){const e=m.useContext(KP);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const GP=m.createContext(void 0);function aF({children:e}){const[t,r]=m.useState(null),[n,i]=m.useState(null),[a,s]=m.useState(!0),[l,c]=m.useState(!1),{showToast:u}=vr(),d=m.useCallback(async(_,b)=>{try{console.log("[Auth] Auto-linking team member for:",b);const{error:k}=await uP(_,b);k?console.error("[Auth] Failed to link team member:",k):console.log("[Auth] Team member linked successfully")}catch(k){console.error("[Auth] Link team member error:",k)}},[]),h=m.useCallback(async(_,b,k)=>{try{const{data:x,error:C}=await fu(_);if(C){const{data:S,error:j}=await K0(_,b||"",k);j?console.error("Failed to create profile:",j):i(S)}else i(x)}catch(x){console.error("Profile fetch error:",x)}},[]);m.useEffect(()=>{let _=!0,b=!1;console.log("[Auth] Setting up auth listener...");const k=()=>{!b&&_&&(b=!0,s(!1),c(!0),console.log("[Auth] Initialized"))},{data:{subscription:x}}=ME((S,j)=>{var N;console.log("[Auth] State change:",S,j?"has session":"no session"),_&&(S==="INITIAL_SESSION"||S==="SIGNED_IN"||S==="TOKEN_REFRESHED"?(j&&(r(j.user),h(j.user.id,j.user.email,(N=j.user.user_metadata)==null?void 0:N.full_name),j.user.email&&d(j.user.id,j.user.email)),k()):S==="SIGNED_OUT"&&(r(null),i(null),k()))}),C=setTimeout(()=>{console.log("[Auth] Fallback timer triggered"),k()},3e3);return()=>{_=!1,clearTimeout(C),x.unsubscribe()}},[h]);const f=async(_,b)=>{s(!0);const{error:k}=await DE(_,b);if(s(!1),k)throw u(k.message,"error"),k;u("Login successful!","success")},p=async(_,b,k)=>{s(!0);const{error:x}=await LE(_,b,k);if(s(!1),x)throw u(x.message,"error"),x;u("Account created! Please check your email.","success")},g=async()=>{const{error:_}=await $E();if(_)throw u(_.message,"error"),_},w=async()=>{const{error:_}=await RE();if(_)throw u(_.message,"error"),_;u("Logged out successfully","info")},y=async()=>{var _;t&&await h(t.id,t.email,(_=t.user_metadata)==null?void 0:_.full_name)};return o.jsx(GP.Provider,{value:{user:t,profile:n,loading:a,initialized:l,signIn:f,signUp:p,signInGoogle:g,signOutUser:w,refreshProfile:y},children:e})}function Ye(){const e=m.useContext(GP);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const wk=async(e,t,r,n,i)=>{console.log("[Notifications] Sending to users:",e);for(const a of e){const{data:s,error:l}=await rf({user_id:a,type:"task",title:"New Task Assignment",message:`${n} assigned you to "${r}"`,is_read:!1,task_id:t,board_id:i});console.log("[Notifications] Result for",a,":",{data:s,error:l})}},sF={board:null,columns:[],tasks:[],loading:!1,error:null,searchQuery:"",editingTask:null,isModalOpen:!1,modalColumnId:null,selectedTaskId:null,selectedTaskIds:[],selectedColumnId:null,isDetailPanelOpen:!1,isStatsPanelOpen:!1,isShortcutsModalOpen:!1,isRealtimeConnected:!1,viewMode:"board",history:[],historyIndex:-1,canUndo:!1,canRedo:!1},oF=50;function lF(e,t){switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload,loading:!1};case"SET_BOARD":return{...e,board:t.payload};case"SET_COLUMNS":return{...e,columns:t.payload};case"SET_TASKS":return{...e,tasks:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,t.payload]};case"UPDATE_TASK":return{...e,tasks:e.tasks.map(a=>a.id===t.payload.id?t.payload:a)};case"DELETE_TASK":return{...e,tasks:e.tasks.filter(a=>a.id!==t.payload)};case"MOVE_TASK":return{...e,tasks:e.tasks.map(a=>a.id===t.payload.taskId?{...a,column_id:t.payload.columnId,position:t.payload.position}:a)};case"SET_SEARCH_QUERY":return{...e,searchQuery:t.payload};case"SET_EDITING_TASK":return{...e,editingTask:t.payload,isModalOpen:!0};case"OPEN_MODAL":return{...e,isModalOpen:!0,modalColumnId:t.payload,editingTask:null};case"CLOSE_MODAL":return{...e,isModalOpen:!1,editingTask:null,modalColumnId:null};case"SET_SELECTED_TASK":return{...e,selectedTaskId:t.payload};case"TOGGLE_SELECTED_TASK":const{taskId:r,columnId:n}=t.payload;if(e.selectedTaskIds.includes(r)){const a=e.selectedTaskIds.filter(s=>s!==r);return{...e,selectedTaskIds:a,selectedColumnId:a.length===0?null:e.selectedColumnId}}return e.selectedColumnId&&e.selectedColumnId!==n?{...e,selectedTaskIds:[r],selectedColumnId:n}:{...e,selectedTaskIds:[...e.selectedTaskIds,r],selectedColumnId:e.selectedColumnId||n};case"SET_SELECTED_TASKS":return{...e,selectedTaskIds:t.payload};case"CLEAR_SELECTED_TASKS":return{...e,selectedTaskIds:[],selectedColumnId:null};case"OPEN_DETAIL_PANEL":return{...e,isDetailPanelOpen:!0,selectedTaskId:t.payload};case"CLOSE_DETAIL_PANEL":return{...e,isDetailPanelOpen:!1};case"TOGGLE_STATS_PANEL":return{...e,isStatsPanelOpen:!e.isStatsPanelOpen};case"TOGGLE_SHORTCUTS_MODAL":return{...e,isShortcutsModalOpen:!e.isShortcutsModalOpen};case"SET_REALTIME_CONNECTED":return{...e,isRealtimeConnected:t.payload};case"SET_VIEW_MODE":return{...e,viewMode:t.payload};case"UPDATE_COLUMN":return{...e,columns:e.columns.map(a=>a.id===t.payload.id?t.payload:a)};case"SOFT_DELETE_TASK":return{...e,tasks:e.tasks.map(a=>a.id===t.payload.taskId?{...a,deleted_at:new Date().toISOString(),deleted_by:t.payload.deletedBy}:a)};case"RESTORE_TASK":return{...e,tasks:e.tasks.map(a=>a.id===t.payload?{...a,deleted_at:null,deleted_by:null}:a)};case"PUSH_HISTORY":{const a=e.history.slice(0,e.historyIndex+1);return a.push(t.payload),a.length>oF&&a.shift(),{...e,history:a,historyIndex:a.length-1,canUndo:a.length>1,canRedo:!1}}case"UNDO":{if(e.historyIndex<=0)return e;const a=e.historyIndex-1;return{...e,tasks:e.history[a]||[],historyIndex:a,canUndo:a>0,canRedo:!0}}case"REDO":{if(e.historyIndex>=e.history.length-1)return e;const a=e.historyIndex+1;return{...e,tasks:e.history[a]||[],historyIndex:a,canUndo:!0,canRedo:a<e.history.length-1}}default:return e}}const YP=m.createContext(void 0);function cF({children:e}){var W,re;const{user:t,profile:r}=Ye(),{showToast:n}=vr(),[i,a]=m.useReducer(lF,sF),s=m.useCallback(async()=>{var Z;if(!t){console.log("[loadBoard] No user, skipping");return}console.log("[loadBoard] Ensuring profile exists for user:",t.id);const{data:O,error:$}=await fu(t.id);if($||!O){console.log("[loadBoard] Creating profile...");const{error:X}=await K0(t.id,t.email||"",(Z=t.user_metadata)==null?void 0:Z.full_name);X?console.error("[loadBoard] Failed to create profile:",X):console.log("[loadBoard] Profile created successfully")}console.log("[loadBoard] Starting for user:",t.id),a({type:"SET_LOADING",payload:!0});try{console.log("[loadBoard] Fetching board...");let{data:X,error:ce}=await zE(t.id);if(console.log("[loadBoard] Board result:",{board:X,error:ce}),ce&&console.log("[loadBoard] Board error, creating new...",ce),ce||!X){console.log("[loadBoard] Creating new board...");const G=await UE(t.id);if(console.log("[loadBoard] Create board result:",G),G.error)throw G.error;X=G.data}console.log("[loadBoard] Setting board:",X),a({type:"SET_BOARD",payload:X}),console.log("[loadBoard] Fetching columns for board:",X.id);let{data:le,error:L}=await jy(X.id);if(console.log("[loadBoard] Columns result:",{columns:le,colsError:L}),L||!le||le.length===0){console.log("[loadBoard] Creating columns...");const G=await G0(X.id);if(console.log("[loadBoard] Create columns result:",G),G.error)throw G.error;le=G.data}console.log("[loadBoard] Setting columns:",le),a({type:"SET_COLUMNS",payload:le||[]})}catch(X){console.error("[loadBoard] Error:",X),a({type:"SET_ERROR",payload:X.message}),n("Failed to load board: "+(X.message||"Unknown error"),"error")}},[t,n]),l=m.useCallback(async()=>{const O=i.board;if(!O||!t){console.log("[loadTasks] No board or user, skipping");return}console.log("[loadTasks] ============ DEBUG INFO ============"),console.log("[loadTasks] Current user ID:",t.id),console.log("[loadTasks] Board ID:",O.id);try{console.log("[loadTasks] Fetching columns fresh...");const{data:$,error:Z}=await jy(O.id);if(Z||!$||$.length===0){console.error("[loadTasks] No columns found!"),a({type:"SET_LOADING",payload:!1});return}console.log("[loadTasks] Columns loaded:",$.map(ue=>ue.title)),$.length!==i.columns.length&&a({type:"SET_COLUMNS",payload:$});const{data:X,error:ce}=await qE(O.id);if(ce)throw console.error("[loadTasks] Board tasks error:",ce),ce;console.log("[loadTasks] Board tasks loaded:",(X==null?void 0:X.length)||0),X&&X.length>0&&(console.log("[loadTasks] ALL TASKS WITH USER_ID:"),X.forEach(ue=>{console.log(`  - "${ue.title}" | user_id: ${ue.user_id} | owner: ${ue.user_id===t.id?"YES":"NO"}`)}));const{data:le,error:L}=await VE(t.id);L&&console.error("[loadTasks] Assigned tasks error:",L);const G=[...X||[]],de=new Set(G.map(ue=>ue.id));if(le&&le.length>0){console.log("[loadTasks] Assigned tasks found:",le.length);const ue=new Map($.map(he=>[he.title.toLowerCase(),he.id]));console.log("[loadTasks] Column map:",Object.fromEntries(ue));for(const he of le)if(console.log(`[loadTasks] Processing assigned task: "${he.title}"`),!de.has(he.id)){const{data:Oe,error:Ge}=await WE(he.column_id);if(console.log("[loadTasks] Original column:",Oe==null?void 0:Oe.title,"error:",Ge),Oe){const mt=ue.get(Oe.title.toLowerCase());if(console.log(`[loadTasks] Mapped column ID: ${mt}`),mt)console.log(`[loadTasks] Adding task "${he.title}" with mapped column`),G.push({...he,column_id:mt});else{const Pt=$.find(Gt=>Gt.title.toLowerCase()==="to do");Pt?(console.log(`[loadTasks] Adding task "${he.title}" to To Do (fallback)`),G.push({...he,column_id:Pt.id})):console.log("[loadTasks] ERROR: No To Do column found!")}}}}console.log("[loadTasks] Total tasks loaded:",G.length),console.log("[loadTasks] TASKS WITH COLUMNS:"),G.forEach(ue=>{const he=$.find(Oe=>Oe.id===ue.column_id);console.log(`  "${ue.title}" | column: ${(he==null?void 0:he.title)||"NOT FOUND!"}`)});const V=$.find(ue=>ue.title.toLowerCase()==="to do");if(V){const ue=G.filter(he=>!$.find(Ge=>Ge.id===he.column_id));if(ue.length>0){console.log("[loadTasks] FIXING tasks with invalid column_id:",ue.length);for(const he of ue)console.log(`[loadTasks] Moving "${he.title}" to "To Do" column`),await Xr(he.id,{column_id:V.id}),he.column_id=V.id}}console.log("[loadTasks] ============ END DEBUG ============");const Se=G.filter(ue=>!ue.deleted_at);a({type:"SET_TASKS",payload:Se})}catch($){console.error("[loadTasks] Error:",$),n("Failed to load tasks","error")}finally{a({type:"SET_LOADING",payload:!1})}},[(W=i.board)==null?void 0:W.id,t==null?void 0:t.id,n]);m.useEffect(()=>{t!=null&&t.id&&(console.log("[BoardContext] Initializing board for user:",t.id),s())},[t==null?void 0:t.id]),m.useEffect(()=>{var O;(O=i.board)!=null&&O.id&&i.columns.length>0&&(t!=null&&t.id)&&(console.log("[BoardContext] Board and columns ready, loading tasks..."),l())},[(re=i.board)==null?void 0:re.id,i.columns.length,t==null?void 0:t.id]);const c=m.useCallback(O=>{const $=i.columns.find(Z=>Z.title.toLowerCase()==="to do");a({type:"OPEN_MODAL",payload:O||($==null?void 0:$.id)||null})},[i.columns]),u=m.useCallback(()=>{a({type:"CLOSE_MODAL"})},[]),d=m.useCallback(O=>{a({type:"SET_EDITING_TASK",payload:O})},[]),h=m.useCallback(async(O,$,Z,X=[],ce=null,le=[])=>{var L,G,de,V,Se,ue;console.log("[saveTask] Starting...",{editingTask:i.editingTask,modalColumnId:i.modalColumnId,boardId:(L=i.board)==null?void 0:L.id,userId:t==null?void 0:t.id,assigneeIds:le});try{if(!i.editingTask){if(!i.modalColumnId)return console.error("[saveTask] No modalColumnId!"),n("No column selected","error"),null;if(!((G=i.board)!=null&&G.id))return console.error("[saveTask] No board!"),n("Board not loaded","error"),null;if(!(t!=null&&t.id))return console.error("[saveTask] No user!"),n("User not authenticated","error"),null}if(i.editingTask){const{error:he}=await Xr(i.editingTask.id,{title:O.title,description:O.description,priority:O.priority,due_date:O.due_date,project_id:ce});if(he)throw he;const Oe=((de=i.editingTask.task_assignees)==null?void 0:de.map(mt=>mt.user_id))||[],Ge=le.filter(mt=>!Oe.includes(mt));if(await XE(i.editingTask.id,$),await Ny(i.editingTask.id,X),await ZE(i.editingTask.id,Z),await Py(i.editingTask.id,le),Ge.length>0){const mt=(r==null?void 0:r.full_name)||((V=t==null?void 0:t.email)==null?void 0:V.split("@")[0])||"Someone";await wk(Ge,i.editingTask.id,O.title||i.editingTask.title,mt,i.board.id)}await l(),n("Task updated!","success")}else{console.log("[saveTask] Creating new task...");const he=i.tasks.filter(Pt=>Pt.column_id===i.modalColumnId).length,Oe={board_id:i.board.id,column_id:i.modalColumnId,user_id:t.id,title:O.title||"",description:O.description||null,priority:O.priority||"medium",due_date:O.due_date||null,position:he,is_archived:!1,project_id:ce};console.log("[saveTask] New task data:",Oe);const{data:Ge,error:mt}=await Y0(Oe);if(mt)throw console.error("[saveTask] Create task error:",mt),mt;console.log("[saveTask] Task created:",Ge);for(const Pt of $)await Im({task_id:Ge.id,name:Pt});await Ny(Ge.id,X);for(let Pt=0;Pt<Z.length;Pt++)await Dm({task_id:Ge.id,title:Z[Pt].title,position:Pt});if(await Py(Ge.id,le),le.length>0){const Pt=(r==null?void 0:r.full_name)||((Se=t==null?void 0:t.email)==null?void 0:Se.split("@")[0])||"Someone";await wk(le,Ge.id,O.title||"Untitled Task",Pt,i.board.id)}return await l(),n("Task created!","success"),u(),Ge.id}return u(),((ue=i.editingTask)==null?void 0:ue.id)||null}catch(he){return console.error("[saveTask] Error:",he),console.error("[saveTask] Error message:",he==null?void 0:he.message),console.error("[saveTask] Error details:",he==null?void 0:he.details),console.error("[saveTask] Error hint:",he==null?void 0:he.hint),n(`Failed to save task: ${(he==null?void 0:he.message)||"Unknown error"}`,"error"),null}},[i.editingTask,i.modalColumnId,i.board,i.tasks,t,r,l,u,n]),f=m.useCallback(async O=>{await p(O)},[n]),p=m.useCallback(async O=>{if(t)try{a({type:"PUSH_HISTORY",payload:i.tasks});const{error:$}=await Xr(O,{deleted_at:new Date().toISOString(),deleted_by:t.id});if($)throw $;a({type:"SOFT_DELETE_TASK",payload:{taskId:O,deletedBy:t.id}}),a({type:"SET_SELECTED_TASK",payload:null}),a({type:"CLEAR_SELECTED_TASKS"}),n("Task moved to trash (Ctrl+Z to undo)","info")}catch($){console.error("Soft delete task error:",$),n("Failed to delete task","error")}},[t,i.tasks,n]),g=m.useCallback(async O=>{try{const{error:$}=await Xr(O,{deleted_at:null,deleted_by:null});if($)throw $;a({type:"RESTORE_TASK",payload:O}),n("Task restored","success")}catch($){console.error("Restore task error:",$),n("Failed to restore task","error")}},[n]),w=m.useCallback(async O=>{if(confirm("Permanently delete this task? This cannot be undone."))try{const{error:$}=await X0(O);if($)throw $;a({type:"DELETE_TASK",payload:O}),n("Task permanently deleted","info")}catch($){console.error("Permanent delete task error:",$),n("Failed to delete task","error")}},[n]),y=m.useCallback(async O=>{if(!t)return null;try{const{data:$,error:Z}=await GE(O,t.id);if(Z)throw Z;return await l(),n("Task duplicated!","success"),($==null?void 0:$.id)||null}catch($){return console.error("Duplicate task error:",$),n("Failed to duplicate task","error"),null}},[t,l,n]),_=m.useCallback(()=>{a({type:"UNDO"}),n("Undo successful","info")},[n]),b=m.useCallback(()=>{a({type:"REDO"}),n("Redo successful","info")},[n]),k=m.useCallback(async(O,$,Z)=>{const X=i.columns.find(ce=>ce.id===$);if(X!=null&&X.wip_limit){const ce=i.tasks.filter(L=>L.column_id===$&&!L.is_archived),le=i.tasks.find(L=>L.id===O);if(le&&le.column_id!==$&&ce.length>=X.wip_limit)return n(`Cannot move task: Column "${X.title}" has reached its WIP limit of ${X.wip_limit}`,"warning"),!1}try{const{error:ce}=await Xr(O,{column_id:$,position:Z});if(ce)throw ce;return a({type:"MOVE_TASK",payload:{taskId:O,columnId:$,position:Z}}),!0}catch(ce){return console.error("Move task error:",ce),n("Failed to move task","error"),await l(),!1}},[i.columns,i.tasks,l,n]),x=m.useCallback(async O=>{const $=i.columns.find(Z=>Z.title.toLowerCase()==="archive");if($)try{const{error:Z}=await Xr(O.id,{column_id:$.id,is_archived:!0});if(Z)throw Z;await l(),n("Task archived","info")}catch(Z){console.error("Archive task error:",Z),n("Failed to archive task","error")}},[i.columns,l,n]),C=m.useCallback(async O=>{const $=i.columns.find(Z=>Z.title.toLowerCase()==="to do");if($)try{const{error:Z}=await Xr(O.id,{column_id:$.id,is_archived:!1});if(Z)throw Z;await l(),n("Task unarchived","success")}catch(Z){console.error("Unarchive task error:",Z),n("Failed to unarchive task","error")}},[i.columns,l,n]),S=m.useCallback(O=>{a({type:"SET_SEARCH_QUERY",payload:O})},[]),j=m.useCallback(O=>{a({type:"SET_SELECTED_TASK",payload:O})},[]),N=m.useCallback(O=>{a({type:"OPEN_DETAIL_PANEL",payload:O})},[]),T=m.useCallback(()=>{a({type:"CLOSE_DETAIL_PANEL"})},[]),P=m.useCallback(()=>{a({type:"TOGGLE_STATS_PANEL"})},[]),I=m.useCallback(()=>{a({type:"TOGGLE_SHORTCUTS_MODAL"})},[]);m.useCallback(()=>{!i.board||!i.columns||!i.tasks||(Sy(i.board,i.columns,i.tasks),n("Data exported!","success"))},[i.board,i.columns,i.tasks,n]);const E=m.useCallback(O=>{a({type:"SET_VIEW_MODE",payload:O})},[]),B=m.useCallback((O,$)=>{a({type:"TOGGLE_SELECTED_TASK",payload:{taskId:O,columnId:$}})},[]),K=m.useCallback(()=>{a({type:"CLEAR_SELECTED_TASKS"})},[]),R=m.useCallback(async()=>{if(i.selectedTaskIds.length!==0&&confirm(`Are you sure you want to delete ${i.selectedTaskIds.length} tasks?`))try{const{error:O}=await WP(i.selectedTaskIds);if(O)throw O;a({type:"CLEAR_SELECTED_TASKS"}),await l(),n(`${i.selectedTaskIds.length} tasks deleted`,"info")}catch(O){console.error("Bulk delete error:",O),n("Failed to delete tasks","error")}},[i.selectedTaskIds,l,n]),te=m.useCallback(async O=>{if(i.selectedTaskIds.length===0)return;const $=i.columns.find(Z=>Z.id===O);if($!=null&&$.wip_limit){const Z=i.tasks.filter(ce=>ce.column_id===O&&!ce.is_archived),X=i.tasks.filter(ce=>i.selectedTaskIds.includes(ce.id)&&ce.column_id!==O);if(Z.length+X.length>$.wip_limit){n(`Cannot move tasks: Column "${$.title}" would exceed its WIP limit of ${$.wip_limit}`,"warning");return}}try{const{error:Z}=await HP(i.selectedTaskIds,O);if(Z)throw Z;a({type:"CLEAR_SELECTED_TASKS"}),await l(),n(`${i.selectedTaskIds.length} tasks moved`,"success")}catch(Z){console.error("Bulk move error:",Z),n("Failed to move tasks","error")}},[i.selectedTaskIds,i.columns,i.tasks,l,n]),A=m.useCallback(async O=>{if(i.selectedTaskIds.length!==0)try{const{error:$}=await qP(i.selectedTaskIds,{priority:O});if($)throw $;await l(),n(`${i.selectedTaskIds.length} tasks updated to ${O} priority`,"success")}catch($){console.error("Bulk update error:",$),n("Failed to update tasks","error")}},[i.selectedTaskIds,l,n]),U=m.useCallback(async(O,$)=>{try{const{data:Z,error:X}=await HE(O,$);if(X)throw X;a({type:"UPDATE_COLUMN",payload:Z}),n("Column updated","success")}catch(Z){console.error("Update column error:",Z),n("Failed to update column","error")}},[n]),z=m.useCallback(O=>{const $=i.columns.find(X=>X.id===O),Z=i.tasks.filter(X=>X.column_id===O&&!X.is_archived).length;return{atLimit:$!=null&&$.wip_limit?Z>=$.wip_limit:!1,current:Z,limit:($==null?void 0:$.wip_limit)||null}},[i.columns,i.tasks]),Q=m.useCallback((O="json")=>{!i.board||!i.columns||!i.tasks||(O==="csv"?VP(i.board,i.columns,i.tasks):Sy(i.board,i.columns,i.tasks),n(`Data exported as ${O.toUpperCase()}!`,"success"))},[i.board,i.columns,i.tasks,n]);return o.jsx(YP.Provider,{value:{state:i,loadBoard:s,loadTasks:l,openModal:c,closeModal:u,openEditModal:d,saveTask:h,deleteTask:f,softDeleteTask:p,restoreTask:g,permanentDeleteTask:w,duplicateTask:y,moveTask:k,archiveTask:x,unarchiveTask:C,setSearchQuery:S,selectTask:j,toggleSelectedTask:B,clearSelectedTasks:K,bulkDeleteTasks:R,bulkMoveTasks:te,bulkUpdatePriority:A,openDetailPanel:N,closeDetailPanel:T,toggleStatsPanel:P,toggleShortcutsModal:I,exportData:Q,setViewMode:E,updateColumn:U,checkWipLimit:z,undo:_,redo:b},children:e})}function Xe(){const e=m.useContext(YP);if(!e)throw new Error("useBoard must be used within a BoardProvider");return e}const XP=m.createContext(void 0);function uF({children:e}){const[t,r]=m.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:"light"});m.useEffect(()=>{localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t)},[t]);const n=()=>{r(i=>i==="dark"?"light":"dark")};return o.jsx(XP.Provider,{value:{theme:t,toggleTheme:n},children:e})}function Fu(){const e=m.useContext(XP);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}const JP=m.createContext(void 0);function dF({children:e}){const[t,r]=m.useState("board"),[n,i]=m.useState({}),a=s=>{r(s),i({})};return o.jsx(JP.Provider,{value:{currentView:t,setView:a,viewData:n,setViewData:i},children:e})}function $m(){const e=m.useContext(JP);if(!e)throw new Error("useView must be used within a ViewProvider");return e}var QP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xk=Ve.createContext&&Ve.createContext(QP),hF=["attr","size","title"];function fF(e,t){if(e==null)return{};var r=mF(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mF(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function af(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){pF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pF(e,t,r){return t=vF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vF(e){var t=gF(e,"string");return typeof t=="symbol"?t:t+""}function gF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZP(e){return e&&e.map((t,r)=>Ve.createElement(t.tag,af({key:r},t.attr),ZP(t.child)))}function se(e){return t=>Ve.createElement(yF,nf({attr:af({},e.attr)},t),ZP(e.child))}function yF(e){var t=r=>{var{attr:n,size:i,title:a}=e,s=fF(e,hF),l=i||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),Ve.createElement("svg",nf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:af(af({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&Ve.createElement("title",null,a),e.children)};return xk!==void 0?Ve.createElement(xk.Consumer,null,r=>t(r)):t(QP)}function _n(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(e)}function sn(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(e)}function eA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function tA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"10",x2:"3",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"17",y1:"18",x2:"3",y2:"18"},child:[]}]})(e)}function dw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"21 8 21 21 3 21 3 8"},child:[]},{tag:"rect",attr:{x:"1",y:"3",width:"22",height:"5"},child:[]},{tag:"line",attr:{x1:"10",y1:"12",x2:"14",y2:"12"},child:[]}]})(e)}function Ay(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function _F(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"},child:[]}]})(e)}function Oy(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(e)}function sf(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(e)}function ta(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(e)}function wF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(e)}function rA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(e)}function xF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function Ht(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}function bF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"13",r:"4"},child:[]}]})(e)}function Fi(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function zu(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function an(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(e)}function nA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function iA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function aA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function kF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]}]})(e)}function hw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"rect",attr:{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"},child:[]}]})(e)}function St(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Us(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3h7a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-7m0-18H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7m0-18v18"},child:[]}]})(e)}function jF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"},child:[]}]})(e)}function kk(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function SF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 10 4 15 9 20"},child:[]},{tag:"path",attr:{d:"M20 4v7a4 4 0 0 1-4 4H4"},child:[]}]})(e)}function CF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function ua(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(e)}function NF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 20h9"},child:[]},{tag:"path",attr:{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"},child:[]}]})(e)}function jk(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(e)}function sA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(e)}function fl(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Ei(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Rc(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"},child:[]},{tag:"polyline",attr:{points:"13 2 13 9 20 9"},child:[]}]})(e)}function TF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function es(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(e)}function Sk(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]},{tag:"line",attr:{x1:"12",y1:"11",x2:"12",y2:"17"},child:[]},{tag:"line",attr:{x1:"9",y1:"14",x2:"15",y2:"14"},child:[]}]})(e)}function Pi(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(e)}function EF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(e)}function fw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"},child:[]},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"},child:[]}]})(e)}function oA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(e)}function Iy(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(e)}function PF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 16 12 14 15 10 15 8 12 2 12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]}]})(e)}function lA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(e)}function ml(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(e)}function Ck(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(e)}function Rm(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(e)}function Qs(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(e)}function Mm(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function AF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"},child:[]},{tag:"polyline",attr:{points:"10 17 15 12 10 7"},child:[]},{tag:"line",attr:{x1:"15",y1:"12",x2:"3",y2:"12"},child:[]}]})(e)}function OF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function pl(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function IF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function of(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(e)}function DF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function mw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(e)}function Ni(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(e)}function LF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(e)}function $F(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"},child:[]}]})(e)}function ht(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function RF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function cA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"},child:[]},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"},child:[]}]})(e)}function MF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(e)}function Bm(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Dy(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(e)}function uA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(e)}function lf(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function BF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"21",x2:"4",y2:"14"},child:[]},{tag:"line",attr:{x1:"4",y1:"10",x2:"4",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"20",y1:"21",x2:"20",y2:"16"},child:[]},{tag:"line",attr:{x1:"20",y1:"12",x2:"20",y2:"3"},child:[]},{tag:"line",attr:{x1:"1",y1:"14",x2:"7",y2:"14"},child:[]},{tag:"line",attr:{x1:"9",y1:"8",x2:"15",y2:"8"},child:[]},{tag:"line",attr:{x1:"17",y1:"16",x2:"23",y2:"16"},child:[]}]})(e)}function Nk(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"},child:[]}]})(e)}function FF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]}]})(e)}function ra(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(e)}function pw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(e)}function Ol(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(e)}function Ly(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]}]})(e)}function rr(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Fm(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(e)}function zF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 7 4 4 20 4 20 7"},child:[]},{tag:"line",attr:{x1:"9",y1:"20",x2:"15",y2:"20"},child:[]},{tag:"line",attr:{x1:"12",y1:"4",x2:"12",y2:"20"},child:[]}]})(e)}function vw(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(e)}function Tk(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(e)}function dA(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(e)}function $i(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function ii(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function UF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function ft(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}function vl(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"},child:[]}]})(e)}function WF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"11",y1:"8",x2:"11",y2:"14"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}function HF(e){return se({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]},{tag:"line",attr:{x1:"8",y1:"11",x2:"14",y2:"11"},child:[]}]})(e)}const qF="_loadingScreen_13g7h_2",VF="_loader_13g7h_12",KF="_spinner_13g7h_19",GF="_text_13g7h_26",Bd={loadingScreen:qF,loader:VF,spinner:KF,text:GF};function YF(){return o.jsx("div",{className:Bd.loadingScreen,children:o.jsxs("div",{className:Bd.loader,children:[o.jsx(Qs,{className:Bd.spinner}),o.jsx("p",{className:Bd.text,children:"Loading..."})]})})}function hA(e){return se({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(e)}function XF(...e){return e.filter(Boolean).join(" ")}const JF="_button_1rcmc_2",QF="_primary_1rcmc_28",ZF="_secondary_1rcmc_45",ez="_google_1rcmc_57",tz="_icon_1rcmc_70",rz="_full_1rcmc_85",nz="_small_1rcmc_89",iz="_taskAction_1rcmc_95",az="_archive_1rcmc_118",sz="_restore_1rcmc_124",ac={button:JF,primary:QF,secondary:ZF,google:ez,icon:tz,full:rz,small:nz,taskAction:iz,archive:az,restore:sz};function gl({variant:e="secondary",size:t="default",className:r,children:n,archive:i,restore:a,...s}){const l=XF(ac.button,ac[e],t!=="default"&&ac[t],i&&ac.archive,a&&ac.restore,r);return o.jsx("button",{className:l,...s,children:n})}const oz="_authContainer_y0duy_2",lz="_authContainerModal_y0duy_12",cz="_authCard_y0duy_18",uz="_authHeader_y0duy_41",dz="_authTabs_y0duy_70",hz="_authTab_y0duy_70",fz="_active_y0duy_92",mz="_formGroup_y0duy_103",Yr={authContainer:oz,authContainerModal:lz,authCard:cz,authHeader:uz,authTabs:dz,authTab:hz,active:fz,formGroup:mz};function pz(){const[e,t]=m.useState(""),[r,n]=m.useState(""),{signIn:i,signInGoogle:a,loading:s}=Ye(),l=async u=>{u.preventDefault(),await i(e,r)},c=async()=>{await a()};return o.jsxs("form",{onSubmit:l,children:[o.jsxs("div",{className:Yr.formGroup,children:[o.jsxs("label",{children:[o.jsx(pl,{}),"Email"]}),o.jsx("input",{type:"email",value:e,onChange:u=>t(u.target.value),placeholder:"Enter your email",required:!0})]}),o.jsxs("div",{className:Yr.formGroup,children:[o.jsxs("label",{children:[o.jsx(Mm,{}),"Password"]}),o.jsx("input",{type:"password",value:r,onChange:u=>n(u.target.value),placeholder:"Enter your password",required:!0})]}),o.jsxs(gl,{type:"submit",variant:"primary",size:"full",disabled:s,children:[o.jsx(AF,{}),"Login"]}),o.jsxs(gl,{type:"button",variant:"google",size:"full",onClick:c,disabled:s,children:[o.jsx(hA,{}),"Continue with Google"]})]})}function vz(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[i,a]=m.useState(""),{signUp:s,signInGoogle:l,loading:c}=Ye(),u=async h=>{h.preventDefault(),await s(r,i,e)},d=async()=>{await l()};return o.jsxs("form",{onSubmit:u,children:[o.jsxs("div",{className:Yr.formGroup,children:[o.jsxs("label",{children:[o.jsx($i,{}),"Full Name"]}),o.jsx("input",{type:"text",value:e,onChange:h=>t(h.target.value),placeholder:"Enter your name",required:!0})]}),o.jsxs("div",{className:Yr.formGroup,children:[o.jsxs("label",{children:[o.jsx(pl,{}),"Email"]}),o.jsx("input",{type:"email",value:r,onChange:h=>n(h.target.value),placeholder:"Enter your email",required:!0})]}),o.jsxs("div",{className:Yr.formGroup,children:[o.jsxs("label",{children:[o.jsx(Mm,{}),"Password"]}),o.jsx("input",{type:"password",value:i,onChange:h=>a(h.target.value),placeholder:"Min 6 characters",required:!0,minLength:6})]}),o.jsxs(gl,{type:"submit",variant:"primary",size:"full",disabled:c,children:[o.jsx(dA,{}),"Create Account"]}),o.jsxs(gl,{type:"button",variant:"google",size:"full",onClick:d,disabled:c,children:[o.jsx(hA,{}),"Continue with Google"]})]})}function gz({initialTab:e="login",isInModal:t=!0}){const[r,n]=m.useState(e);return m.useEffect(()=>{n(e)},[e]),o.jsx("div",{className:t?Yr.authContainerModal:Yr.authContainer,children:o.jsxs("div",{className:Yr.authCard,children:[o.jsxs("div",{className:Yr.authHeader,children:[o.jsxs("h1",{children:[o.jsx(Us,{}),"Kanban Pro"]}),o.jsx("p",{children:"Sign in to manage your tasks"})]}),o.jsxs("div",{className:Yr.authTabs,children:[o.jsx("button",{className:`${Yr.authTab} ${r==="login"?Yr.active:""}`,onClick:()=>n("login"),children:"Login"}),o.jsx("button",{className:`${Yr.authTab} ${r==="register"?Yr.active:""}`,onClick:()=>n("register"),children:"Register"})]}),r==="login"?o.jsx(pz,{}):o.jsx(vz,{})]})})}const yz="_home_1ci3s_1",_z="_nav_1ci3s_7",wz="_navBrand_1ci3s_19",xz="_navIcon_1ci3s_28",bz="_navActions_1ci3s_34",kz="_navLink_1ci3s_40",jz="_themeToggle_1ci3s_57",Sz="_navButton_1ci3s_76",Cz="_hero_1ci3s_95",Nz="_heroContent_1ci3s_106",Tz="_heroBadge_1ci3s_121",Ez="_heroTitle_1ci3s_134",Pz="_highlight_1ci3s_143",Az="_heroSubtitle_1ci3s_147",Oz="_heroActions_1ci3s_155",Iz="_primaryButton_1ci3s_162",Dz="_buttonArrow_1ci3s_185",Lz="_secondaryButton_1ci3s_193",$z="_heroStats_1ci3s_209",Rz="_statItem_1ci3s_214",Mz="_statNumber_1ci3s_220",Bz="_statLabel_1ci3s_226",Fz="_heroImage_1ci3s_234",zz="_boardPreview_1ci3s_240",Uz="_previewColumn_1ci3s_250",Wz="_previewHeader_1ci3s_257",Hz="_previewCard_1ci3s_267",qz="_features_1ci3s_297",Vz="_sectionTitle_1ci3s_303",Kz="_featuresGrid_1ci3s_311",Gz="_featureCard_1ci3s_317",Yz="_featureIcon_1ci3s_331",Xz="_cta_1ci3s_362",Jz="_ctaButton_1ci3s_383",Qz="_footer_1ci3s_401",Zz="_footerContent_1ci3s_407",e7="_footerBrand_1ci3s_416",t7="_modalOverlay_1ci3s_437",r7="_modalContent_1ci3s_461",n7="_modalClose_1ci3s_480",ye={home:yz,nav:_z,navBrand:wz,navIcon:xz,navActions:bz,navLink:kz,themeToggle:jz,navButton:Sz,hero:Cz,heroContent:Nz,heroBadge:Tz,heroTitle:Ez,highlight:Pz,heroSubtitle:Az,heroActions:Oz,primaryButton:Iz,buttonArrow:Dz,secondaryButton:Lz,heroStats:$z,statItem:Rz,statNumber:Mz,statLabel:Bz,heroImage:Fz,boardPreview:zz,previewColumn:Uz,previewHeader:Wz,previewCard:Hz,features:qz,sectionTitle:Vz,featuresGrid:Kz,featureCard:Gz,featureIcon:Yz,cta:Xz,ctaButton:Jz,footer:Qz,footerContent:Zz,footerBrand:e7,modalOverlay:t7,modalContent:r7,modalClose:n7};function i7(){const{theme:e,toggleTheme:t}=Fu(),[r,n]=m.useState(!1),[i,a]=m.useState("login"),s=()=>{a("login"),n(!0)},l=()=>{a("register"),n(!0)};return o.jsxs("div",{className:ye.home,children:[o.jsxs("nav",{className:ye.nav,children:[o.jsxs("div",{className:ye.navBrand,children:[o.jsx(Us,{className:ye.navIcon}),o.jsx("span",{children:"Kanban Pro"})]}),o.jsxs("div",{className:ye.navActions,children:[o.jsx("button",{className:ye.themeToggle,onClick:t,title:"Toggle Theme",children:e==="dark"?o.jsx(pw,{}):o.jsx(mw,{})}),o.jsx("button",{className:ye.navLink,onClick:s,children:"Masuk"}),o.jsx("button",{className:ye.navButton,onClick:l,children:"Daftar Gratis"})]})]}),o.jsxs("section",{className:ye.hero,children:[o.jsxs("div",{className:ye.heroContent,children:[o.jsxs("div",{className:ye.heroBadge,children:[o.jsx(vl,{})," Kelola tugas dengan lebih efisien"]}),o.jsxs("h1",{className:ye.heroTitle,children:["Atur Proyek Anda dengan ",o.jsx("span",{className:ye.highlight,children:"Kanban Pro"})]}),o.jsx("p",{className:ye.heroSubtitle,children:"Platform manajemen tugas visual yang membantu tim Anda bekerja lebih produktif. Drag & drop, kolaborasi real-time, dan analitik lengkap."}),o.jsxs("div",{className:ye.heroActions,children:[o.jsxs("button",{className:ye.primaryButton,onClick:l,children:["Mulai Gratis",o.jsx("span",{className:ye.buttonArrow,children:""})]}),o.jsx("button",{className:ye.secondaryButton,onClick:s,children:"Sudah punya akun? Masuk"})]}),o.jsxs("div",{className:ye.heroStats,children:[o.jsxs("div",{className:ye.statItem,children:[o.jsx("span",{className:ye.statNumber,children:"10K+"}),o.jsx("span",{className:ye.statLabel,children:"Pengguna Aktif"})]}),o.jsxs("div",{className:ye.statItem,children:[o.jsx("span",{className:ye.statNumber,children:"50K+"}),o.jsx("span",{className:ye.statLabel,children:"Tugas Diselesaikan"})]}),o.jsxs("div",{className:ye.statItem,children:[o.jsx("span",{className:ye.statNumber,children:"99.9%"}),o.jsx("span",{className:ye.statLabel,children:"Uptime"})]})]})]}),o.jsx("div",{className:ye.heroImage,children:o.jsxs("div",{className:ye.boardPreview,children:[o.jsxs("div",{className:ye.previewColumn,children:[o.jsx("div",{className:ye.previewHeader,children:"To Do"}),o.jsx("div",{className:ye.previewCard}),o.jsx("div",{className:ye.previewCard}),o.jsx("div",{className:ye.previewCard})]}),o.jsxs("div",{className:ye.previewColumn,children:[o.jsx("div",{className:ye.previewHeader,children:"In Progress"}),o.jsx("div",{className:ye.previewCard}),o.jsx("div",{className:ye.previewCard})]}),o.jsxs("div",{className:ye.previewColumn,children:[o.jsx("div",{className:ye.previewHeader,children:"Done"}),o.jsx("div",{className:ye.previewCard})]})]})})]}),o.jsxs("section",{className:ye.features,children:[o.jsx("h2",{className:ye.sectionTitle,children:"Fitur Unggulan"}),o.jsxs("div",{className:ye.featuresGrid,children:[o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(zu,{})}),o.jsx("h3",{children:"Drag & Drop"}),o.jsx("p",{children:"Pindahkan tugas antar kolom dengan mudah menggunakan drag & drop yang intuitif."})]}),o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(Fm,{})}),o.jsx("h3",{children:"Analitik Lengkap"}),o.jsx("p",{children:"Pantau produktivitas tim dengan dashboard statistik yang komprehensif."})]}),o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(vl,{})}),o.jsx("h3",{children:"Keyboard Shortcuts"}),o.jsx("p",{children:"Bekerja lebih cepat dengan shortcut keyboard yang efisien."})]}),o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(ii,{})}),o.jsx("h3",{children:"Kolaborasi Tim"}),o.jsx("p",{children:"Bekerja bersama tim secara real-time dengan sinkronisasi instan."})]}),o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(Mm,{})}),o.jsx("h3",{children:"Aman & Privat"}),o.jsx("p",{children:"Data Anda terenkripsi dan disimpan dengan aman di cloud."})]}),o.jsxs("div",{className:ye.featureCard,children:[o.jsx("div",{className:ye.featureIcon,children:o.jsx(Us,{})}),o.jsx("h3",{children:"Multi-Board"}),o.jsx("p",{children:"Buat board berbeda untuk berbagai proyek atau tim."})]})]})]}),o.jsxs("section",{className:ye.cta,children:[o.jsx("h2",{children:"Siap untuk lebih produktif?"}),o.jsx("p",{children:"Bergabunglah dengan ribuan tim yang sudah menggunakan Kanban Pro."}),o.jsx("button",{className:ye.ctaButton,onClick:l,children:"Daftar Sekarang - Gratis!"})]}),o.jsx("footer",{className:ye.footer,children:o.jsxs("div",{className:ye.footerContent,children:[o.jsxs("div",{className:ye.footerBrand,children:[o.jsx(Us,{}),o.jsx("span",{children:"Kanban Pro"})]}),o.jsx("p",{children:" 2026 Kanban Pro. All rights reserved."})]})}),r&&o.jsx("div",{className:ye.modalOverlay,onClick:()=>n(!1),children:o.jsxs("div",{className:ye.modalContent,onClick:c=>c.stopPropagation(),children:[o.jsx("button",{className:ye.modalClose,onClick:()=>n(!1),children:""}),o.jsx(gz,{initialTab:i})]})})]})}const a7="_container_19u5u_1",s7="_bellButton_19u5u_5",o7="_badge_19u5u_29",l7="_overlay_19u5u_52",c7="_dropdown_19u5u_58",u7="_header_19u5u_84",d7="_markAllBtn_19u5u_94",h7="_list_19u5u_109",f7="_item_19u5u_114",m7="_unread_19u5u_133",p7="_invitation_19u5u_141",v7="_iconWrapper_19u5u_150",g7="_content_19u5u_167",y7="_time_19u5u_188",_7="_readBtn_19u5u_194",w7="_invitationActions_19u5u_215",x7="_acceptBtn_19u5u_221",b7="_declineBtn_19u5u_222",k7="_empty_19u5u_266",j7="_viewAllBtn_19u5u_286",vt={container:a7,bellButton:s7,badge:o7,overlay:l7,dropdown:c7,header:u7,markAllBtn:d7,list:h7,item:f7,unread:m7,invitation:p7,iconWrapper:v7,content:g7,time:y7,readBtn:_7,invitationActions:w7,acceptBtn:x7,declineBtn:b7,empty:k7,viewAllBtn:j7};function S7(){const{user:e}=Ye(),{openDetailPanel:t,setViewMode:r,loadTasks:n}=Xe(),{showToast:i}=vr(),[a,s]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState(!1);m.useEffect(()=>{if(e){h();const x=setInterval(h,3e4);return()=>clearInterval(x)}},[e]);const h=async()=>{if(!e)return;const{data:x}=await nw(e.id),{data:C}=await sw(e.email||""),S=[...(x||[]).map(j=>({...j,isInvitation:!1})),...(C||[]).map(j=>({id:j.id,type:"invitation",title:"Team Invitation",message:`${j.name} invited you to join their team as ${j.role}`,is_read:!1,created_at:j.invited_at,isInvitation:!0,invitationData:j}))];S.sort((j,N)=>new Date(N.created_at).getTime()-new Date(j.created_at).getTime()),c(S)},f=l.filter(x=>!x.is_read).length,p=async x=>{await iw(x),c(l.map(C=>C.id===x?{...C,is_read:!0}:C))},g=async()=>{e&&(await aw(e.id),c(l.map(x=>({...x,is_read:!0}))),i("All notifications marked as read!","success"))},w=async x=>{d(!0);const{error:C}=await ow(x);C?i("Failed to accept invitation","error"):(i("You joined the team!","success"),h()),d(!1)},y=async x=>{d(!0);const{error:C}=await lw(x);C?i("Failed to decline invitation","error"):(i("Invitation declined","info"),c(l.filter(S=>S.id!==x))),d(!1)},_=async x=>{if(!x.isInvitation&&!x.is_read&&await p(x.id),!x.isInvitation){const C=x;C.task_id&&(r("board"),await n(),t(C.task_id))}s(!1)},b=x=>{switch(x){case"task":return Fi;case"reminder":return sn;case"mention":return $i;case"comment":return of;case"invitation":return $i;default:return ta}},k=x=>{const C=new Date(x),j=new Date().getTime()-C.getTime(),N=Math.floor(j/6e4),T=Math.floor(j/36e5),P=Math.floor(j/864e5);return N<1?"Just now":N<60?`${N}m`:T<24?`${T}h`:P<7?`${P}d`:C.toLocaleDateString()};return o.jsxs("div",{className:vt.container,children:[o.jsxs("button",{className:vt.bellButton,onClick:()=>s(!a),title:"Notifications",children:[o.jsx(ta,{}),f>0&&o.jsx("span",{className:vt.badge,children:f>99?"99+":f})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:vt.overlay,onClick:()=>s(!1)}),o.jsxs("div",{className:vt.dropdown,children:[o.jsxs("div",{className:vt.header,children:[o.jsx("span",{children:"Notifications"}),f>0&&o.jsx("button",{className:vt.markAllBtn,onClick:g,children:"Mark all read"})]}),o.jsx("div",{className:vt.list,children:l.length===0?o.jsxs("div",{className:vt.empty,children:[o.jsx(ta,{}),o.jsx("p",{children:"No notifications"})]}):l.slice(0,10).map(x=>{const C=b(x.type);return x.isInvitation?o.jsxs("div",{className:`${vt.item} ${vt.invitation}`,children:[o.jsx("div",{className:vt.iconWrapper,children:o.jsx(C,{})}),o.jsxs("div",{className:vt.content,children:[o.jsx("strong",{children:x.title}),o.jsx("p",{children:x.message}),o.jsxs("div",{className:vt.invitationActions,children:[o.jsxs("button",{className:vt.acceptBtn,onClick:()=>w(x.id),disabled:u,children:[o.jsx(an,{})," Accept"]}),o.jsxs("button",{className:vt.declineBtn,onClick:()=>y(x.id),disabled:u,children:[o.jsx(ft,{})," Decline"]})]})]}),o.jsx("span",{className:vt.time,children:k(x.created_at)})]},x.id):o.jsxs("div",{className:`${vt.item} ${x.is_read?"":vt.unread}`,onClick:()=>_(x),children:[o.jsx("div",{className:vt.iconWrapper,children:o.jsx(C,{})}),o.jsxs("div",{className:vt.content,children:[o.jsx("strong",{children:x.title}),o.jsx("p",{children:x.message})]}),o.jsx("span",{className:vt.time,children:k(x.created_at)}),!x.is_read&&o.jsx("button",{className:vt.readBtn,onClick:S=>{S.stopPropagation(),p(x.id)},title:"Mark as read",children:o.jsx(an,{})})]},x.id)})}),o.jsx("button",{className:vt.viewAllBtn,onClick:()=>{s(!1)},children:"View all notifications"})]})]})]})}const Ek=e=>e?new Date(e).toLocaleDateString():"",sc=e=>{if(!e)return"";const t=String(e);return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t},C7=(e,t,r,n)=>{let i=r;i=i.filter(s=>!s.is_archived),n.columnId&&(i=i.filter(s=>s.column_id===n.columnId)),n.projectId&&(i=i.filter(s=>s.project_id===n.projectId)),n.dateFrom&&(i=i.filter(s=>s.created_at>=n.dateFrom)),n.dateTo&&(i=i.filter(s=>s.created_at<=n.dateTo));const a={board:{id:e.id,title:e.title,description:e.description},columns:t.map(s=>({id:s.id,title:s.title,color:s.color,wip_limit:s.wip_limit})),tasks:i.map(s=>{var l,c,u,d;return{id:s.id,title:s.title,description:s.description,priority:s.priority,due_date:s.due_date,column_id:s.column_id,is_archived:s.is_archived,tags:((l=s.tags)==null?void 0:l.map(h=>h.name))||[],labels:((c=s.task_labels)==null?void 0:c.map(h=>h.labels.name))||[],project:((u=s.projects)==null?void 0:u.name)||null,subtasks:((d=s.subtasks)==null?void 0:d.map(h=>({title:h.title,is_completed:h.is_completed})))||[],created_at:s.created_at}}),exportedAt:new Date().toISOString(),version:"2.0"};return JSON.stringify(a,null,2)},N7=(e,t,r)=>{let n=t;n=n.filter(s=>!s.is_archived),r.columnId&&(n=n.filter(s=>s.column_id===r.columnId)),r.projectId&&(n=n.filter(s=>s.project_id===r.projectId)),r.dateFrom&&(n=n.filter(s=>s.created_at>=r.dateFrom)),r.dateTo&&(n=n.filter(s=>s.created_at<=r.dateTo));const i=["Title","Description","Priority","Status","Due Date","Project","Labels","Tags","Subtasks Completed","Created At","Is Archived"],a=n.map(s=>{var f,p,g,w,y;const l=e.find(_=>_.id===s.column_id),c=((f=s.task_labels)==null?void 0:f.map(_=>_.labels.name).join("; "))||"",u=((p=s.tags)==null?void 0:p.map(_=>_.name).join("; "))||"",d=((g=s.subtasks)==null?void 0:g.filter(_=>_.is_completed).length)||0,h=((w=s.subtasks)==null?void 0:w.length)||0;return[sc(s.title),sc(s.description),s.priority,(l==null?void 0:l.title)||"Unknown",Ek(s.due_date),sc(((y=s.projects)==null?void 0:y.name)||""),sc(c),sc(u),`${d}/${h}`,Ek(s.created_at),s.is_archived?"Yes":"No"]});return[i.join(","),...a.map(s=>s.join(","))].join(`
`)},fA=(e,t,r)=>{const n=new Blob([e],{type:r}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)},T7=(e,t,r,n)=>{var c;const i=C7(e,t,r,n),a=new Date().toISOString().split("T")[0],l=`kanban-export${n.columnId?`-${((c=t.find(u=>u.id===n.columnId))==null?void 0:c.title)||"filtered"}`:""}-${a}.json`;fA(i,l,"application/json")},E7=(e,t,r)=>{var l;const n=N7(e,t,r),i=new Date().toISOString().split("T")[0],s=`kanban-export${r.columnId?`-${((l=e.find(c=>c.id===r.columnId))==null?void 0:l.title)||"filtered"}`:""}-${i}.csv`;fA(n,s,"text/csv;charset=utf-8")},Pk=e=>{try{const t=JSON.parse(e);return t.tasks&&Array.isArray(t.tasks)?{tasks:t.tasks,columns:t.columns}:t.cards&&Array.isArray(t.cards)?{tasks:t.cards.map(r=>{var n,i;return{title:r.name,description:r.desc,due_date:r.due,labels:(n=r.labels)==null?void 0:n.map(a=>a.name),column_title:((i=r.list)==null?void 0:i.name)||"To Do"}})}:null}catch{if(e.includes(",")&&e.includes(`
`)){const r=e.split(`
`),n=r[0].split(",");if(n.some(i=>i.toLowerCase().includes("title")))return{tasks:r.slice(1).map(a=>{const s=a.split(","),l={};return n.forEach((c,u)=>{var h,f,p;const d=c.toLowerCase().trim();d.includes("title")||d.includes("name")?l.title=(h=s[u])==null?void 0:h.replace(/^"|"$/g,""):d.includes("description")||d.includes("desc")?l.description=(f=s[u])==null?void 0:f.replace(/^"|"$/g,""):d.includes("priority")?l.priority=((p=s[u])==null?void 0:p.toLowerCase())||"medium":d.includes("status")||d.includes("column")?l.column_title=s[u]:d.includes("due")&&(l.due_date=s[u])}),l.title?l:null}).filter(Boolean)}}return null}},P7="_overlay_yq082_1",A7="_modal_yq082_12",O7="_header_yq082_22",I7="_closeBtn_yq082_37",D7="_content_yq082_61",L7="_dropZone_yq082_65",$7="_active_yq082_75",R7="_uploadIcon_yq082_80",M7="_dropText_yq082_87",B7="_browseLink_yq082_93",F7="_fileInput_yq082_103",z7="_hint_yq082_107",U7="_preview_yq082_113",W7="_fileInfo_yq082_117",H7="_taskCount_yq082_134",q7="_previewList_yq082_144",V7="_previewItem_yq082_161",K7="_previewMeta_yq082_179",G7="_priority_yq082_186",Y7="_options_yq082_191",X7="_optionLabel_yq082_198",J7="_select_yq082_203",Q7="_result_yq082_213",Z7="_successResult_yq082_218",eU="_errorResult_yq082_219",tU="_successIcon_yq082_225",rU="_errorIcon_yq082_232",nU="_errors_yq082_253",iU="_footer_yq082_278",aU="_cancelBtn_yq082_287",sU="_importBtn_yq082_304",oU="_doneBtn_yq082_305",ze={overlay:P7,modal:A7,header:O7,closeBtn:I7,content:D7,dropZone:L7,active:$7,uploadIcon:R7,dropText:M7,browseLink:B7,fileInput:F7,hint:z7,preview:U7,fileInfo:W7,taskCount:H7,previewList:q7,previewItem:V7,previewMeta:K7,priority:G7,options:Y7,optionLabel:X7,select:J7,result:Q7,successResult:Z7,errorResult:eU,successIcon:tU,errorIcon:rU,errors:nU,footer:iU,cancelBtn:aU,importBtn:sU,doneBtn:oU};function lU({onClose:e}){const{state:t,loadTasks:r}=Xe(),{user:n}=Ye(),[i,a]=m.useState(!1),[s,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(!1),[f,p]=m.useState(null),[g,w]=m.useState("duplicate"),y=m.useCallback(S=>{S.preventDefault(),S.stopPropagation(),S.type==="dragenter"||S.type==="dragover"?a(!0):S.type==="dragleave"&&a(!1)},[]),_=async S=>{l(S),p(null);const j=new FileReader;j.onload=N=>{var I;const T=(I=N.target)==null?void 0:I.result,P=Pk(T);P&&P.tasks.length>0?u(P.tasks.slice(0,10)):(u(null),p({success:!1,tasksImported:0,errors:["Unable to parse file. Please check the format."]}))},j.readAsText(S)},b=m.useCallback(S=>{S.preventDefault(),S.stopPropagation(),a(!1),S.dataTransfer.files&&S.dataTransfer.files[0]&&_(S.dataTransfer.files[0])},[]),k=S=>{S.target.files&&S.target.files[0]&&_(S.target.files[0])},x=async()=>{if(!s||!n||!t.board)return;h(!0);const S=[];let j=0;try{const N=new FileReader;N.onload=async T=>{var K,R,te;const P=(K=T.target)==null?void 0:K.result,I=Pk(P);if(!I){p({success:!1,tasksImported:0,errors:["Failed to parse import data"]}),h(!1);return}const E=new Map(t.columns.map(A=>[A.title.toLowerCase(),A.id])),B=((R=t.columns.find(A=>A.title.toLowerCase()==="to do"))==null?void 0:R.id)||((te=t.columns[0])==null?void 0:te.id);for(const A of I.tasks)try{let U=B;A.column_title?U=E.get(A.column_title.toLowerCase())||B:A.column_id&&t.columns.find(re=>re.id===A.column_id)&&(U=A.column_id);const z={board_id:t.board.id,column_id:U,user_id:n.id,title:A.title||"Untitled Task",description:A.description||null,priority:A.priority||"medium",due_date:A.due_date||null,position:0,is_archived:A.is_archived||!1},{data:Q,error:W}=await Y0(z);if(W){S.push(`Failed to create task "${A.title}": ${W.message}`);continue}if(A.tags&&Array.isArray(A.tags))for(const re of A.tags)await Im({task_id:Q.id,name:re});if(A.subtasks&&Array.isArray(A.subtasks))for(let re=0;re<A.subtasks.length;re++){const O=A.subtasks[re];await Dm({task_id:Q.id,title:O.title||O,is_completed:O.is_completed||!1,position:re})}j++}catch(U){S.push(`Error importing task "${A.title}": ${U.message}`)}await r(),p({success:j>0,tasksImported:j,errors:S}),h(!1),u(null),l(null)},N.readAsText(s)}catch(N){p({success:!1,tasksImported:0,errors:[N.message]}),h(!1)}},C=S=>{S.target===S.currentTarget&&e()};return o.jsx("div",{className:ze.overlay,onClick:C,children:o.jsxs("div",{className:ze.modal,children:[o.jsxs("div",{className:ze.header,children:[o.jsx("h2",{children:"Import Tasks"}),o.jsx("button",{className:ze.closeBtn,onClick:e,children:o.jsx(ft,{})})]}),o.jsx("div",{className:ze.content,children:f?o.jsxs("div",{className:ze.result,children:[f.success?o.jsxs("div",{className:ze.successResult,children:[o.jsx(an,{className:ze.successIcon}),o.jsx("h3",{children:"Import Complete!"}),o.jsxs("p",{children:[f.tasksImported," tasks imported successfully"]})]}):o.jsxs("div",{className:ze.errorResult,children:[o.jsx(sn,{className:ze.errorIcon}),o.jsx("h3",{children:"Import Failed"}),o.jsx("p",{children:"No tasks were imported"})]}),f.errors.length>0&&o.jsxs("div",{className:ze.errors,children:[o.jsx("h4",{children:"Warnings/Errors:"}),o.jsxs("ul",{children:[f.errors.slice(0,5).map((S,j)=>o.jsx("li",{children:S},j)),f.errors.length>5&&o.jsxs("li",{children:["...and ",f.errors.length-5," more"]})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`${ze.dropZone} ${i?ze.active:""}`,onDragEnter:y,onDragLeave:y,onDragOver:y,onDrop:b,children:[o.jsx(vw,{className:ze.uploadIcon}),o.jsxs("p",{className:ze.dropText,children:["Drag and drop a file here, or"," ",o.jsxs("label",{className:ze.browseLink,children:["browse",o.jsx("input",{type:"file",accept:".json,.csv",onChange:k,className:ze.fileInput})]})]}),o.jsx("p",{className:ze.hint,children:"Supports JSON and CSV formats"})]}),s&&c&&o.jsxs("div",{className:ze.preview,children:[o.jsxs("div",{className:ze.fileInfo,children:[o.jsx(Rc,{}),o.jsx("span",{children:s.name}),o.jsxs("span",{className:ze.taskCount,children:[c.length,"+ tasks found"]})]}),o.jsxs("div",{className:ze.previewList,children:[o.jsx("h4",{children:"Preview (first 10 tasks)"}),c.map((S,j)=>o.jsxs("div",{className:ze.previewItem,children:[o.jsx("strong",{children:S.title}),o.jsxs("span",{className:ze.previewMeta,children:[S.priority&&o.jsx("span",{className:ze.priority,children:S.priority}),S.column_title&&o.jsx("span",{children:S.column_title})]})]},j))]}),o.jsxs("div",{className:ze.options,children:[o.jsx("label",{className:ze.optionLabel,children:"If task already exists:"}),o.jsxs("select",{value:g,onChange:S=>w(S.target.value),className:ze.select,children:[o.jsx("option",{value:"duplicate",children:"Create duplicate"}),o.jsx("option",{value:"skip",children:"Skip"}),o.jsx("option",{value:"update",children:"Update existing"})]})]})]})]})}),o.jsx("div",{className:ze.footer,children:f?o.jsx("button",{className:ze.doneBtn,onClick:e,children:"Done"}):o.jsxs(o.Fragment,{children:[o.jsx("button",{className:ze.cancelBtn,onClick:e,children:"Cancel"}),o.jsx("button",{className:ze.importBtn,onClick:x,disabled:!s||!c||d,children:d?"Importing...":"Import Tasks"})]})})]})})}const cU="_header_1sjpr_2",uU="_headerLeft_1sjpr_15",dU="_logoText_1sjpr_42",hU="_headerCenter_1sjpr_56",fU="_headerRight_1sjpr_62",mU="_addBtn_1sjpr_70",pU="_addBtnText_1sjpr_99",vU="_menuBtn_1sjpr_113",gU="_userMenu_1sjpr_145",yU="_userBtn_1sjpr_149",_U="_userAvatar_1sjpr_165",wU="_userDropdown_1sjpr_185",xU="_userDropdownHeader_1sjpr_210",bU="_userDropdownName_1sjpr_217",kU="_userDropdownEmail_1sjpr_223",jU="_userDropdownDivider_1sjpr_228",SU="_userDropdownItem_1sjpr_233",CU="_userDropdownSection_1sjpr_259",NU="_userDropdownSectionTitle_1sjpr_263",TU="_toggleBadge_1sjpr_283",$e={header:cU,headerLeft:uU,logoText:dU,headerCenter:hU,headerRight:fU,addBtn:mU,addBtnText:pU,menuBtn:vU,userMenu:gU,userBtn:yU,userAvatar:_U,userDropdown:wU,userDropdownHeader:xU,userDropdownName:bU,userDropdownEmail:kU,userDropdownDivider:jU,userDropdownItem:SU,userDropdownSection:CU,userDropdownSectionTitle:NU,toggleBadge:TU};function EU(){var w;const{user:e,profile:t,signOutUser:r}=Ye(),{setView:n}=$m(),{theme:i,toggleTheme:a}=Fu(),{state:s,exportData:l}=Xe(),[c,u]=m.useState(!1),[d,h]=m.useState(!1),f=m.useRef(null),p=(t==null?void 0:t.full_name)||((w=e==null?void 0:e.user_metadata)==null?void 0:w.name)||"User",g=y=>{if(!s.board||!s.columns||!s.tasks)return;const _={};y==="json"?T7(s.board,s.columns,s.tasks,_):E7(s.columns,s.tasks,_),u(!1)};return m.useEffect(()=>{function y(_){f.current&&!f.current.contains(_.target)&&u(!1)}return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]),o.jsxs("div",{className:$e.userMenu,ref:f,children:[o.jsx("button",{className:$e.userBtn,onClick:()=>u(!c),title:p,children:o.jsx("div",{className:$e.userAvatar,children:t!=null&&t.avatar_url?o.jsx("img",{src:t.avatar_url,alt:"Avatar"}):o.jsx("span",{children:(p==null?void 0:p.charAt(0).toUpperCase())||"U"})})}),c&&o.jsxs("div",{className:$e.userDropdown,children:[o.jsxs("div",{className:$e.userDropdownHeader,children:[o.jsx("span",{className:$e.userDropdownName,children:p}),o.jsx("span",{className:$e.userDropdownEmail,children:e==null?void 0:e.email})]}),o.jsx("div",{className:$e.userDropdownDivider}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{n("settings"),u(!1)},children:[o.jsx(ua,{})," Edit Profile"]}),o.jsx("div",{className:$e.userDropdownDivider}),o.jsxs("div",{className:$e.userDropdownSection,children:[o.jsx("span",{className:$e.userDropdownSectionTitle,children:"TEAM & REPORTS"}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{n("team"),u(!1)},children:[o.jsx(ii,{})," Team"]}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{n("reports"),u(!1)},children:[o.jsx(sf,{})," Reports"]})]}),o.jsx("div",{className:$e.userDropdownDivider}),o.jsxs("div",{className:$e.userDropdownSection,children:[o.jsx("span",{className:$e.userDropdownSectionTitle,children:"DATA"}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>g("json"),children:[o.jsx(Ei,{})," Export as JSON"]}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>g("csv"),children:[o.jsx(Rc,{})," Export as CSV"]}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{h(!0),u(!1)},children:[o.jsx(vw,{})," Import Tasks"]})]}),o.jsx("div",{className:$e.userDropdownDivider}),o.jsxs("div",{className:$e.userDropdownSection,children:[o.jsx("span",{className:$e.userDropdownSectionTitle,children:"PREFERENCES"}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{n("settings"),u(!1)},children:[o.jsx(uA,{})," Settings"]}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{a()},children:[i==="dark"?o.jsx(pw,{}):o.jsx(mw,{})," Dark Mode",o.jsx("span",{className:$e.toggleBadge,children:i==="dark"?"On":"Off"})]}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{n("help"),u(!1)},children:[o.jsx(oA,{})," Help"]})]}),o.jsx("div",{className:$e.userDropdownDivider}),o.jsxs("button",{className:$e.userDropdownItem,onClick:()=>{r(),u(!1)},children:[o.jsx(OF,{})," Log Out"]})]}),d&&o.jsx(lU,{onClose:()=>h(!1)})]})}function PU({onMenuClick:e}){const{openModal:t}=Xe();return o.jsxs("header",{className:$e.header,children:[o.jsxs("div",{className:$e.headerLeft,children:[o.jsx("button",{className:$e.menuBtn,onClick:e,title:"Open menu",children:o.jsx(IF,{})}),o.jsxs("h1",{children:[o.jsx(Us,{}),o.jsx("span",{className:$e.logoText,children:"Kanban Pro"})]})]}),o.jsx("div",{className:$e.headerCenter}),o.jsxs("div",{className:$e.headerRight,children:[o.jsx(S7,{}),o.jsxs("button",{className:$e.addBtn,onClick:()=>t(),title:"Add new task (N)",children:[o.jsx(ht,{}),o.jsx("span",{className:$e.addBtnText,children:"New Task"})]}),o.jsx(EU,{})]})]})}const AU="_sidebar_t7brp_2",OU="_overlay_t7brp_16",IU="_mobileSidebar_t7brp_33",DU="_mobileOpen_t7brp_38",LU="_sidebarHeader_t7brp_43",$U="_workspaceSelector_t7brp_54",RU="_workspaceBtn_t7brp_58",MU="_workspaceIcon_t7brp_65",BU="_workspaceName_t7brp_79",FU="_closeBtn_t7brp_174",zU="_sidebarNav_t7brp_194",UU="_menuSection_t7brp_200",WU="_menuItem_t7brp_204",HU="_menuItemActive_t7brp_226",qU="_menuIcon_t7brp_235",VU="_menuTitle_t7brp_247",nt={sidebar:AU,overlay:OU,mobileSidebar:IU,mobileOpen:DU,sidebarHeader:LU,workspaceSelector:$U,workspaceBtn:RU,workspaceIcon:MU,workspaceName:BU,closeBtn:FU,sidebarNav:zU,menuSection:UU,menuItem:WU,menuItemActive:HU,menuIcon:qU,menuTitle:VU};function KU({isOpen:e=!0,onClose:t}){var p;const{user:r,profile:n}=Ye(),{currentView:i,setView:a}=$m(),[s,l]=m.useState(!1),c="Kanban Ale Ale";n!=null&&n.full_name||(p=r==null?void 0:r.user_metadata)!=null&&p.name,m.useEffect(()=>{const g=()=>{l(window.innerWidth<1024)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]);const u=[{id:"dashboard",label:"Dashboard",icon:fw},{id:"board",label:"Kanban Board",icon:Us},{id:"my-tasks",label:"My Tasks",icon:zu},{id:"calendar",label:"Calendar",icon:Ht}],d=[{id:"projects",label:"Projects",icon:Pi},{id:"labels",label:"Labels",icon:Ol},{id:"templates",label:"Templates",icon:Ei},{id:"activity",label:"Activity",icon:_n},{id:"starred",label:"Starred",icon:ra},{id:"watching",label:"Watching",icon:fl},{id:"archive",label:"Archive",icon:dw},{id:"notifications",label:"Notifications",icon:ta}],h=[{id:"reports",label:"Reports",icon:sf},{id:"automation",label:"Automation",icon:vl},{id:"custom-fields",label:"Custom Fields",icon:Ei},{id:"gantt",label:"Gantt Chart",icon:ml},{id:"timeline",label:"Timeline",icon:St},{id:"workload",label:"Workload",icon:ii}],f=g=>{a(g),s&&t&&t()};return s&&!e?null:o.jsxs(o.Fragment,{children:[s&&e&&o.jsx("div",{className:nt.overlay,onClick:t}),o.jsxs("aside",{className:`${nt.sidebar} ${s?nt.mobileSidebar:""} ${s&&e?nt.mobileOpen:""}`,children:[o.jsxs("div",{className:nt.sidebarHeader,children:[o.jsx("div",{className:nt.workspaceSelector,children:o.jsxs("div",{className:nt.workspaceBtn,children:[o.jsx("div",{className:nt.workspaceIcon,children:"K"}),o.jsx("span",{className:nt.workspaceName,children:c})]})}),s&&o.jsx("button",{className:nt.closeBtn,onClick:t,children:o.jsx(ft,{})})]}),o.jsxs("nav",{className:nt.sidebarNav,children:[o.jsxs("div",{className:nt.menuSection,children:[o.jsx("div",{className:nt.menuTitle,children:"MENU"}),u.map(g=>o.jsxs("button",{className:`${nt.menuItem} ${i===g.id?nt.menuItemActive:""}`,onClick:()=>f(g.id),children:[o.jsx(g.icon,{className:nt.menuIcon}),o.jsx("span",{children:g.label})]},g.id))]}),o.jsxs("div",{className:nt.menuSection,children:[o.jsx("div",{className:nt.menuTitle,children:"ORGANIZE"}),d.map(g=>o.jsxs("button",{className:`${nt.menuItem} ${i===g.id?nt.menuItemActive:""}`,onClick:()=>f(g.id),children:[o.jsx(g.icon,{className:nt.menuIcon}),o.jsx("span",{children:g.label})]},g.id))]}),o.jsxs("div",{className:nt.menuSection,children:[o.jsx("div",{className:nt.menuTitle,children:"VIEWS"}),h.map(g=>o.jsxs("button",{className:`${nt.menuItem} ${i===g.id?nt.menuItemActive:""}`,onClick:()=>f(g.id),children:[o.jsx(g.icon,{className:nt.menuIcon}),o.jsx("span",{children:g.label})]},g.id))]})]})]})]})}function GU(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>n=>{t.forEach(i=>i(n))},t)}const zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Il(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function gw(e){return"nodeType"in e}function Vr(e){var t,r;return e?Il(e)?e:gw(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function yw(e){const{Document:t}=Vr(e);return e instanceof t}function Uu(e){return Il(e)?!1:e instanceof Vr(e).HTMLElement}function mA(e){return e instanceof Vr(e).SVGElement}function Dl(e){return e?Il(e)?e.document:gw(e)?yw(e)?e:Uu(e)||mA(e)?e.ownerDocument:document:document:document}const ui=zm?m.useLayoutEffect:m.useEffect;function Um(e){const t=m.useRef(e);return ui(()=>{t.current=e}),m.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return t.current==null?void 0:t.current(...n)},[])}function YU(){const e=m.useRef(null),t=m.useCallback((n,i)=>{e.current=setInterval(n,i)},[]),r=m.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function mu(e,t){t===void 0&&(t=[e]);const r=m.useRef(e);return ui(()=>{r.current!==e&&(r.current=e)},t),r}function Wu(e,t){const r=m.useRef();return m.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function cf(e){const t=Um(e),r=m.useRef(null),n=m.useCallback(i=>{i!==r.current&&(t==null||t(i,r.current)),r.current=i},[]);return[r,n]}function uf(e){const t=m.useRef();return m.useEffect(()=>{t.current=e},[e]),t.current}let Bv={};function Hu(e,t){return m.useMemo(()=>{if(t)return t;const r=Bv[e]==null?0:Bv[e]+1;return Bv[e]=r,e+"-"+r},[e,t])}function pA(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.reduce((a,s)=>{const l=Object.entries(s);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const rl=pA(1),df=pA(-1);function XU(e){return"clientX"in e&&"clientY"in e}function Wm(e){if(!e)return!1;const{KeyboardEvent:t}=Vr(e.target);return t&&e instanceof t}function JU(e){if(!e)return!1;const{TouchEvent:t}=Vr(e.target);return t&&e instanceof t}function hf(e){if(JU(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return XU(e)?{x:e.clientX,y:e.clientY}:null}const as=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[as.Translate.toString(e),as.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Ak="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function QU(e){return e.matches(Ak)?e:e.querySelector(Ak)}const ZU={display:"none"};function e9(e){let{id:t,value:r}=e;return Ve.createElement("div",{id:t,style:ZU},r)}function t9(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ve.createElement("div",{id:t,style:i,role:"status","aria-live":n,"aria-atomic":!0},r)}function r9(){const[e,t]=m.useState("");return{announce:m.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const vA=m.createContext(null);function n9(e){const t=m.useContext(vA);m.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function i9(){const[e]=m.useState(()=>new Set),t=m.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[m.useCallback(n=>{let{type:i,event:a}=n;e.forEach(s=>{var l;return(l=s[i])==null?void 0:l.call(s,a)})},[e]),t]}const a9={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},s9={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function o9(e){let{announcements:t=s9,container:r,hiddenTextDescribedById:n,screenReaderInstructions:i=a9}=e;const{announce:a,announcement:s}=r9(),l=Hu("DndLiveRegion"),[c,u]=m.useState(!1);if(m.useEffect(()=>{u(!0)},[]),n9(m.useMemo(()=>({onDragStart(h){let{active:f}=h;a(t.onDragStart({active:f}))},onDragMove(h){let{active:f,over:p}=h;t.onDragMove&&a(t.onDragMove({active:f,over:p}))},onDragOver(h){let{active:f,over:p}=h;a(t.onDragOver({active:f,over:p}))},onDragEnd(h){let{active:f,over:p}=h;a(t.onDragEnd({active:f,over:p}))},onDragCancel(h){let{active:f,over:p}=h;a(t.onDragCancel({active:f,over:p}))}}),[a,t])),!c)return null;const d=Ve.createElement(Ve.Fragment,null,Ve.createElement(e9,{id:n,value:i.draggable}),Ve.createElement(t9,{id:l,announcement:s}));return r?Ha.createPortal(d,r):d}var tr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(tr||(tr={}));function ff(){}function l9(e,t){return m.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function c9(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return m.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const di=Object.freeze({x:0,y:0});function u9(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function d9(e,t){const r=hf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function h9(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function f9(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function m9(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Ok(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const p9=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=Ok(t,t.left,t.top),a=[];for(const s of n){const{id:l}=s,c=r.get(l);if(c){const u=u9(Ok(c),i);a.push({id:l,data:{droppableContainer:s,value:u}})}}return a.sort(h9)};function v9(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),s=i-n,l=a-r;if(n<i&&r<a){const c=t.width*t.height,u=e.width*e.height,d=s*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const g9=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const i=[];for(const a of n){const{id:s}=a,l=r.get(s);if(l){const c=v9(l,t);c>0&&i.push({id:s,data:{droppableContainer:a,value:c}})}}return i.sort(f9)};function y9(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function gA(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:di}function _9(e){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return i.reduce((s,l)=>({...s,top:s.top+e*l.y,bottom:s.bottom+e*l.y,left:s.left+e*l.x,right:s.right+e*l.x}),{...r})}}const w9=_9(1);function yA(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function x9(e,t,r){const n=yA(t);if(!n)return e;const{scaleX:i,scaleY:a,x:s,y:l}=n,c=e.left-s-(1-i)*parseFloat(r),u=e.top-l-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const b9={ignoreTransform:!1};function Ll(e,t){t===void 0&&(t=b9);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Vr(e).getComputedStyle(e);u&&(r=x9(r,u,d))}const{top:n,left:i,width:a,height:s,bottom:l,right:c}=r;return{top:n,left:i,width:a,height:s,bottom:l,right:c}}function Ik(e){return Ll(e,{ignoreTransform:!0})}function k9(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function j9(e,t){return t===void 0&&(t=Vr(e).getComputedStyle(e)),t.position==="fixed"}function S9(e,t){t===void 0&&(t=Vr(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?r.test(a):!1})}function _w(e,t){const r=[];function n(i){if(t!=null&&r.length>=t||!i)return r;if(yw(i)&&i.scrollingElement!=null&&!r.includes(i.scrollingElement))return r.push(i.scrollingElement),r;if(!Uu(i)||mA(i)||r.includes(i))return r;const a=Vr(e).getComputedStyle(i);return i!==e&&S9(i,a)&&r.push(i),j9(i,a)?r:n(i.parentNode)}return e?n(e):r}function _A(e){const[t]=_w(e,1);return t??null}function Fv(e){return!zm||!e?null:Il(e)?e:gw(e)?yw(e)||e===Dl(e).scrollingElement?window:Uu(e)?e:null:null}function wA(e){return Il(e)?e.scrollX:e.scrollLeft}function xA(e){return Il(e)?e.scrollY:e.scrollTop}function $y(e){return{x:wA(e),y:xA(e)}}var fr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(fr||(fr={}));function bA(e){return!zm||!e?!1:e===document.scrollingElement}function kA(e){const t={x:0,y:0},r=bA(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:i,isLeft:a,isBottom:s,isRight:l,maxScroll:n,minScroll:t}}const C9={x:.2,y:.2};function N9(e,t,r,n,i){let{top:a,left:s,right:l,bottom:c}=r;n===void 0&&(n=10),i===void 0&&(i=C9);const{isTop:u,isBottom:d,isLeft:h,isRight:f}=kA(e),p={x:0,y:0},g={x:0,y:0},w={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+w.height?(p.y=fr.Backward,g.y=n*Math.abs((t.top+w.height-a)/w.height)):!d&&c>=t.bottom-w.height&&(p.y=fr.Forward,g.y=n*Math.abs((t.bottom-w.height-c)/w.height)),!f&&l>=t.right-w.width?(p.x=fr.Forward,g.x=n*Math.abs((t.right-w.width-l)/w.width)):!h&&s<=t.left+w.width&&(p.x=fr.Backward,g.x=n*Math.abs((t.left+w.width-s)/w.width)),{direction:p,speed:g}}function T9(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:s}=window;return{top:0,left:0,right:a,bottom:s,width:a,height:s}}const{top:t,left:r,right:n,bottom:i}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:i,width:e.clientWidth,height:e.clientHeight}}function jA(e){return e.reduce((t,r)=>rl(t,$y(r)),di)}function E9(e){return e.reduce((t,r)=>t+wA(r),0)}function P9(e){return e.reduce((t,r)=>t+xA(r),0)}function SA(e,t){if(t===void 0&&(t=Ll),!e)return;const{top:r,left:n,bottom:i,right:a}=t(e);_A(e)&&(i<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const A9=[["x",["left","right"],E9],["y",["top","bottom"],P9]];class ww{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=_w(r),i=jA(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,s,l]of A9)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Mc{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var i;(i=this.target)==null||i.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function O9(e){const{EventTarget:t}=Vr(e);return e instanceof t?e:Dl(e)}function zv(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var In;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(In||(In={}));function Dk(e){e.preventDefault()}function I9(e){e.stopPropagation()}var qe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(qe||(qe={}));const CA={start:[qe.Space,qe.Enter],cancel:[qe.Esc],end:[qe.Space,qe.Enter,qe.Tab]},D9=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case qe.Right:return{...r,x:r.x+25};case qe.Left:return{...r,x:r.x-25};case qe.Down:return{...r,y:r.y+25};case qe.Up:return{...r,y:r.y-25}}};class NA{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Mc(Dl(r)),this.windowListeners=new Mc(Vr(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(In.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&SA(n),r(di)}handleKeyDown(t){if(Wm(t)){const{active:r,context:n,options:i}=this.props,{keyboardCodes:a=CA,coordinateGetter:s=D9,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:di;this.referenceCoordinates||(this.referenceCoordinates=d);const h=s(t,{active:r,context:n.current,currentCoordinates:d});if(h){const f=df(h,d),p={x:0,y:0},{scrollableAncestors:g}=n.current;for(const w of g){const y=t.code,{isTop:_,isRight:b,isLeft:k,isBottom:x,maxScroll:C,minScroll:S}=kA(w),j=T9(w),N={x:Math.min(y===qe.Right?j.right-j.width/2:j.right,Math.max(y===qe.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(y===qe.Down?j.bottom-j.height/2:j.bottom,Math.max(y===qe.Down?j.top:j.top+j.height/2,h.y))},T=y===qe.Right&&!b||y===qe.Left&&!k,P=y===qe.Down&&!x||y===qe.Up&&!_;if(T&&N.x!==h.x){const I=w.scrollLeft+f.x,E=y===qe.Right&&I<=C.x||y===qe.Left&&I>=S.x;if(E&&!f.y){w.scrollTo({left:I,behavior:l});return}E?p.x=w.scrollLeft-I:p.x=y===qe.Right?w.scrollLeft-C.x:w.scrollLeft-S.x,p.x&&w.scrollBy({left:-p.x,behavior:l});break}else if(P&&N.y!==h.y){const I=w.scrollTop+f.y,E=y===qe.Down&&I<=C.y||y===qe.Up&&I>=S.y;if(E&&!f.x){w.scrollTo({top:I,behavior:l});return}E?p.y=w.scrollTop-I:p.y=y===qe.Down?w.scrollTop-C.y:w.scrollTop-S.y,p.y&&w.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,rl(df(h,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}NA.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=CA,onActivation:i}=t,{active:a}=r;const{code:s}=e.nativeEvent;if(n.start.includes(s)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Lk(e){return!!(e&&"distance"in e)}function $k(e){return!!(e&&"delay"in e)}class xw{constructor(t,r,n){var i;n===void 0&&(n=O9(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:s}=a;this.props=t,this.events=r,this.document=Dl(s),this.documentListeners=new Mc(this.document),this.listeners=new Mc(n),this.windowListeners=new Mc(Vr(s)),this.initialCoordinates=(i=hf(a))!=null?i:di,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(In.Resize,this.handleCancel),this.windowListeners.add(In.DragStart,Dk),this.windowListeners.add(In.VisibilityChange,this.handleCancel),this.windowListeners.add(In.ContextMenu,Dk),this.documentListeners.add(In.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($k(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Lk(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:i}=this.props;i(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(In.Click,I9,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(In.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:i,props:a}=this,{onMove:s,options:{activationConstraint:l}}=a;if(!i)return;const c=(r=hf(t))!=null?r:di,u=df(i,c);if(!n&&l){if(Lk(l)){if(l.tolerance!=null&&zv(u,l.tolerance))return this.handleCancel();if(zv(u,l.distance))return this.handleStart()}if($k(l)&&zv(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===qe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const L9={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class bw extends xw{constructor(t){const{event:r}=t,n=Dl(r.target);super(t,L9,n)}}bw.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const $9={move:{name:"mousemove"},end:{name:"mouseup"}};var Ry;(function(e){e[e.RightClick=2]="RightClick"})(Ry||(Ry={}));class R9 extends xw{constructor(t){super(t,$9,Dl(t.event.target))}}R9.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Ry.RightClick?!1:(n==null||n({event:r}),!0)}}];const Uv={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class M9 extends xw{constructor(t){super(t,Uv)}static setup(){return window.addEventListener(Uv.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Uv.move.name,t)};function t(){}}}M9.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:i}=r;return i.length>1?!1:(n==null||n({event:r}),!0)}}];var Bc;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Bc||(Bc={}));var mf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mf||(mf={}));function B9(e){let{acceleration:t,activator:r=Bc.Pointer,canScroll:n,draggingRect:i,enabled:a,interval:s=5,order:l=mf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:f}=e;const p=z9({delta:h,disabled:!a}),[g,w]=YU(),y=m.useRef({x:0,y:0}),_=m.useRef({x:0,y:0}),b=m.useMemo(()=>{switch(r){case Bc.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Bc.DraggableRect:return i}},[r,i,c]),k=m.useRef(null),x=m.useCallback(()=>{const S=k.current;if(!S)return;const j=y.current.x*_.current.x,N=y.current.y*_.current.y;S.scrollBy(j,N)},[]),C=m.useMemo(()=>l===mf.TreeOrder?[...u].reverse():u,[l,u]);m.useEffect(()=>{if(!a||!u.length||!b){w();return}for(const S of C){if((n==null?void 0:n(S))===!1)continue;const j=u.indexOf(S),N=d[j];if(!N)continue;const{direction:T,speed:P}=N9(S,N,b,t,f);for(const I of["x","y"])p[I][T[I]]||(P[I]=0,T[I]=0);if(P.x>0||P.y>0){w(),k.current=S,g(x,s),y.current=P,_.current=T;return}}y.current={x:0,y:0},_.current={x:0,y:0},w()},[t,x,n,w,a,s,JSON.stringify(b),JSON.stringify(p),g,u,C,d,JSON.stringify(f)])}const F9={x:{[fr.Backward]:!1,[fr.Forward]:!1},y:{[fr.Backward]:!1,[fr.Forward]:!1}};function z9(e){let{delta:t,disabled:r}=e;const n=uf(t);return Wu(i=>{if(r||!n||!i)return F9;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[fr.Backward]:i.x[fr.Backward]||a.x===-1,[fr.Forward]:i.x[fr.Forward]||a.x===1},y:{[fr.Backward]:i.y[fr.Backward]||a.y===-1,[fr.Forward]:i.y[fr.Forward]||a.y===1}}},[r,t,n])}function U9(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Wu(i=>{var a;return t==null?null:(a=n??i)!=null?a:null},[n,t])}function W9(e,t){return m.useMemo(()=>e.reduce((r,n)=>{const{sensor:i}=n,a=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,n)}));return[...r,...a]},[]),[e,t])}var pu;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(pu||(pu={}));var My;(function(e){e.Optimized="optimized"})(My||(My={}));const Rk=new Map;function H9(e,t){let{dragging:r,dependencies:n,config:i}=t;const[a,s]=m.useState(null),{frequency:l,measure:c,strategy:u}=i,d=m.useRef(e),h=y(),f=mu(h),p=m.useCallback(function(_){_===void 0&&(_=[]),!f.current&&s(b=>b===null?_:b.concat(_.filter(k=>!b.includes(k))))},[f]),g=m.useRef(null),w=Wu(_=>{if(h&&!r)return Rk;if(!_||_===Rk||d.current!==e||a!=null){const b=new Map;for(let k of e){if(!k)continue;if(a&&a.length>0&&!a.includes(k.id)&&k.rect.current){b.set(k.id,k.rect.current);continue}const x=k.node.current,C=x?new ww(c(x),x):null;k.rect.current=C,C&&b.set(k.id,C)}return b}return _},[e,a,r,h,c]);return m.useEffect(()=>{d.current=e},[e]),m.useEffect(()=>{h||p()},[r,h]),m.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),m.useEffect(()=>{h||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{p(),g.current=null},l))},[l,h,p,...n]),{droppableRects:w,measureDroppableContainers:p,measuringScheduled:a!=null};function y(){switch(u){case pu.Always:return!1;case pu.BeforeDragging:return r;default:return!r}}}function kw(e,t){return Wu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function q9(e,t){return kw(e,t)}function V9(e){let{callback:t,disabled:r}=e;const n=Um(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Hm(e){let{callback:t,disabled:r}=e;const n=Um(t),i=m.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return m.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function K9(e){return new ww(Ll(e),e)}function Mk(e,t,r){t===void 0&&(t=K9);const[n,i]=m.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const s=V9({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),l=Hm({callback:a});return ui(()=>{a(),e?(l==null||l.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),s==null||s.disconnect())},[e]),n}function G9(e){const t=kw(e);return gA(e,t)}const Bk=[];function Y9(e){const t=m.useRef(e),r=Wu(n=>e?n&&n!==Bk&&e&&t.current&&e.parentNode===t.current.parentNode?n:_w(e):Bk,[e]);return m.useEffect(()=>{t.current=e},[e]),r}function X9(e){const[t,r]=m.useState(null),n=m.useRef(e),i=m.useCallback(a=>{const s=Fv(a.target);s&&r(l=>l?(l.set(s,$y(s)),new Map(l)):null)},[]);return m.useEffect(()=>{const a=n.current;if(e!==a){s(a);const l=e.map(c=>{const u=Fv(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,$y(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{s(e),s(a)};function s(l){l.forEach(c=>{const u=Fv(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),m.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,s)=>rl(a,s),di):jA(e):di,[e,t])}function Fk(e,t){t===void 0&&(t=[]);const r=m.useRef(null);return m.useEffect(()=>{r.current=null},t),m.useEffect(()=>{const n=e!==di;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?df(e,r.current):di}function J9(e){m.useEffect(()=>{if(!zm)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Q9(e,t){return m.useMemo(()=>e.reduce((r,n)=>{let{eventName:i,handler:a}=n;return r[i]=s=>{a(s,t)},r},{}),[e,t])}function TA(e){return m.useMemo(()=>e?k9(e):null,[e])}const zk=[];function Z9(e,t){t===void 0&&(t=Ll);const[r]=e,n=TA(r?Vr(r):null),[i,a]=m.useState(zk);function s(){a(()=>e.length?e.map(c=>bA(c)?n:new ww(t(c),c)):zk)}const l=Hm({callback:s});return ui(()=>{l==null||l.disconnect(),s(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function EA(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Uu(t)?t:e}function eW(e){let{measure:t}=e;const[r,n]=m.useState(null),i=m.useCallback(u=>{for(const{target:d}of u)if(Uu(d)){n(h=>{const f=t(d);return h?{...h,width:f.width,height:f.height}:f});break}},[t]),a=Hm({callback:i}),s=m.useCallback(u=>{const d=EA(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[l,c]=cf(s);return m.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const tW=[{sensor:bw,options:{}},{sensor:NA,options:{}}],rW={current:{}},xh={draggable:{measure:Ik},droppable:{measure:Ik,strategy:pu.WhileDragging,frequency:My.Optimized},dragOverlay:{measure:Ll}};class Fc extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const nW={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Fc,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ff},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:xh,measureDroppableContainers:ff,windowRect:null,measuringScheduled:!1},PA={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ff,draggableNodes:new Map,over:null,measureDroppableContainers:ff},qu=m.createContext(PA),AA=m.createContext(nW);function iW(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Fc}}}function aW(e,t){switch(t.type){case tr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case tr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case tr.DragEnd:case tr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case tr.RegisterDroppable:{const{element:r}=t,{id:n}=r,i=new Fc(e.droppable.containers);return i.set(n,r),{...e,droppable:{...e.droppable,containers:i}}}case tr.SetDroppableDisabled:{const{id:r,key:n,disabled:i}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const s=new Fc(e.droppable.containers);return s.set(r,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case tr.UnregisterDroppable:{const{id:r,key:n}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const a=new Fc(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function sW(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:i}=m.useContext(qu),a=uf(n),s=uf(r==null?void 0:r.id);return m.useEffect(()=>{if(!t&&!n&&a&&s!=null){if(!Wm(a)||document.activeElement===a.target)return;const l=i.get(s);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=QU(d);if(h){h.focus();break}}})}},[n,t,i,s,a]),null}function OA(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...n}),r):r}function oW(e){return m.useMemo(()=>({draggable:{...xh.draggable,...e==null?void 0:e.draggable},droppable:{...xh.droppable,...e==null?void 0:e.droppable},dragOverlay:{...xh.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function lW(e){let{activeNode:t,measure:r,initialRect:n,config:i=!0}=e;const a=m.useRef(!1),{x:s,y:l}=typeof i=="boolean"?{x:i,y:i}:i;ui(()=>{if(!s&&!l||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),h=gA(d,n);if(s||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=_A(u);f&&f.scrollBy({top:h.y,left:h.x})}},[t,s,l,n,r])}const qm=m.createContext({...di,scaleX:1,scaleY:1});var La;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(La||(La={}));const cW=m.memo(function(t){var r,n,i,a;let{id:s,accessibility:l,autoScroll:c=!0,children:u,sensors:d=tW,collisionDetection:h=g9,measuring:f,modifiers:p,...g}=t;const w=m.useReducer(aW,void 0,iW),[y,_]=w,[b,k]=i9(),[x,C]=m.useState(La.Uninitialized),S=x===La.Initialized,{draggable:{active:j,nodes:N,translate:T},droppable:{containers:P}}=y,I=j!=null?N.get(j):null,E=m.useRef({initial:null,translated:null}),B=m.useMemo(()=>{var or;return j!=null?{id:j,data:(or=I==null?void 0:I.data)!=null?or:rW,rect:E}:null},[j,I]),K=m.useRef(null),[R,te]=m.useState(null),[A,U]=m.useState(null),z=mu(g,Object.values(g)),Q=Hu("DndDescribedBy",s),W=m.useMemo(()=>P.getEnabled(),[P]),re=oW(f),{droppableRects:O,measureDroppableContainers:$,measuringScheduled:Z}=H9(W,{dragging:S,dependencies:[T.x,T.y],config:re.droppable}),X=U9(N,j),ce=m.useMemo(()=>A?hf(A):null,[A]),le=rv(),L=q9(X,re.draggable.measure);lW({activeNode:j!=null?N.get(j):null,config:le.layoutShiftCompensation,initialRect:L,measure:re.draggable.measure});const G=Mk(X,re.draggable.measure,L),de=Mk(X?X.parentElement:null),V=m.useRef({activatorEvent:null,active:null,activeNode:X,collisionRect:null,collisions:null,droppableRects:O,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:P,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=P.getNodeFor((r=V.current.over)==null?void 0:r.id),ue=eW({measure:re.dragOverlay.measure}),he=(n=ue.nodeRef.current)!=null?n:X,Oe=S?(i=ue.rect)!=null?i:G:null,Ge=!!(ue.nodeRef.current&&ue.rect),mt=G9(Ge?null:G),Pt=TA(he?Vr(he):null),Gt=Y9(S?Se??X:null),Nn=Z9(Gt),un=OA(p,{transform:{x:T.x-mt.x,y:T.y-mt.y,scaleX:1,scaleY:1},activatorEvent:A,active:B,activeNodeRect:G,containerNodeRect:de,draggingNodeRect:Oe,over:V.current.over,overlayNodeRect:ue.rect,scrollableAncestors:Gt,scrollableAncestorRects:Nn,windowRect:Pt}),J=ce?rl(ce,T):null,Ea=X9(Gt),dn=Fk(Ea),Vl=Fk(Ea,[G]),pi=rl(un,dn),vi=Oe?w9(Oe,un):null,gi=B&&vi?h({active:B,collisionRect:vi,droppableRects:O,droppableContainers:W,pointerCoordinates:J}):null,po=m9(gi,"id"),[hn,H]=m.useState(null),_e=Ge?un:rl(un,Vl),Ie=y9(_e,(a=hn==null?void 0:hn.rect)!=null?a:null,G),pt=m.useRef(null),Pe=m.useCallback((or,$r)=>{let{sensor:Nr,options:_i}=$r;if(K.current==null)return;const Gr=N.get(K.current);if(!Gr)return;const Rr=or.nativeEvent,fn=new Nr({active:K.current,activeNode:Gr,event:Rr,options:_i,context:V,onAbort(Yt){if(!N.get(Yt))return;const{onDragAbort:Tn}=z.current,Kn={id:Yt};Tn==null||Tn(Kn),b({type:"onDragAbort",event:Kn})},onPending(Yt,wi,Tn,Kn){if(!N.get(Yt))return;const{onDragPending:ys}=z.current,xi={id:Yt,constraint:wi,initialCoordinates:Tn,offset:Kn};ys==null||ys(xi),b({type:"onDragPending",event:xi})},onStart(Yt){const wi=K.current;if(wi==null)return;const Tn=N.get(wi);if(!Tn)return;const{onDragStart:Kn}=z.current,gs={activatorEvent:Rr,active:{id:wi,data:Tn.data,rect:E}};Ha.unstable_batchedUpdates(()=>{Kn==null||Kn(gs),C(La.Initializing),_({type:tr.DragStart,initialCoordinates:Yt,active:wi}),b({type:"onDragStart",event:gs}),te(pt.current),U(Rr)})},onMove(Yt){_({type:tr.DragMove,coordinates:Yt})},onEnd:Pa(tr.DragEnd),onCancel:Pa(tr.DragCancel)});pt.current=fn;function Pa(Yt){return async function(){const{active:Tn,collisions:Kn,over:gs,scrollAdjustedTranslate:ys}=V.current;let xi=null;if(Tn&&ys){const{cancelDrop:_s}=z.current;xi={activatorEvent:Rr,active:Tn,collisions:Kn,delta:ys,over:gs},Yt===tr.DragEnd&&typeof _s=="function"&&await Promise.resolve(_s(xi))&&(Yt=tr.DragCancel)}K.current=null,Ha.unstable_batchedUpdates(()=>{_({type:Yt}),C(La.Uninitialized),H(null),te(null),U(null),pt.current=null;const _s=Yt===tr.DragEnd?"onDragEnd":"onDragCancel";if(xi){const Kl=z.current[_s];Kl==null||Kl(xi),b({type:_s,event:xi})}})}}},[N]),Vn=m.useCallback((or,$r)=>(Nr,_i)=>{const Gr=Nr.nativeEvent,Rr=N.get(_i);if(K.current!==null||!Rr||Gr.dndKit||Gr.defaultPrevented)return;const fn={active:Rr};or(Nr,$r.options,fn)===!0&&(Gr.dndKit={capturedBy:$r.sensor},K.current=_i,Pe(Nr,$r))},[N,Pe]),Kr=W9(d,Vn);J9(d),ui(()=>{G&&x===La.Initializing&&C(La.Initialized)},[G,x]),m.useEffect(()=>{const{onDragMove:or}=z.current,{active:$r,activatorEvent:Nr,collisions:_i,over:Gr}=V.current;if(!$r||!Nr)return;const Rr={active:$r,activatorEvent:Nr,collisions:_i,delta:{x:pi.x,y:pi.y},over:Gr};Ha.unstable_batchedUpdates(()=>{or==null||or(Rr),b({type:"onDragMove",event:Rr})})},[pi.x,pi.y]),m.useEffect(()=>{const{active:or,activatorEvent:$r,collisions:Nr,droppableContainers:_i,scrollAdjustedTranslate:Gr}=V.current;if(!or||K.current==null||!$r||!Gr)return;const{onDragOver:Rr}=z.current,fn=_i.get(po),Pa=fn&&fn.rect.current?{id:fn.id,rect:fn.rect.current,data:fn.data,disabled:fn.disabled}:null,Yt={active:or,activatorEvent:$r,collisions:Nr,delta:{x:Gr.x,y:Gr.y},over:Pa};Ha.unstable_batchedUpdates(()=>{H(Pa),Rr==null||Rr(Yt),b({type:"onDragOver",event:Yt})})},[po]),ui(()=>{V.current={activatorEvent:A,active:B,activeNode:X,collisionRect:vi,collisions:gi,droppableRects:O,draggableNodes:N,draggingNode:he,draggingNodeRect:Oe,droppableContainers:P,over:hn,scrollableAncestors:Gt,scrollAdjustedTranslate:pi},E.current={initial:Oe,translated:vi}},[B,X,gi,vi,N,he,Oe,O,P,hn,Gt,pi]),B9({...le,delta:T,draggingRect:vi,pointerCoordinates:J,scrollableAncestors:Gt,scrollableAncestorRects:Nn});const yi=m.useMemo(()=>({active:B,activeNode:X,activeNodeRect:G,activatorEvent:A,collisions:gi,containerNodeRect:de,dragOverlay:ue,draggableNodes:N,droppableContainers:P,droppableRects:O,over:hn,measureDroppableContainers:$,scrollableAncestors:Gt,scrollableAncestorRects:Nn,measuringConfiguration:re,measuringScheduled:Z,windowRect:Pt}),[B,X,G,A,gi,de,ue,N,P,O,hn,$,Gt,Nn,re,Z,Pt]),tv=m.useMemo(()=>({activatorEvent:A,activators:Kr,active:B,activeNodeRect:G,ariaDescribedById:{draggable:Q},dispatch:_,draggableNodes:N,over:hn,measureDroppableContainers:$}),[A,Kr,B,G,_,Q,N,hn,$]);return Ve.createElement(vA.Provider,{value:k},Ve.createElement(qu.Provider,{value:tv},Ve.createElement(AA.Provider,{value:yi},Ve.createElement(qm.Provider,{value:Ie},u)),Ve.createElement(sW,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Ve.createElement(o9,{...l,hiddenTextDescribedById:Q}));function rv(){const or=(R==null?void 0:R.autoScrollEnabled)===!1,$r=typeof c=="object"?c.enabled===!1:c===!1,Nr=S&&!or&&!$r;return typeof c=="object"?{...c,enabled:Nr}:{enabled:Nr}}}),uW=m.createContext(null),Uk="button",dW="Draggable";function hW(e){let{id:t,data:r,disabled:n=!1,attributes:i}=e;const a=Hu(dW),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:f}=m.useContext(qu),{role:p=Uk,roleDescription:g="draggable",tabIndex:w=0}=i??{},y=(c==null?void 0:c.id)===t,_=m.useContext(y?qm:uW),[b,k]=cf(),[x,C]=cf(),S=Q9(s,t),j=mu(r);ui(()=>(h.set(t,{id:t,key:a,node:b,activatorNode:x,data:j}),()=>{const T=h.get(t);T&&T.key===a&&h.delete(t)}),[h,t]);const N=m.useMemo(()=>({role:p,tabIndex:w,"aria-disabled":n,"aria-pressed":y&&p===Uk?!0:void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,p,w,y,g,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:N,isDragging:y,listeners:n?void 0:S,node:b,over:f,setNodeRef:k,setActivatorNodeRef:C,transform:_}}function IA(){return m.useContext(AA)}const fW="Droppable",mW={timeout:25};function DA(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:i}=e;const a=Hu(fW),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=m.useContext(qu),d=m.useRef({disabled:r}),h=m.useRef(!1),f=m.useRef(null),p=m.useRef(null),{disabled:g,updateMeasurementsFor:w,timeout:y}={...mW,...i},_=mu(w??n),b=m.useCallback(()=>{if(!h.current){h.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(_.current)?_.current:[_.current]),p.current=null},y)},[y]),k=Hm({callback:b,disabled:g||!s}),x=m.useCallback((N,T)=>{k&&(T&&(k.unobserve(T),h.current=!1),N&&k.observe(N))},[k]),[C,S]=cf(x),j=mu(t);return m.useEffect(()=>{!k||!C.current||(k.disconnect(),h.current=!1,k.observe(C.current))},[C,k]),m.useEffect(()=>(l({type:tr.RegisterDroppable,element:{id:n,key:a,disabled:r,node:C,rect:f,data:j}}),()=>l({type:tr.UnregisterDroppable,key:a,id:n})),[n]),m.useEffect(()=>{r!==d.current.disabled&&(l({type:tr.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,l]),{active:s,rect:f,isOver:(c==null?void 0:c.id)===n,node:C,over:c,setNodeRef:S}}function pW(e){let{animation:t,children:r}=e;const[n,i]=m.useState(null),[a,s]=m.useState(null),l=uf(r);return!r&&!n&&l&&i(l),ui(()=>{if(!a)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,n,a]),Ve.createElement(Ve.Fragment,null,r,n?m.cloneElement(n,{ref:s}):null)}const vW={x:0,y:0,scaleX:1,scaleY:1};function gW(e){let{children:t}=e;return Ve.createElement(qu.Provider,{value:PA},Ve.createElement(qm.Provider,{value:vW},t))}const yW={position:"fixed",touchAction:"none"},_W=e=>Wm(e)?"transform 250ms ease":void 0,wW=m.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:i,children:a,className:s,rect:l,style:c,transform:u,transition:d=_W}=e;if(!l)return null;const h=i?u:{...u,scaleX:1,scaleY:1},f={...yW,width:l.width,height:l.height,top:l.top,left:l.left,transform:as.Transform.toString(h),transformOrigin:i&&n?d9(n,l):void 0,transition:typeof d=="function"?d(n):d,...c};return Ve.createElement(r,{className:s,style:f,ref:t},a)}),xW=e=>t=>{let{active:r,dragOverlay:n}=t;const i={},{styles:a,className:s}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return s!=null&&s.active&&r.node.classList.add(s.active),s!=null&&s.dragOverlay&&n.node.classList.add(s.dragOverlay),function(){for(const[c,u]of Object.entries(i))r.node.style.setProperty(c,u);s!=null&&s.active&&r.node.classList.remove(s.active)}},bW=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:as.Transform.toString(t)},{transform:as.Transform.toString(r)}]},kW={duration:250,easing:"ease",keyframes:bW,sideEffects:xW({styles:{active:{opacity:"0"}}})};function jW(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:i}=e;return Um((a,s)=>{if(t===null)return;const l=r.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=EA(s);if(!u)return;const{transform:d}=Vr(s).getComputedStyle(s),h=yA(d);if(!h)return;const f=typeof t=="function"?t:SW(t);return SA(c,i.draggable.measure),f({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:i,transform:h})})}function SW(e){const{duration:t,easing:r,sideEffects:n,keyframes:i}={...kW,...e};return a=>{let{active:s,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-s.rect.left,y:l.rect.top-s.rect.top},h={scaleX:c.scaleX!==1?s.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?s.rect.height*c.scaleY/l.rect.height:1},f={x:c.x-d.x,y:c.y-d.y,...h},p=i({...u,active:s,dragOverlay:l,transform:{initial:c,final:f}}),[g]=p,w=p[p.length-1];if(JSON.stringify(g)===JSON.stringify(w))return;const y=n==null?void 0:n({active:s,dragOverlay:l,...u}),_=l.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{_.onfinish=()=>{y==null||y(),b()}})}}let Wk=0;function CW(e){return m.useMemo(()=>{if(e!=null)return Wk++,Wk},[e])}const NW=Ve.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:i,transition:a,modifiers:s,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggableNodes:g,droppableContainers:w,dragOverlay:y,over:_,measuringConfiguration:b,scrollableAncestors:k,scrollableAncestorRects:x,windowRect:C}=IA(),S=m.useContext(qm),j=CW(h==null?void 0:h.id),N=OA(s,{activatorEvent:d,active:h,activeNodeRect:f,containerNodeRect:p,draggingNodeRect:y.rect,over:_,overlayNodeRect:y.rect,scrollableAncestors:k,scrollableAncestorRects:x,transform:S,windowRect:C}),T=kw(f),P=jW({config:n,draggableNodes:g,droppableContainers:w,measuringConfiguration:b}),I=T?y.setRef:void 0;return Ve.createElement(gW,null,Ve.createElement(pW,{animation:P},h&&j?Ve.createElement(wW,{key:j,id:h.id,ref:I,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:T,style:{zIndex:u,...i},transform:N},r):null))});function LA(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function TW(e,t){return e.reduce((r,n,i)=>{const a=t.get(n);return a&&(r[i]=a),r},Array(e.length))}function Fd(e){return e!==null&&e>=0}function EW(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function PW(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const $A=e=>{let{rects:t,activeIndex:r,overIndex:n,index:i}=e;const a=LA(t,n,r),s=t[i],l=a[i];return!l||!s?null:{x:l.left-s.left,y:l.top-s.top,scaleX:l.width/s.width,scaleY:l.height/s.height}},zd={scaleX:1,scaleY:1},AW=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:i,rects:a,overIndex:s}=e;const l=(t=a[r])!=null?t:n;if(!l)return null;if(i===r){const u=a[s];return u?{x:0,y:r<s?u.top+u.height-(l.top+l.height):u.top-l.top,...zd}:null}const c=OW(a,i,r);return i>r&&i<=s?{x:0,y:-l.height-c,...zd}:i<r&&i>=s?{x:0,y:l.height+c,...zd}:{x:0,y:0,...zd}};function OW(e,t,r){const n=e[t],i=e[t-1],a=e[t+1];return n?r<t?i?n.top-(i.top+i.height):a?a.top-(n.top+n.height):0:a?a.top-(n.top+n.height):i?n.top-(i.top+i.height):0:0}const RA="Sortable",MA=Ve.createContext({activeIndex:-1,containerId:RA,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$A,disabled:{draggable:!1,droppable:!1}});function IW(e){let{children:t,id:r,items:n,strategy:i=$A,disabled:a=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=IA(),h=Hu(RA,r),f=l.rect!==null,p=m.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),g=s!=null,w=s?p.indexOf(s.id):-1,y=u?p.indexOf(u.id):-1,_=m.useRef(p),b=!EW(p,_.current),k=y!==-1&&w===-1||b,x=PW(a);ui(()=>{b&&g&&d(p)},[b,p,g,d]),m.useEffect(()=>{_.current=p},[p]);const C=m.useMemo(()=>({activeIndex:w,containerId:h,disabled:x,disableTransforms:k,items:p,overIndex:y,useDragOverlay:f,sortedRects:TW(p,c),strategy:i}),[w,h,x.draggable,x.droppable,k,p,y,c,f,i]);return Ve.createElement(MA.Provider,{value:C},t)}const DW=e=>{let{id:t,items:r,activeIndex:n,overIndex:i}=e;return LA(r,n,i).indexOf(t)},LW=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:i,items:a,newIndex:s,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==a&&i===s?!1:r?!0:s!==i&&t===c},$W={duration:200,easing:"ease"},BA="transform",RW=as.Transition.toString({property:BA,duration:0,easing:"linear"}),MW={roleDescription:"sortable"};function BW(e){let{disabled:t,index:r,node:n,rect:i}=e;const[a,s]=m.useState(null),l=m.useRef(r);return ui(()=>{if(!t&&r!==l.current&&n.current){const c=i.current;if(c){const u=Ll(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}r!==l.current&&(l.current=r)},[t,r,n,i]),m.useEffect(()=>{a&&s(null)},[a]),a}function FW(e){let{animateLayoutChanges:t=LW,attributes:r,disabled:n,data:i,getNewIndex:a=DW,id:s,strategy:l,resizeObserverConfig:c,transition:u=$W}=e;const{items:d,containerId:h,activeIndex:f,disabled:p,disableTransforms:g,sortedRects:w,overIndex:y,useDragOverlay:_,strategy:b}=m.useContext(MA),k=zW(n,p),x=d.indexOf(s),C=m.useMemo(()=>({sortable:{containerId:h,index:x,items:d},...i}),[h,i,x,d]),S=m.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:j,node:N,isOver:T,setNodeRef:P}=DA({id:s,data:C,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:I,activatorEvent:E,activeNodeRect:B,attributes:K,setNodeRef:R,listeners:te,isDragging:A,over:U,setActivatorNodeRef:z,transform:Q}=hW({id:s,data:C,attributes:{...MW,...r},disabled:k.draggable}),W=GU(P,R),re=!!I,O=re&&!g&&Fd(f)&&Fd(y),$=!_&&A,Z=$&&O?Q:null,ce=O?Z??(l??b)({rects:w,activeNodeRect:B,activeIndex:f,overIndex:y,index:x}):null,le=Fd(f)&&Fd(y)?a({id:s,items:d,activeIndex:f,overIndex:y}):x,L=I==null?void 0:I.id,G=m.useRef({activeId:L,items:d,newIndex:le,containerId:h}),de=d!==G.current.items,V=t({active:I,containerId:h,isDragging:A,isSorting:re,id:s,index:x,items:d,newIndex:G.current.newIndex,previousItems:G.current.items,previousContainerId:G.current.containerId,transition:u,wasDragging:G.current.activeId!=null}),Se=BW({disabled:!V,index:x,node:N,rect:j});return m.useEffect(()=>{re&&G.current.newIndex!==le&&(G.current.newIndex=le),h!==G.current.containerId&&(G.current.containerId=h),d!==G.current.items&&(G.current.items=d)},[re,le,h,d]),m.useEffect(()=>{if(L===G.current.activeId)return;if(L&&!G.current.activeId){G.current.activeId=L;return}const he=setTimeout(()=>{G.current.activeId=L},50);return()=>clearTimeout(he)},[L]),{active:I,activeIndex:f,attributes:K,data:C,rect:j,index:x,newIndex:le,items:d,isOver:T,isSorting:re,isDragging:A,listeners:te,node:N,overIndex:y,over:U,setNodeRef:W,setActivatorNodeRef:z,setDroppableNodeRef:P,setDraggableNodeRef:R,transform:Se??ce,transition:ue()};function ue(){if(Se||de&&G.current.newIndex===x)return RW;if(!($&&!Wm(E)||!u)&&(re||V))return as.Transition.toString({...u,property:BA})}}function zW(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}qe.Down,qe.Right,qe.Up,qe.Left;function FA(e){if(!e)return"No due date";const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const n=Math.ceil((r.getTime()-t.getTime())/(1e3*60*60*24));return n===0?"Today":n===1?"Tomorrow":n===-1?"Yesterday":n<-1?`Overdue (${Math.abs(n)} days)`:n<=7?`${n} days left`:r.toLocaleDateString("id-ID",{day:"numeric",month:"short"})}function UW(e){if(!e)return"";const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);return r.setHours(0,0,0,0),r<t?"overdue":r.getTime()===t.getTime()?"today":""}function WW(e){if(!e)return!1;const t=new Date;t.setHours(0,0,0,0);const r=new Date(e);return r.setHours(0,0,0,0),r<t}function HW(e){const{user:t}=Ye(),r=(e==null?void 0:e.user_id)===(t==null?void 0:t.id);return{canMove:r,canEdit:r,canDelete:r,isOwner:r}}const qW="modulepreload",VW=function(e){return"/kanban.github.io/"+e},Hk={},By=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=VW(c),c in Hk)return;Hk[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":qW,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},KW="_popover_7r6kw_1",GW="_fadeIn_7r6kw_1",YW="_header_7r6kw_23",XW="_closeBtn_7r6kw_38",JW="_content_7r6kw_62",QW="_field_7r6kw_66",ZW="_titleInput_7r6kw_91",eH="_textarea_7r6kw_108",tH="_priorityBtns_7r6kw_126",rH="_priorityBtn_7r6kw_126",nH="_low_7r6kw_144",iH="_active_7r6kw_149",aH="_medium_7r6kw_155",sH="_high_7r6kw_166",oH="_labelsGrid_7r6kw_177",lH="_labelBtn_7r6kw_183",cH="_footer_7r6kw_197",uH="_cancelBtn_7r6kw_206",dH="_saveBtn_7r6kw_222",zt={popover:KW,fadeIn:GW,header:YW,closeBtn:XW,content:JW,field:QW,titleInput:ZW,textarea:eH,priorityBtns:tH,priorityBtn:rH,low:nH,active:iH,medium:aH,high:sH,labelsGrid:oH,labelBtn:lH,footer:cH,cancelBtn:uH,saveBtn:dH};function hH({task:e,position:t,onClose:r}){var S;const{user:n}=Ye(),{loadTasks:i}=Xe(),{showToast:a}=vr(),[s,l]=m.useState(e.title),[c,u]=m.useState(e.description||""),[d,h]=m.useState(e.priority),[f,p]=m.useState([]),[g,w]=m.useState(((S=e.task_labels)==null?void 0:S.map(j=>j.label_id))||[]),[y,_]=m.useState(!1),b=m.useRef(null),k=m.useRef(null);m.useEffect(()=>{var j,N;(j=b.current)==null||j.focus(),(N=b.current)==null||N.select()},[]),m.useEffect(()=>{(async()=>{if(!n)return;const{data:N}=await Z0(n.id);N&&p(N)})()},[n]),m.useEffect(()=>{const j=N=>{k.current&&!k.current.contains(N.target)&&x()};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[s,c,d,g]),m.useEffect(()=>{const j=N=>{N.key==="Escape"&&r(),N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),x())};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s,c,d,g]);const x=async()=>{var I;if(y)return;const j=s!==e.title,N=c!==(e.description||""),T=d!==e.priority,P=g.length!==(((I=e.task_labels)==null?void 0:I.length)||0)||g.some(E=>{var B;return!((B=e.task_labels)!=null&&B.find(K=>K.label_id===E))});if(!j&&!N&&!T&&!P){r();return}_(!0);try{if(j||N||T){const{error:E}=await Xr(e.id,{title:s.trim()||e.title,description:c.trim()||null,priority:d});if(E){a("Failed to save changes","error");return}}if(P&&n){const{updateTaskLabels:E}=await By(async()=>{const{updateTaskLabels:B}=await Promise.resolve().then(()=>nF);return{updateTaskLabels:B}},[]);await E(e.id,g)}await i(),a("Task updated","success")}catch{a("Failed to save changes","error")}finally{_(!1),r()}},C=j=>{g.includes(j)?w(g.filter(N=>N!==j)):w([...g,j])};return o.jsxs("div",{ref:k,className:zt.popover,style:{top:t.top,left:t.left},children:[o.jsxs("div",{className:zt.header,children:[o.jsx("span",{children:"Quick Edit"}),o.jsx("button",{className:zt.closeBtn,onClick:r,children:o.jsx(ft,{})})]}),o.jsxs("div",{className:zt.content,children:[o.jsx("div",{className:zt.field,children:o.jsx("input",{ref:b,type:"text",value:s,onChange:j=>l(j.target.value),placeholder:"Task title...",className:zt.titleInput})}),o.jsxs("div",{className:zt.field,children:[o.jsxs("label",{children:[o.jsx(tA,{}),"Description"]}),o.jsx("textarea",{value:c,onChange:j=>u(j.target.value),placeholder:"Add description...",rows:2,className:zt.textarea})]}),o.jsxs("div",{className:zt.field,children:[o.jsxs("label",{children:[o.jsx(es,{}),"Priority"]}),o.jsx("div",{className:zt.priorityBtns,children:["high","medium","low"].map(j=>o.jsx("button",{className:`${zt.priorityBtn} ${zt[j]} ${d===j?zt.active:""}`,onClick:()=>h(j),children:j},j))})]}),f.length>0&&o.jsxs("div",{className:zt.field,children:[o.jsxs("label",{children:[o.jsx(rA,{}),"Labels"]}),o.jsx("div",{className:zt.labelsGrid,children:f.map(j=>o.jsx("button",{className:`${zt.labelBtn} ${g.includes(j.id)?zt.labelSelected:""}`,style:{background:g.includes(j.id)?j.color:`${j.color}20`,color:g.includes(j.id)?"white":j.color,borderColor:j.color},onClick:()=>C(j.id),children:j.name},j.id))})]})]}),o.jsxs("div",{className:zt.footer,children:[o.jsx("button",{className:zt.cancelBtn,onClick:r,children:"Cancel"}),o.jsxs("button",{className:zt.saveBtn,onClick:x,disabled:y||!s.trim(),children:[o.jsx(an,{}),y?"Saving...":"Save"]})]})]})}const fH="_board_1pp5m_2",mH="_boardHeader_1pp5m_13",pH="_headerRight_1pp5m_24",vH="_searchBox_1pp5m_30",gH="_clearSearch_1pp5m_60",yH="_viewToggle_1pp5m_78",_H="_viewBtn_1pp5m_86",wH="_active_1pp5m_104",xH="_listView_1pp5m_115",bH="_listItem_1pp5m_122",kH="_listItemStatus_1pp5m_139",jH="_listItemContent_1pp5m_147",SH="_listItemHeader_1pp5m_151",CH="_listItemColumn_1pp5m_158",NH="_listItemTitle_1pp5m_165",TH="_listItemDesc_1pp5m_172",EH="_emptyList_1pp5m_181",PH="_boardRow_1pp5m_188",AH="_column_1pp5m_195",OH="_columnHeader_1pp5m_208",IH="_todoHeader_1pp5m_217",DH="_progressHeader_1pp5m_222",LH="_doneHeader_1pp5m_227",$H="_reviewHeader_1pp5m_232",RH="_archiveHeader_1pp5m_237",MH="_columnTitle_1pp5m_242",BH="_taskCount_1pp5m_260",FH="_taskList_1pp5m_270",zH="_emptyState_1pp5m_298",UH="_show_1pp5m_305",WH="_addTaskBtn_1pp5m_325",HH="_task_1pp5m_260",qH="_selected_1pp5m_374",VH="_overdue_1pp5m_378",KH="_hidden_1pp5m_382",GH="_dragging_1pp5m_386",YH="_noDrag_1pp5m_394",XH="_lockIndicator_1pp5m_403",JH="_taskHeader_1pp5m_425",QH="_taskHeaderLeft_1pp5m_432",ZH="_projectBadge_1pp5m_440",eq="_labelsRow_1pp5m_456",tq="_labelBadge_1pp5m_463",rq="_labelMore_1pp5m_473",nq="_priorityBadge_1pp5m_483",iq="_high_1pp5m_492",aq="_medium_1pp5m_497",sq="_low_1pp5m_502",oq="_taskActions_1pp5m_508",lq="_actionIcon_1pp5m_519",cq="_deleteIcon_1pp5m_543",uq="_starIcon_1pp5m_549",dq="_starred_1pp5m_549",hq="_taskText_1pp5m_569",fq="_taskDescription_1pp5m_577",mq="_taskTags_1pp5m_589",pq="_tag_1pp5m_596",vq="_tagMore_1pp5m_607",gq="_taskFooter_1pp5m_617",yq="_taskMeta_1pp5m_627",_q="_metaItem_1pp5m_633",wq="_today_1pp5m_651",xq="_taskAssignees_1pp5m_656",bq="_moreAssignees_1pp5m_661",kq="_assigneeAvatar_1pp5m_667",jq="_assigneeMore_1pp5m_682",Sq="_dragOverlay_1pp5m_698",Cq="_columnActions_1pp5m_822",Nq="_columnSettingsBtn_1pp5m_828",Tq="_wipAtLimit_1pp5m_854",Eq="_wipOverLimit_1pp5m_859",Pq="_taskSelectionWrapper_1pp5m_881",Aq="_taskCheckbox_1pp5m_885",Oq="_checked_1pp5m_911",Iq="_taskBulkSelected_1pp5m_931",Dq="_bulkActionToolbar_1pp5m_936",Lq="_bulkCount_1pp5m_952",$q="_bulkActions_1pp5m_960",Rq="_bulkBtn_1pp5m_966",Mq="_danger_1pp5m_1001",Bq="_bulkClose_1pp5m_1014",Fq="_taskCover_1pp5m_1034",ee={board:fH,boardHeader:mH,headerRight:pH,searchBox:vH,clearSearch:gH,viewToggle:yH,viewBtn:_H,active:wH,listView:xH,listItem:bH,listItemStatus:kH,listItemContent:jH,listItemHeader:SH,listItemColumn:CH,listItemTitle:NH,listItemDesc:TH,emptyList:EH,boardRow:PH,column:AH,columnHeader:OH,todoHeader:IH,progressHeader:DH,doneHeader:LH,reviewHeader:$H,archiveHeader:RH,columnTitle:MH,taskCount:BH,taskList:FH,emptyState:zH,show:UH,addTaskBtn:WH,task:HH,selected:qH,overdue:VH,hidden:KH,dragging:GH,noDrag:YH,lockIndicator:XH,taskHeader:JH,taskHeaderLeft:QH,projectBadge:ZH,labelsRow:eq,labelBadge:tq,labelMore:rq,priorityBadge:nq,high:iq,medium:aq,low:sq,taskActions:oq,actionIcon:lq,deleteIcon:cq,starIcon:uq,starred:dq,taskText:hq,taskDescription:fq,taskTags:mq,tag:pq,tagMore:vq,taskFooter:gq,taskMeta:yq,metaItem:_q,today:wq,taskAssignees:xq,moreAssignees:bq,assigneeAvatar:kq,assigneeMore:jq,dragOverlay:Sq,columnActions:Cq,columnSettingsBtn:Nq,wipAtLimit:Tq,"pulse-wip":"_pulse-wip_1pp5m_1",wipOverLimit:Eq,taskSelectionWrapper:Pq,taskCheckbox:Aq,checked:Oq,taskBulkSelected:Iq,bulkActionToolbar:Dq,bulkCount:Lq,bulkActions:$q,bulkBtn:Rq,danger:Mq,bulkClose:Bq,taskCover:Fq};function jw({task:e,isArchived:t=!1,isDragging:r=!1,isDone:n=!1}){var ce,le;const{openEditModal:i,deleteTask:a,restoreTask:s,openDetailPanel:l,toggleSelectedTask:c,state:u}=Xe(),{user:d,profile:h}=Ye(),[f,p]=m.useState(!1),[g,w]=m.useState(!1),[y,_]=m.useState({top:0,left:0}),b=m.useRef(null),{canMove:k,canEdit:x,canDelete:C}=HW(e),S=u.selectedTaskIds.includes(e.id),{attributes:j,listeners:N,setNodeRef:T,transform:P,transition:I,isDragging:E}=FW({id:e.id,disabled:!k}),B={transform:as.Transform.toString(P),transition:I};m.useEffect(()=>{(async()=>{if(!d)return;const{data:G}=await ew(d.id);G&&p(G.includes(e.id))})()},[d,e.id]);const K=WW(e.due_date),R=e.tags||[],te=e.subtasks||[],A=te.filter(L=>L.is_completed).length,U=e.task_labels||[],z=e.projects,Q=(h==null?void 0:h.full_name)||((ce=d==null?void 0:d.user_metadata)==null?void 0:ce.name)||((le=d==null?void 0:d.email)==null?void 0:le.split("@")[0])||"U",W=Q.charAt(0).toUpperCase(),re=L=>{L.stopPropagation(),s(e)},O=L=>{L.stopPropagation(),a(e.id)},$=async L=>{if(L.stopPropagation(),!d)return;console.log("[TaskCard] ========== TOGGLING STAR =========="),console.log("[TaskCard] User ID:",d.id),console.log("[TaskCard] Task ID:",e.id),console.log("[TaskCard] Current isStarred:",f);const{starred:G,error:de}=await tw(d.id,e.id);console.log("[TaskCard] Result - starred:",G,"error:",de),console.log("[TaskCard] ========== END TOGGLE =========="),de?alert("Failed to star task: "+de.message):p(G)},Z=L=>{var de;if(!x)return;L.stopPropagation();const G=(de=b.current)==null?void 0:de.getBoundingClientRect();if(G){let V=G.bottom+8,Se=G.left;Se+320>window.innerWidth&&(Se=window.innerWidth-320-16),V+400>window.innerHeight&&(V=G.top-400-8),_({top:V,left:Math.max(16,Se)}),w(!0)}};if(r)return o.jsxs("div",{className:`${ee.task} ${K?ee.overdue:""}`,"data-priority":e.priority,children:[o.jsx("div",{className:ee.taskHeader,children:o.jsx("span",{className:`${ee.priorityBadge} ${ee[e.priority]}`,children:e.priority})}),o.jsx("p",{className:ee.taskText,children:e.title})]});const X=m.useCallback(L=>{L&&(b.current=L,T(L))},[T]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{ref:X,style:B,className:`${ee.task} ${K?ee.overdue:""} ${E?ee.dragging:""} ${f?ee.starred:""} ${k?"":ee.noDrag} ${S?ee.taskBulkSelected:""}`,"data-priority":e.priority,onClick:()=>l(e.id),...j,...k?N:{},children:[o.jsx("div",{className:`${ee.taskCheckbox} ${S?ee.checked:""}`,onClick:L=>{L.stopPropagation(),c(e.id,e.column_id)},children:S&&o.jsx(an,{})}),e.cover_image_url&&o.jsx("div",{className:ee.taskCover,children:o.jsx("img",{src:e.cover_image_url,alt:""})}),!k&&!r&&o.jsx("div",{className:ee.lockIndicator,title:"Only task creator and admins can move this task",children:o.jsx(Mm,{})}),o.jsxs("div",{className:ee.taskHeader,children:[o.jsxs("div",{className:ee.taskHeaderLeft,children:[o.jsx("span",{className:`${ee.priorityBadge} ${ee[e.priority]}`,children:e.priority}),z&&o.jsxs("span",{className:ee.projectBadge,style:{background:`${z.color}20`,color:z.color},children:[o.jsx(Pi,{}),z.name]})]}),o.jsxs("div",{className:ee.taskActions,children:[o.jsx("button",{className:`${ee.actionIcon} ${ee.starIcon} ${f?ee.starred:""}`,onClick:$,title:f?"Unstar":"Star",children:o.jsx(ra,{})}),t?o.jsxs(o.Fragment,{children:[o.jsx("button",{className:ee.actionIcon,onClick:re,title:"Restore",children:o.jsx(cA,{})}),C&&o.jsx("button",{className:`${ee.actionIcon} ${ee.deleteIcon}`,onClick:O,title:"Delete",children:o.jsx(rr,{})})]}):o.jsxs(o.Fragment,{children:[x&&!n&&o.jsx(o.Fragment,{children:o.jsx("button",{className:ee.actionIcon,onClick:Z,title:"Quick Edit",children:o.jsx(ua,{})})}),C&&!n&&o.jsx("button",{className:`${ee.actionIcon} ${ee.deleteIcon}`,onClick:O,title:"Delete",children:o.jsx(rr,{})})]})]})]}),o.jsx("p",{className:ee.taskText,children:e.title}),U.length>0&&o.jsxs("div",{className:ee.labelsRow,children:[U.slice(0,3).map(L=>o.jsx("span",{className:ee.labelBadge,style:{background:L.labels.color},children:L.labels.name},L.id)),U.length>3&&o.jsxs("span",{className:ee.labelMore,children:["+",U.length-3]})]}),R.length>0&&o.jsxs("div",{className:ee.taskTags,children:[R.slice(0,3).map(L=>o.jsx("span",{className:ee.tag,children:L.name},L.id)),R.length>3&&o.jsxs("span",{className:ee.tagMore,children:["+",R.length-3]})]}),o.jsxs("div",{className:ee.taskFooter,children:[o.jsxs("div",{className:ee.taskMeta,children:[te.length>0&&o.jsxs("div",{className:ee.metaItem,children:[o.jsx(zu,{}),o.jsxs("span",{children:[A,"/",te.length]})]}),e.due_date&&o.jsxs("div",{className:`${ee.metaItem} ${ee[UW(e.due_date)]}`,children:[o.jsx(Ht,{}),o.jsx("span",{children:FA(e.due_date)})]})]}),o.jsxs("div",{className:ee.taskAssignees,children:[e.task_assignees&&e.task_assignees.length>0?e.task_assignees.slice(0,3).map((L,G)=>{var Se,ue,he;const de=((Se=L.profiles)==null?void 0:Se.full_name)||((he=(ue=L.profiles)==null?void 0:ue.email)==null?void 0:he.split("@")[0])||"U",V=de.charAt(0).toUpperCase();return o.jsx("div",{className:ee.assigneeAvatar,title:de,style:{marginLeft:G>0?"-8px":"0",zIndex:10-G},children:V},L.id)}):o.jsx("div",{className:ee.assigneeAvatar,title:Q,children:W}),e.task_assignees&&e.task_assignees.length>3&&o.jsxs("span",{className:ee.moreAssignees,children:["+",e.task_assignees.length-3]})]})]})]}),g&&o.jsx(hH,{task:e,position:y,onClose:()=>w(!1)})]})}const zq={"to do":hw,"in progress":Qs,doing:Qs,review:fl,done:Fi,archive:dw},Uq={"to do":ee.todoHeader,"in progress":ee.progressHeader,doing:ee.progressHeader,review:ee.reviewHeader,done:ee.doneHeader,archive:ee.archiveHeader};function Wq({column:e,tasks:t,onAddTask:r,onOpenSettings:n}){const{checkWipLimit:i}=Xe(),{setNodeRef:a}=DA({id:e.id}),s=e.title.toLowerCase()==="archive",l=e.title.toLowerCase()==="done",c=e.title.toLowerCase(),u=zq[c]||hw,d=Uq[c]||"";i(e.id);const h=e.wip_limit!==null&&e.wip_limit>0,f=h&&t.length>e.wip_limit,p=h&&t.length>=e.wip_limit;return o.jsxs("div",{className:`${ee.column} ${s?ee.archiveColumn:""}`,children:[o.jsxs("div",{className:`${ee.columnHeader} ${d}`,children:[o.jsxs("div",{className:ee.columnTitle,children:[o.jsx(u,{}),o.jsx("h2",{children:e.title})]}),o.jsxs("div",{className:ee.columnActions,children:[h?o.jsxs("span",{className:`${ee.taskCount} ${f?ee.wipOverLimit:p?ee.wipAtLimit:""}`,title:`WIP Limit: ${t.length}/${e.wip_limit}`,children:[t.length,"/",e.wip_limit]}):o.jsx("span",{className:ee.taskCount,children:t.length}),!s&&n&&o.jsx("button",{className:ee.columnSettingsBtn,onClick:()=>n(e),title:"Column settings",children:o.jsx(uA,{})})]})]}),o.jsx(IW,{items:t.map(g=>g.id),strategy:AW,children:o.jsxs("div",{ref:a,className:ee.taskList,children:[t.map(g=>o.jsx(jw,{task:g,isArchived:s,isDone:l},g.id)),t.length===0&&o.jsxs("div",{className:`${ee.emptyState} ${ee.show}`,children:[o.jsx(PF,{}),o.jsx("p",{children:"No tasks yet"})]})]})}),!s&&o.jsxs("button",{className:ee.addTaskBtn,onClick:r,disabled:p&&!f,title:p&&!f?"WIP limit reached":"Add task",children:[o.jsx(ht,{}),"Add Task"]})]})}const zA=()=>"Notification"in window,UA=()=>zA()?Notification.permission==="granted":!1,WA=async()=>zA()?Notification.permission==="granted"?!0:Notification.permission==="denied"?(console.log("Notifications denied"),!1):await Notification.requestPermission()==="granted":(console.log("Notifications not supported"),!1),HA=(e,t)=>{const r=new Date(e);switch(t){case"15min":r.setMinutes(r.getMinutes()-15);break;case"30min":r.setMinutes(r.getMinutes()-30);break;case"1hour":r.setHours(r.getHours()-1);break;case"2hours":r.setHours(r.getHours()-2);break;case"1day":r.setDate(r.getDate()-1);break;case"2days":r.setDate(r.getDate()-2);break;case"1week":r.setDate(r.getDate()-7);break}return r},qk=e=>{switch(e){case"15min":return"15 minutes before";case"30min":return"30 minutes before";case"1hour":return"1 hour before";case"2hours":return"2 hours before";case"1day":return"1 day before";case"2days":return"2 days before";case"1week":return"1 week before"}},qA=()=>[{value:"15min",label:"15 minutes before"},{value:"30min",label:"30 minutes before"},{value:"1hour",label:"1 hour before"},{value:"2hours",label:"2 hours before"},{value:"1day",label:"1 day before"},{value:"2days",label:"2 days before"},{value:"1week",label:"1 week before"}],VA=(e,t,r)=>{const n=KA();n[e]={taskTitle:t,reminderAt:r.toISOString()},localStorage.setItem("taskReminders",JSON.stringify(n))},KA=()=>{try{const e=localStorage.getItem("taskReminders");return e?JSON.parse(e):{}}catch{return{}}},Hq=e=>{const t=KA();delete t[e],localStorage.setItem("taskReminders",JSON.stringify(t))},qq="_timeTracker_1c2lb_1",Vq="_timeTrackerHeader_1c2lb_8",Kq="_timeTrackerTitle_1c2lb_15",Gq="_manualBtn_1c2lb_25",Yq="_timerDisplay_1c2lb_44",Xq="_running_1c2lb_57",Jq="_timerControls_1c2lb_67",Qq="_timerBtn_1c2lb_74",Zq="_start_1c2lb_87",eV="_stop_1c2lb_97",tV="_manual_1c2lb_25",rV="_manualEntryForm_1c2lb_117",nV="_manualEntryRow_1c2lb_124",iV="_manualEntryField_1c2lb_130",aV="_addEntryBtn_1c2lb_158",sV="_timeEntriesList_1c2lb_176",oV="_timeEntriesHeader_1c2lb_181",lV="_timeEntriesTitle_1c2lb_188",cV="_timeTotal_1c2lb_195",uV="_entriesContainer_1c2lb_201",dV="_timeEntryItem_1c2lb_206",hV="_timeEntryDuration_1c2lb_218",fV="_timeEntryInfo_1c2lb_226",mV="_timeEntryDescription_1c2lb_231",pV="_timeEntryDate_1c2lb_240",vV="_timeEntryDelete_1c2lb_245",gV="_moreEntries_1c2lb_268",yV="_noEntries_1c2lb_275",Ue={timeTracker:qq,timeTrackerHeader:Vq,timeTrackerTitle:Kq,manualBtn:Gq,timerDisplay:Yq,running:Xq,timerControls:Jq,timerBtn:Qq,start:Zq,stop:eV,manual:tV,manualEntryForm:rV,manualEntryRow:nV,manualEntryField:iV,addEntryBtn:aV,timeEntriesList:sV,timeEntriesHeader:oV,timeEntriesTitle:lV,timeTotal:cV,entriesContainer:uV,timeEntryItem:dV,timeEntryDuration:hV,timeEntryInfo:fV,timeEntryDescription:mV,timeEntryDate:pV,timeEntryDelete:vV,moreEntries:gV,noEntries:yV};function _V({taskId:e,timerStartedAt:t,timerUserId:r,onTimerUpdate:n}){const{user:i}=Ye(),{showToast:a}=vr(),[s,l]=m.useState([]),[c,u]=m.useState(!1),[d,h]=m.useState(0),[f,p]=m.useState(!1),[g,w]=m.useState(0),[y,_]=m.useState(0),[b,k]=m.useState("");m.useEffect(()=>{x()},[e]),m.useEffect(()=>{if(t&&r===(i==null?void 0:i.id)){u(!0);const E=new Date(t).getTime(),B=Date.now();h(Math.floor((B-E)/1e3))}else u(!1)},[t,r,i==null?void 0:i.id]),m.useEffect(()=>{let E=null;return c&&t&&(E=setInterval(()=>{const B=new Date(t).getTime(),K=Date.now();h(Math.floor((K-B)/1e3))},1e3)),()=>{E&&clearInterval(E)}},[c,t]);const x=async()=>{const{data:E,error:B}=await jP(e);E&&l(E)},C=async()=>{if(!i)return;const{error:E}=await NP(e,i.id);if(E){a("Failed to start timer","error");return}u(!0),h(0),a("Timer started","success"),n==null||n()},S=async()=>{const{error:E}=await TP(e);if(E){a("Failed to stop timer","error");return}u(!1),a("Timer stopped","success"),x(),n==null||n()},j=async()=>{if(!i)return;if(g===0&&y===0){a("Please enter a duration","error");return}const E=g*3600+y*60,{error:B}=await SP({task_id:e,user_id:i.id,duration_seconds:E,description:b||null});if(B){a("Failed to add time entry","error");return}p(!1),w(0),_(0),k(""),a("Time entry added","success"),x()},N=async E=>{if(!confirm("Delete this time entry?"))return;const{error:B}=await CP(E);if(B){a("Failed to delete time entry","error");return}a("Time entry deleted","info"),x()},T=E=>{const B=Math.floor(E/3600),K=Math.floor(E%3600/60),R=E%60;return`${B.toString().padStart(2,"0")}:${K.toString().padStart(2,"0")}:${R.toString().padStart(2,"0")}`},P=E=>{const B=Math.floor(E/3600),K=Math.floor(E%3600/60);return B>0?`${B}h ${K}m`:`${K}m`},I=s.reduce((E,B)=>E+(B.duration_seconds||0),0);return o.jsxs("div",{className:Ue.timeTracker,children:[o.jsxs("div",{className:Ue.timeTrackerHeader,children:[o.jsxs("h3",{className:Ue.timeTrackerTitle,children:[o.jsx(St,{})," Time Tracking"]}),o.jsx("button",{className:Ue.manualBtn,onClick:()=>p(!f),title:"Add manual entry",children:o.jsx(ht,{})})]}),o.jsx("div",{className:`${Ue.timerDisplay} ${c?Ue.running:""}`,children:T(d)}),o.jsxs("div",{className:Ue.timerControls,children:[c?o.jsxs("button",{className:`${Ue.timerBtn} ${Ue.stop}`,onClick:S,children:[o.jsx(FF,{})," Stop"]}):o.jsxs("button",{className:`${Ue.timerBtn} ${Ue.start}`,onClick:C,children:[o.jsx($F,{})," Start"]}),o.jsxs("button",{className:`${Ue.timerBtn} ${Ue.manual}`,onClick:()=>p(!f),children:[o.jsx(ht,{})," Manual"]})]}),f&&o.jsxs("div",{className:Ue.manualEntryForm,children:[o.jsxs("div",{className:Ue.manualEntryRow,children:[o.jsxs("div",{className:Ue.manualEntryField,children:[o.jsx("label",{children:"Hours"}),o.jsx("input",{type:"number",min:"0",max:"99",value:g,onChange:E=>w(parseInt(E.target.value)||0)})]}),o.jsxs("div",{className:Ue.manualEntryField,children:[o.jsx("label",{children:"Minutes"}),o.jsx("input",{type:"number",min:"0",max:"59",value:y,onChange:E=>_(parseInt(E.target.value)||0)})]})]}),o.jsxs("div",{className:Ue.manualEntryField,children:[o.jsx("label",{children:"Description (optional)"}),o.jsx("input",{type:"text",placeholder:"What did you work on?",value:b,onChange:E=>k(E.target.value)})]}),o.jsx("button",{className:Ue.addEntryBtn,onClick:j,children:"Add Entry"})]}),o.jsxs("div",{className:Ue.timeEntriesList,children:[o.jsxs("div",{className:Ue.timeEntriesHeader,children:[o.jsx("span",{className:Ue.timeEntriesTitle,children:"Time Log"}),o.jsxs("span",{className:Ue.timeTotal,children:["Total: ",P(I)]})]}),s.length>0?o.jsxs("div",{className:Ue.entriesContainer,children:[s.slice(0,10).map(E=>o.jsxs("div",{className:Ue.timeEntryItem,children:[o.jsx("span",{className:Ue.timeEntryDuration,children:P(E.duration_seconds)}),o.jsxs("div",{className:Ue.timeEntryInfo,children:[o.jsx("span",{className:Ue.timeEntryDescription,children:E.description||"Work session"}),o.jsx("span",{className:Ue.timeEntryDate,children:new Date(E.created_at).toLocaleDateString()})]}),o.jsx("button",{className:Ue.timeEntryDelete,onClick:()=>N(E.id),title:"Delete entry",children:o.jsx(rr,{})})]},E.id)),s.length>10&&o.jsxs("div",{className:Ue.moreEntries,children:["+",s.length-10," more entries"]})]}):o.jsx("div",{className:Ue.noEntries,children:"No time logged yet. Start the timer or add a manual entry."})]})]})}const wV="_taskDependencies_18oyv_1",xV="_dependenciesHeader_18oyv_8",bV="_dependenciesTitle_18oyv_15",kV="_addDependencyBtn_18oyv_25",jV="_blockingWarning_18oyv_45",SV="_dependenciesSection_18oyv_57",CV="_sectionLabel_18oyv_61",NV="_dependenciesList_18oyv_69",TV="_dependencyItem_18oyv_75",EV="_blocking_18oyv_45",PV="_dependencyIcon_18oyv_94",AV="_completed_18oyv_103",OV="_pending_18oyv_107",IV="_dependencyInfo_18oyv_111",DV="_dependencyTitle_18oyv_116",LV="_dependencyStatus_18oyv_125",$V="_dependencyRemove_18oyv_134",RV="_noDependencies_18oyv_157",MV="_modal_18oyv_167",BV="_modalOverlay_18oyv_171",FV="_modalContent_18oyv_178",zV="_modalHeader_18oyv_197",UV="_searchInput_18oyv_228",WV="_taskList_18oyv_247",HV="_taskOption_18oyv_253",qV="_taskOptionTitle_18oyv_267",VV="_taskOptionStatus_18oyv_275",KV="_noResults_18oyv_283",Le={taskDependencies:wV,dependenciesHeader:xV,dependenciesTitle:bV,addDependencyBtn:kV,blockingWarning:jV,dependenciesSection:SV,sectionLabel:CV,dependenciesList:NV,dependencyItem:TV,blocking:EV,dependencyIcon:PV,completed:AV,pending:OV,dependencyInfo:IV,dependencyTitle:DV,dependencyStatus:LV,dependencyRemove:$V,noDependencies:RV,modal:MV,modalOverlay:BV,modalContent:FV,modalHeader:zV,searchInput:UV,taskList:WV,taskOption:HV,taskOptionTitle:qV,taskOptionStatus:VV,noResults:KV};function GV({taskId:e,boardId:t}){const{state:r}=Xe(),{showToast:n}=vr(),[i,a]=m.useState([]),[s,l]=m.useState([]),[c,u]=m.useState(!1),[d,h]=m.useState(""),[f,p]=m.useState(!1);m.useEffect(()=>{g()},[e]);const g=async()=>{p(!0);const[S,j]=await Promise.all([EP(e),PP(e)]);S.data&&a(S.data),j.data&&l(j.data),p(!1)},w=async S=>{if(await IP(e,S)){n("Cannot add: This would create a circular dependency","error");return}const{error:N}=await AP({task_id:e,depends_on_task_id:S,dependency_type:"blocks"});if(N){n("Failed to add dependency","error");return}n("Dependency added","success"),u(!1),h(""),g()},y=async S=>{const{error:j}=await OP(S);if(j){n("Failed to remove dependency","error");return}n("Dependency removed","info"),g()},_=S=>r.tasks.find(j=>j.id===S),b=r.tasks.filter(S=>S.id!==e&&!i.some(j=>j.depends_on_task_id===S.id)&&S.title.toLowerCase().includes(d.toLowerCase())),k=S=>{const j=_(S);if(!j)return!1;const N=r.columns.find(T=>T.id===j.column_id);return(N==null?void 0:N.title.toLowerCase())==="done"},x=S=>{const j=_(S);if(!j)return"Unknown";const N=r.columns.find(T=>T.id===j.column_id);return(N==null?void 0:N.title.toLowerCase())==="done"?"Completed":(N==null?void 0:N.title.toLowerCase())==="in progress"?"In Progress":"Pending"},C=i.some(S=>!k(S.depends_on_task_id));return o.jsxs("div",{className:Le.taskDependencies,children:[o.jsxs("div",{className:Le.dependenciesHeader,children:[o.jsxs("h3",{className:Le.dependenciesTitle,children:[o.jsx(Ck,{})," Dependencies"]}),o.jsxs("button",{className:Le.addDependencyBtn,onClick:()=>u(!0),children:[o.jsx(ht,{})," Add"]})]}),C&&o.jsxs("div",{className:Le.blockingWarning,children:[o.jsx(sn,{}),o.jsx("span",{children:"This task has incomplete dependencies"})]}),i.length>0?o.jsxs("div",{className:Le.dependenciesSection,children:[o.jsx("div",{className:Le.sectionLabel,children:"Depends on"}),o.jsx("div",{className:Le.dependenciesList,children:i.map(S=>{const j=_(S.depends_on_task_id),N=k(S.depends_on_task_id);return o.jsxs("div",{className:Le.dependencyItem,children:[o.jsx("div",{className:Le.dependencyIcon,children:N?o.jsx(Fi,{className:Le.completed}):o.jsx(sn,{className:Le.pending})}),o.jsxs("div",{className:Le.dependencyInfo,children:[o.jsx("span",{className:Le.dependencyTitle,children:(j==null?void 0:j.title)||"Unknown Task"}),o.jsx("span",{className:`${Le.dependencyStatus} ${N?Le.completed:""}`,children:x(S.depends_on_task_id)})]}),o.jsx("button",{className:Le.dependencyRemove,onClick:()=>y(S.id),title:"Remove dependency",children:o.jsx(ft,{})})]},S.id)})})]}):o.jsx("div",{className:Le.noDependencies,children:"No dependencies. Add tasks that must be completed before this one."}),s.length>0&&o.jsxs("div",{className:Le.dependenciesSection,children:[o.jsx("div",{className:Le.sectionLabel,children:"Blocking"}),o.jsx("div",{className:Le.dependenciesList,children:s.map(S=>{const j=_(S.task_id),N=k(S.task_id);return o.jsxs("div",{className:`${Le.dependencyItem} ${Le.blocking}`,children:[o.jsx("div",{className:Le.dependencyIcon,children:o.jsx(Ck,{})}),o.jsxs("div",{className:Le.dependencyInfo,children:[o.jsx("span",{className:Le.dependencyTitle,children:(j==null?void 0:j.title)||"Unknown Task"}),o.jsx("span",{className:`${Le.dependencyStatus} ${N?Le.completed:""}`,children:x(S.task_id)})]})]},S.id)})})]}),c&&o.jsxs("div",{className:Le.modal,children:[o.jsx("div",{className:Le.modalOverlay,onClick:()=>u(!1)}),o.jsxs("div",{className:Le.modalContent,children:[o.jsxs("div",{className:Le.modalHeader,children:[o.jsx("h4",{children:"Add Dependency"}),o.jsx("button",{onClick:()=>u(!1),children:o.jsx(ft,{})})]}),o.jsx("div",{className:Le.searchInput,children:o.jsx("input",{type:"text",placeholder:"Search tasks...",value:d,onChange:S=>h(S.target.value),autoFocus:!0})}),o.jsx("div",{className:Le.taskList,children:b.length>0?b.slice(0,10).map(S=>{var j;return o.jsxs("div",{className:Le.taskOption,onClick:()=>w(S.id),children:[o.jsx("span",{className:Le.taskOptionTitle,children:S.title}),o.jsx("span",{className:Le.taskOptionStatus,children:((j=r.columns.find(N=>N.id===S.column_id))==null?void 0:j.title)||"Unknown"})]},S.id)}):o.jsx("div",{className:Le.noResults,children:d?"No matching tasks found":"No available tasks"})})]})]})]})}const YV="_container_1of9j_1",XV="_title_1of9j_5",JV="_loading_1of9j_12",QV="_empty_1of9j_13",ZV="_timeline_1of9j_20",eK="_activityItem_1of9j_26",tK="_iconWrapper_1of9j_32",rK="_content_1of9j_42",nK="_message_1of9j_47",iK="_time_1of9j_20",En={container:YV,title:XV,loading:JV,empty:QV,timeline:ZV,activityItem:eK,iconWrapper:tK,content:rK,message:nK,time:iK},aK=e=>{switch(e){case"task_created":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 8v8M8 12h8"})]});case"task_updated":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"}),o.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"})]});case"task_deleted":return o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})});case"task_moved":return o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M5 9l-3 3 3 3M9 5l3-3 3 3M15 19l-3 3-3-3M19 9l3 3-3 3M2 12h20M12 2v20"})});case"task_completed":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M22 11.08V12a10 10 0 11-5.93-9.14"}),o.jsx("path",{d:"M22 4L12 14.01l-3-3"})]});case"comment_added":return o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"})});case"assignee_added":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),o.jsx("circle",{cx:"8.5",cy:"7",r:"4"}),o.jsx("path",{d:"M20 8v6M23 11h-6"})]});case"label_added":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"}),o.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7"})]});case"priority_changed":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),o.jsx("line",{x1:"4",y1:"22",x2:"4",y2:"15"})]});case"due_date_changed":return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),o.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),o.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),o.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]});default:return o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 16v-4M12 8h.01"})]})}},Vk=e=>{switch(e){case"task_created":return"#22c55e";case"task_deleted":return"#ef4444";case"task_completed":return"#22c55e";case"comment_added":return"#3b82f6";case"assignee_added":case"assignee_removed":return"#8b5cf6";case"priority_changed":return"#f59e0b";default:return"#6b7280"}},sK=e=>{var n,i,a;const t=((n=e.profiles)==null?void 0:n.full_name)||((a=(i=e.profiles)==null?void 0:i.email)==null?void 0:a.split("@")[0])||"Someone",r=e.action_details||{};switch(e.action_type){case"task_created":return`${t} created this task`;case"task_updated":return`${t} updated the task`;case"task_deleted":return`${t} deleted the task`;case"task_moved":return`${t} moved the task to ${r.to_column||"another column"}`;case"task_completed":return`${t} completed the task`;case"task_archived":return`${t} archived the task`;case"task_restored":return`${t} restored the task`;case"comment_added":return`${t} added a comment`;case"attachment_added":return`${t} added an attachment`;case"assignee_added":return`${t} assigned ${r.assignee_name||"someone"}`;case"assignee_removed":return`${t} removed ${r.assignee_name||"an assignee"}`;case"label_added":return`${t} added label "${r.label_name||""}"`;case"label_removed":return`${t} removed label "${r.label_name||""}"`;case"due_date_changed":return`${t} changed the due date`;case"priority_changed":return`${t} changed priority to ${r.new_priority||"unknown"}`;case"time_logged":return`${t} logged time`;default:return`${t} performed an action`}},oK=e=>{const t=new Date(e),r=new Date,n=Math.floor((r.getTime()-t.getTime())/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<604800?`${Math.floor(n/86400)}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==r.getFullYear()?"numeric":void 0})};function lK({boardId:e,taskId:t,limit:r=20}){const[n,i]=m.useState([]),[a,s]=m.useState(!0);m.useEffect(()=>{l()},[e,t,r]);const l=async()=>{s(!0);const{data:c}=await uw(e,t,void 0,r);i(c||[]),s(!1)};return a?o.jsx("div",{className:En.container,children:o.jsx("div",{className:En.loading,children:"Loading activity..."})}):n.length===0?o.jsx("div",{className:En.container,children:o.jsx("div",{className:En.empty,children:"No activity yet"})}):o.jsxs("div",{className:En.container,children:[o.jsx("h4",{className:En.title,children:"Activity"}),o.jsx("div",{className:En.timeline,children:n.map((c,u)=>o.jsxs("div",{className:En.activityItem,children:[o.jsx("div",{className:En.iconWrapper,style:{backgroundColor:`${Vk(c.action_type)}20`,color:Vk(c.action_type)},children:aK(c.action_type)}),o.jsxs("div",{className:En.content,children:[o.jsx("p",{className:En.message,children:sK(c)}),o.jsx("span",{className:En.time,children:oK(c.created_at)})]})]},c.id))})]})}const cK="_overlay_uhver_2",uK="_panel_uhver_11",dK="_header_uhver_27",hK="_headerActions_uhver_45",fK="_watchBtn_uhver_51",mK="_watching_uhver_71",pK="_closeBtn_uhver_82",vK="_coverSection_uhver_106",gK="_coverImageWrapper_uhver_111",yK="_coverImage_uhver_111",_K="_coverActions_uhver_124",wK="_coverActionBtn_uhver_138",xK="_removeCoverBtn_uhver_161",bK="_addCoverBtn_uhver_165",kK="_content_uhver_193",jK="_metaRow_uhver_200",SK="_metaItem_uhver_210",CK="_priorityBadge_uhver_223",NK="_statusBadge_uhver_232",TK="_section_uhver_242",EK="_sectionHeader_uhver_246",PK="_description_uhver_264",AK="_tags_uhver_273",OK="_tag_uhver_273",IK="_subtasks_uhver_289",DK="_subtask_uhver_289",LK="_completed_uhver_303",$K="_readOnly_uhver_308",RK="_viewerHint_uhver_312",MK="_viewOnlyBadge_uhver_320",BK="_checkbox_uhver_326",FK="_attachmentInfo_uhver_406",zK="_attachmentName_uhver_411",UK="_attachmentSize_uhver_421",WK="_deleteBtn_uhver_426",HK="_comment_uhver_441",qK="_commentsSection_uhver_456",VK="_comments_uhver_456",KK="_commentAvatar_uhver_475",GK="_commentBody_uhver_489",YK="_commentHeader_uhver_496",XK="_commentAuthor_uhver_503",JK="_commentTime_uhver_509",QK="_commentActions_uhver_515",ZK="_commentActionBtn_uhver_523",eG="_pinnedAction_uhver_547",tG="_pinned_uhver_547",rG="_pinBadge_uhver_558",nG="_commentThread_uhver_579",iG="_replies_uhver_588",aG="_reply_uhver_604",sG="_commentText_uhver_635",oG="_inlineReplyInput_uhver_654",lG="_inlineReplyAvatar_uhver_663",cG="_inlineReplyBody_uhver_677",uG="_inlineReplyFiles_uhver_684",dG="_inlineReplyFilePreview_uhver_690",hG="_fileIconSmall_uhver_708",fG="_inlineReplyContent_uhver_751",mG="_inlineReplyAttach_uhver_774",pG="_inlineReplySend_uhver_798",vG="_commentImage_uhver_877",gG="_noComments_uhver_896",yG="_inputArea_uhver_905",_G="_filePreviews_uhver_911",wG="_filePreviewItem_uhver_918",xG="_filePreviewIcon_uhver_937",bG="_filePreviewInfo_uhver_954",kG="_filePreviewName_uhver_962",jG="_filePreviewSize_uhver_971",SG="_inputRow_uhver_999",CG="_inputActions_uhver_1022",NG="_actionBtn_uhver_1028",TG="_sendBtn_uhver_1052",EG="_bottomMenu_uhver_1081",PG="_menuBtn_uhver_1091",AG="_attachmentsList_uhver_1141",OG="_attachmentItem_uhver_1147",IG="_attachmentIcon_uhver_1161",DG="_attachmentActions_uhver_1200",LG="_downloadBtn_uhver_1205",$G="_noAttachments_uhver_1229",RG="_uploadBtn_uhver_1236",MG="_inputRowWrapper_uhver_1260",BG="_mentionDropdown_uhver_1264",FG="_mentionItem_uhver_1279",zG="_mentionEmail_uhver_1309",UG="_mentionHighlight_uhver_1321",WG="_emojiPickerWrapper_uhver_1330",HG="_emojiPicker_uhver_1330",qG="_emojiBtn_uhver_1351",VG="_inlineReplyEmoji_uhver_1369",KG="_customFieldsGrid_uhver_1394",GG="_customFieldItem_uhver_1401",YG="_customFieldLabel_uhver_1410",XG="_customFieldValue_uhver_1418",JG="_linkValue_uhver_1424",QG="_reminderSection_uhver_1435",ZG="_reminderHeader_uhver_1443",eY="_reminderSelect_uhver_1457",tY="_reminderInfo_uhver_1479",Y={overlay:cK,panel:uK,header:dK,headerActions:hK,watchBtn:fK,watching:mK,closeBtn:pK,coverSection:vK,coverImageWrapper:gK,coverImage:yK,coverActions:_K,coverActionBtn:wK,removeCoverBtn:xK,addCoverBtn:bK,content:kK,metaRow:jK,metaItem:SK,priorityBadge:CK,statusBadge:NK,section:TK,sectionHeader:EK,description:PK,tags:AK,tag:OK,subtasks:IK,subtask:DK,completed:LK,readOnly:$K,viewerHint:RK,viewOnlyBadge:MK,checkbox:BK,attachmentInfo:FK,attachmentName:zK,attachmentSize:UK,deleteBtn:WK,comment:HK,commentsSection:qK,comments:VK,commentAvatar:KK,commentBody:GK,commentHeader:YK,commentAuthor:XK,commentTime:JK,commentActions:QK,commentActionBtn:ZK,pinnedAction:eG,pinned:tG,pinBadge:rG,commentThread:nG,replies:iG,reply:aG,commentText:sG,inlineReplyInput:oG,inlineReplyAvatar:lG,inlineReplyBody:cG,inlineReplyFiles:uG,inlineReplyFilePreview:dG,fileIconSmall:hG,inlineReplyContent:fG,inlineReplyAttach:mG,inlineReplySend:pG,commentImage:vG,noComments:gG,inputArea:yG,filePreviews:_G,filePreviewItem:wG,filePreviewIcon:xG,filePreviewInfo:bG,filePreviewName:kG,filePreviewSize:jG,inputRow:SG,inputActions:CG,actionBtn:NG,sendBtn:TG,bottomMenu:EG,menuBtn:PG,attachmentsList:AG,attachmentItem:OG,attachmentIcon:IG,attachmentActions:DG,downloadBtn:LG,noAttachments:$G,uploadBtn:RG,inputRowWrapper:MG,mentionDropdown:BG,mentionItem:FG,mentionEmail:zG,mentionHighlight:UG,emojiPickerWrapper:WG,emojiPicker:HG,emojiBtn:qG,inlineReplyEmoji:VG,customFieldsGrid:KG,customFieldItem:GG,customFieldLabel:YG,customFieldValue:XG,linkValue:JG,reminderSection:QG,reminderHeader:ZG,reminderSelect:eY,reminderInfo:tY},Kk=["","","","","","","","","","","","","","","","","","","","","","","",""];function rY(){var Pb,Ab;const{state:e,deleteTask:t,archiveTask:r,openEditModal:n,closeDetailPanel:i,loadTasks:a,duplicateTask:s}=Xe(),{user:l,profile:c}=Ye(),{showToast:u}=vr(),[d,h]=m.useState([]),[f,p]=m.useState({}),[g,w]=m.useState(""),[y,_]=m.useState([]),[b,k]=m.useState([]),[x,C]=m.useState([]),[S,j]=m.useState(!1),[N,T]=m.useState(!1),[P,I]=m.useState([]),[E,B]=m.useState(!1),[K,R]=m.useState(""),[te,A]=m.useState(-1),[U,z]=m.useState(null),[Q,W]=m.useState({}),[re,O]=m.useState({}),[$,Z]=m.useState({}),[X,ce]=m.useState(new Set),[le,L]=m.useState(!1),[G,de]=m.useState(null),[V,Se]=m.useState(!1),[ue,he]=m.useState(""),[Oe,Ge]=m.useState([]),[mt,Pt]=m.useState({}),Gt=m.useRef(null),Nn=m.useRef(null),un=m.useRef(null),J=e.selectedTaskId?e.tasks.find(D=>D.id===e.selectedTaskId):null,Ea=J?e.columns.find(D=>D.id===J.column_id):null,dn=(l==null?void 0:l.id)===(J==null?void 0:J.user_id);m.useEffect(()=>{(async()=>{if(J&&l){const{isWatched:q}=await FP(J.id,l.id);Se(q)}})()},[J==null?void 0:J.id,l==null?void 0:l.id]),m.useEffect(()=>{if(J!=null&&J.reminder_at){const D=new Date(J.reminder_at),ne=new Date(J.due_date||"").getTime()-D.getTime(),ie=Math.round(ne/(1e3*60));ie<=15?he("15min"):ie<=30?he("30min"):ie<=60?he("1hour"):ie<=120?he("2hours"):ie<=1440?he("1day"):ie<=2880?he("2days"):he("1week")}else he("")},[J==null?void 0:J.reminder_at]),m.useEffect(()=>{(async()=>{var ie;if(!J||!((ie=e.board)!=null&&ie.id)){Ge([]),Pt({});return}console.log("[TaskDetail] Loading custom fields for board:",e.board.id);const{data:q,error:ne}=await M.from("custom_fields").select("*").eq("board_id",e.board.id).order("position",{ascending:!0});if(console.log("[TaskDetail] Custom fields:",q,"error:",ne),q){Ge(q);const{data:fe,error:pe}=await M.from("custom_field_values").select("*").eq("task_id",J.id);if(console.log("[TaskDetail] Custom field values:",fe,"error:",pe),fe){const je={};fe.forEach(be=>{var Ee;je[be.field_id]=(Ee=be.value)==null?void 0:Ee.value}),Pt(je)}}})()},[J==null?void 0:J.id,(Pb=e.board)==null?void 0:Pb.id]),m.useEffect(()=>{J?(vi(J.id),pi(J.id),Vl()):(h([]),C([]),I([]))},[J]);const Vl=async()=>{var ne,ie,fe,pe,je;if(!l)return;const D=[],{data:q}=await rw(l.id);if(q&&q.forEach(be=>{be.auth_user_id&&D.push({id:be.auth_user_id,name:be.name,email:be.email})}),J!=null&&J.user_id&&J.user_id!==l.id){const{data:be}=await fu(J.user_id);be&&!D.find(Ee=>Ee.id===J.user_id)&&D.push({id:J.user_id,name:be.full_name||((ne=be.email)==null?void 0:ne.split("@")[0])||"Owner",email:be.email||""})}if(J!=null&&J.task_assignees){for(const be of J.task_assignees)if(be.user_id&&!D.find(Ee=>Ee.id===be.user_id)){const Ee=((ie=be.profiles)==null?void 0:ie.full_name)||((pe=(fe=be.profiles)==null?void 0:fe.email)==null?void 0:pe.split("@")[0])||"User";D.push({id:be.user_id,name:Ee,email:((je=be.profiles)==null?void 0:je.email)||""})}}I(D)},pi=async D=>{const{data:q}=await vP(D);q&&C(q)},vi=async D=>{const{data:q}=await mP(D);if(console.log("[loadComments] Comments loaded:",q==null?void 0:q.length),q){h(q);const ne=[...new Set(q.map(fe=>fe.user_id))];console.log("[loadComments] User IDs to fetch:",ne);const ie={};for(const fe of ne){console.log("[loadComments] Fetching profile for:",fe);const{data:pe,error:je}=await fu(fe);console.log("[loadComments] Profile result:",{userId:fe,hasData:!!pe,fullName:pe==null?void 0:pe.full_name,email:pe==null?void 0:pe.email,error:(je==null?void 0:je.message)||je}),pe&&(ie[fe]=pe)}console.log("[loadComments] All profiles loaded:",Object.keys(ie).length,"profiles"),p(ie)}},gi=D=>{var ne;const q=f[D];return q!=null&&q.full_name?q.full_name:q!=null&&q.email?q.email.split("@")[0]:(l==null?void 0:l.id)===D?(c==null?void 0:c.full_name)||((ne=l==null?void 0:l.email)==null?void 0:ne.split("@")[0])||"You":`User ${D.slice(0,6)}`},po=D=>{const q=D.target.files;if(!q)return;const ne=[],ie=[];for(let fe=0;fe<q.length;fe++){const pe=q[fe];if(pe.size>10*1024*1024){u(`File ${pe.name} is too large (max 10MB)`,"error");continue}ne.push(pe);const je={name:pe.name,size:pe.size,type:pe.type};if(pe.type.startsWith("image/")){const be=new FileReader;be.onloadend=()=>{k(Ee=>{const Xt=[...Ee],kt=Xt.findIndex(Mt=>Mt.name===pe.name&&Mt.size===pe.size);return kt>=0&&(Xt[kt]={...Xt[kt],preview:be.result}),Xt})},be.readAsDataURL(pe)}ie.push(je)}_([...y,...ne]),k([...b,...ie]),Gt.current&&(Gt.current.value="")},hn=D=>{_(y.filter((q,ne)=>ne!==D)),k(b.filter((q,ne)=>ne!==D))},H=D=>{const q=D.target.value,ne=D.target.selectionStart||0;w(q);const ie=q.substring(0,ne),fe=ie.lastIndexOf("@");if(fe!==-1)if(fe===0||q[fe-1]===" "){const pe=ie.substring(fe+1).toLowerCase();pe.includes(" ")?B(!1):(R(pe),A(fe),B(!0))}else B(!1);else B(!1)},_e=D=>{var fe;const q=g.substring(0,te),ne=g.substring(((fe=un.current)==null?void 0:fe.selectionStart)||0),ie=`${q}@${D.name} ${ne}`;w(ie),B(!1),setTimeout(()=>{if(un.current){const pe=q.length+D.name.length+2;un.current.focus(),un.current.setSelectionRange(pe,pe)}},0)},Ie=P.filter(D=>D.name.toLowerCase().includes(K)||D.email.toLowerCase().includes(K)),pt=D=>{const q=[];return P.forEach(ne=>{D.toLowerCase().includes(`@${ne.name.toLowerCase()}`)&&q.push(ne.id)}),q},Pe=D=>{if(!D)return null;const q=[];let ne=D;const ie=[...P].sort((fe,pe)=>pe.name.length-fe.name.length);for(;ne.length>0;){let fe=!1;for(const pe of ie){const je=`@${pe.name}`;if(ne.toLowerCase().indexOf(je.toLowerCase())===0){q.push({text:je,isMention:!0,userId:pe.id}),ne=ne.slice(je.length),fe=!0;break}}fe||(q.push({text:ne[0],isMention:!1}),ne=ne.slice(1))}return o.jsx("span",{children:q.map((fe,pe)=>fe.isMention?o.jsx("span",{className:Y.mentionHighlight,children:fe.text},pe):o.jsx("span",{children:fe.text},pe))})},Vn=D=>{const q=gi(D.user_id);z(D.id),W(ne=>({...ne,[D.id]:`@${q} `}))},Kr=D=>{z(null),W(q=>{const ne={...q};return delete ne[D],ne}),O(q=>{const ne={...q};return delete ne[D],ne}),Z(q=>{const ne={...q};return delete ne[D],ne})},yi=(D,q)=>{W(ne=>({...ne,[D]:q}))},tv=(D,q)=>{const ne=q.target.files;if(!ne)return;const ie=re[D]||[],fe=$[D]||[],pe=[...ie],je=[...fe];for(let be=0;be<ne.length;be++){const Ee=ne[be];if(Ee.size>10*1024*1024){u(`File ${Ee.name} is too large (max 10MB)`,"error");continue}pe.push(Ee);const Xt={name:Ee.name,size:Ee.size,type:Ee.type};if(Ee.type.startsWith("image/")){const kt=new FileReader;kt.onloadend=()=>{Z(Mt=>{const vo={...Mt},Je=vo[D]||[],go=Je.findIndex(Ob=>Ob.name===Ee.name&&Ob.size===Ee.size);return go>=0&&(Je[go]={...Je[go],preview:kt.result},vo[D]=Je),vo})},kt.readAsDataURL(Ee)}je.push(Xt)}O(be=>({...be,[D]:pe})),Z(be=>({...be,[D]:je})),q.target.value=""},rv=(D,q)=>{O(ne=>{const ie=ne[D]||[],fe={...ne};return fe[D]=ie.filter((pe,je)=>je!==q),fe}),Z(ne=>{const ie=ne[D]||[],fe={...ne};return fe[D]=ie.filter((pe,je)=>je!==q),fe})},or=D=>{const q=un.current;if(q){const ne=q.selectionStart||0,ie=q.selectionEnd||0,fe=g.substring(0,ne)+D+g.substring(ie);w(fe),setTimeout(()=>{q.selectionStart=q.selectionEnd=ne+D.length,q.focus()},0)}else w(g+D);L(!1)},$r=(D,q)=>{const ne=Q[D]||"";yi(D,ne+q),de(null)},Nr=async D=>{var je;const q=Q[D.id]||"",ne=re[D.id]||[];if(!J||!l||!q.trim()&&ne.length===0)return;T(!0);const ie=[];for(const be of ne){const{data:Ee,error:Xt}=await $c(J.id,l.id,be);!Xt&&Ee&&ie.push(Ee.file_url)}const{data:fe,error:pe}=await Ey({task_id:J.id,user_id:l.id,content:q.trim()||(ie.length>0?" Shared file(s)":""),image_url:ie[0]||null,parent_id:D.id,is_pinned:!1});if(!pe&&fe){h([...d,fe]),z(null),W(kt=>{const Mt={...kt};return delete Mt[D.id],Mt}),O(kt=>{const Mt={...kt};return delete Mt[D.id],Mt}),Z(kt=>{const Mt={...kt};return delete Mt[D.id],Mt}),u("Reply sent!","success");const be=(c==null?void 0:c.full_name)||((je=l==null?void 0:l.email)==null?void 0:je.split("@")[0])||"Someone",Ee=new Set,Xt=pt(q);Xt.forEach(kt=>{kt!==l.id&&Ee.add(kt)}),D.user_id!==l.id&&Ee.add(D.user_id);for(const kt of Ee){const Mt=Xt.includes(kt);await rf({user_id:kt,type:Mt?"mention":"comment",title:Mt?"You were mentioned":"New Reply",message:Mt?`${be} mentioned you on "${J.title}"`:`${be} replied to your comment on "${J.title}"`,is_read:!1,task_id:J.id,board_id:J.board_id})}}else u("Failed to add reply","error");T(!1)},_i=async D=>{try{await navigator.clipboard.writeText(D.content),u("Comment copied!","success")}catch{u("Failed to copy","error")}},Gr=D=>{ce(q=>{const ne=new Set(q);return ne.has(D)?(ne.delete(D),u("Comment unpinned","info")):(ne.add(D),u("Comment pinned","success")),ne})},Rr=()=>dn,fn=async()=>{var ie,fe;if(!J||!l||!g.trim()&&y.length===0)return;console.log("[Comment] Starting to add comment..."),T(!0);const D=[];for(const pe of y){const{data:je,error:be}=await $c(J.id,l.id,pe);if(be){u(`Failed to upload ${pe.name}`,"error");continue}je&&D.push(je.file_url)}const{data:q,error:ne}=await Ey({task_id:J.id,user_id:l.id,content:g.trim()||(D.length>0?" Shared file(s)":""),image_url:D[0]||null,parent_id:null,is_pinned:!1});if(!ne&&q){h([...d,q]),w(""),_([]),k([]),B(!1),Gt.current&&(Gt.current.value=""),u("Comment added!","success");const pe=(c==null?void 0:c.full_name)||((ie=l==null?void 0:l.email)==null?void 0:ie.split("@")[0])||"Someone",je=new Set,be=pt(g);be.forEach(Ee=>{Ee!==l.id&&je.add(Ee)}),J.user_id&&J.user_id!==l.id&&je.add(J.user_id),J.task_assignees&&J.task_assignees.forEach(Ee=>{Ee.user_id!==l.id&&je.add(Ee.user_id)}),console.log("[Comment] Task owner:",J.user_id),console.log("[Comment] Current user:",l.id),console.log("[Comment] Task assignees:",J.task_assignees),console.log("[Comment] Assignees count:",(fe=J.task_assignees)==null?void 0:fe.length),console.log("[Comment] Users to notify:",Array.from(je),"Commenter:",l.id);for(const Ee of je){console.log("[Comment] Creating notification for:",Ee);const Xt=be.includes(Ee),{data:kt,error:Mt}=await rf({user_id:Ee,type:Xt?"mention":"comment",title:Xt?"You were mentioned":"New Comment",message:Xt?`${pe} mentioned you on "${J.title}"`:`${pe} commented on "${J.title}"`,is_read:!1,task_id:J.id,board_id:J.board_id});console.log("[Comment] Notification result:",{notifData:kt,notifError:Mt})}}else u("Failed to add comment","error");T(!1)},Pa=async D=>{if(!confirm("Delete this comment?"))return;const{error:q}=await pP(D);q||(h(d.filter(ne=>ne.id!==D)),u("Comment deleted","info"))},Yt=async()=>{!J||!confirm("Delete this task?")||(await t(J.id),i())},wi=async()=>{J&&(await r(J),i())},Tn=async()=>{if(!J)return;await s(J.id)&&u("Task duplicated successfully","success")},Kn=()=>{J&&(i(),n(J))},gs=async()=>{if(!J||!l)return;const{watching:D,error:q}=await UP(J.id,l.id);q?u("Failed to update watch status","error"):(Se(D),u(D?"You are now watching this task":"You stopped watching this task","info"))},ys=async(D,q)=>{if(!J)return;const{error:ne}=await J0(D,{is_completed:!q});ne?u("Failed to update subtask","error"):(await a(),u(q?"Subtask reopened":"Subtask completed!","success"))},xi=async D=>{var fe;const q=(fe=D.target.files)==null?void 0:fe[0];if(!q||!J||!l)return;if(q.size>10*1024*1024){u("File must be less than 10MB","error");return}j(!0);const{data:ne,error:ie}=await $c(J.id,l.id,q);if(j(!1),ie){u("Failed to upload file","error");return}ne&&(C([ne,...x]),u("File uploaded!","success")),Nn.current&&(Nn.current.value="")},_s=D=>{const q=window.document.createElement("a");q.href=D.file_url,q.download=D.file_name,q.target="_blank",window.document.body.appendChild(q),q.click(),window.document.body.removeChild(q)},Kl=async D=>{if(!confirm("Delete this attachment?"))return;const{error:q}=await yP(D);q?u("Failed to delete attachment","error"):(C(x.filter(ne=>ne.id!==D)),u("Attachment deleted","info"))},Tb=D=>D<1024?D+" B":D<1024*1024?(D/1024).toFixed(1)+" KB":(D/(1024*1024)).toFixed(1)+" MB",AR=D=>D.startsWith("image/")?o.jsx(Iy,{}):D.includes("pdf")?o.jsx(Rc,{}):D.includes("zip")||D.includes("rar")||D.includes("7z")?o.jsx(Ni,{}):D.includes("doc")||D.includes("word")?o.jsx(Rc,{}):D.includes("xls")||D.includes("excel")?o.jsx(Rc,{}):o.jsx(Ni,{}),OR=D=>{const q=new Date(D),ne=new Date,ie=ne.getTime()-q.getTime(),fe=Math.floor(ie/1e3),pe=Math.floor(fe/60),je=Math.floor(pe/60),be=Math.floor(je/24);return fe<60?"sekarang":pe<60?`${pe} menit lalu`:je<24?`${je} jam lalu`:be<7?`${be} hari lalu`:q.toLocaleDateString("id-ID",{day:"numeric",month:"short",year:q.getFullYear()!==ne.getFullYear()?"numeric":void 0})},Eb=D=>{switch(D){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#888"}};c!=null&&c.full_name||(Ab=l==null?void 0:l.user_metadata)!=null&&Ab.name;const IR=(D,q)=>{var ne;switch(D.field_type){case"select":const ie=(ne=D.options)==null?void 0:ne.find(fe=>fe.value===q);return(ie==null?void 0:ie.label)||q;case"multiselect":return Array.isArray(q)?q.map(fe=>{var je;const pe=(je=D.options)==null?void 0:je.find(be=>be.value===fe);return(pe==null?void 0:pe.label)||fe}).join(", "):q;case"checkbox":return q?" Yes":" No";case"url":return o.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:Y.linkValue,children:q});default:return String(q)}};return!e.isDetailPanelOpen||!J?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:Y.overlay,onClick:i}),o.jsxs("div",{className:Y.panel,children:[o.jsxs("div",{className:Y.header,children:[o.jsx("h2",{children:J.title}),o.jsxs("div",{className:Y.headerActions,children:[o.jsxs("button",{className:`${Y.watchBtn} ${V?Y.watching:""}`,onClick:gs,title:V?"Stop watching this task":"Watch this task for updates",children:[V?o.jsx(sA,{}):o.jsx(fl,{}),V?"Watching":"Watch"]}),o.jsx("button",{className:Y.closeBtn,onClick:i,children:o.jsx(ft,{})})]})]}),dn&&o.jsx("div",{className:Y.coverSection,children:J.cover_image_url?o.jsxs("div",{className:Y.coverImageWrapper,children:[o.jsx("img",{src:J.cover_image_url,alt:"Cover",className:Y.coverImage}),o.jsxs("div",{className:Y.coverActions,children:[o.jsxs("button",{className:Y.coverActionBtn,onClick:async()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async q=>{var be;const ne=(be=q.target.files)==null?void 0:be[0];if(!ne||!l)return;const ie=`${l.id}/${J.id}/cover-${Date.now()}.${ne.name.split(".").pop()}`,{supabase:fe}=await By(async()=>{const{supabase:Ee}=await Promise.resolve().then(()=>_k);return{supabase:Ee}},void 0),{error:pe}=await fe.storage.from("attachments").upload(ie,ne,{upsert:!0});if(pe){u("Failed to upload cover image","error");return}const{data:je}=fe.storage.from("attachments").getPublicUrl(ie);await Xr(J.id,{cover_image_url:je.publicUrl}),await a(),u("Cover image updated!","success")},D.click()},children:[o.jsx(vw,{})," Change"]}),o.jsxs("button",{className:`${Y.coverActionBtn} ${Y.removeCoverBtn}`,onClick:async()=>{await Xr(J.id,{cover_image_url:null}),await a(),u("Cover image removed","info")},children:[o.jsx(rr,{})," Remove"]})]})]}):o.jsxs("button",{className:Y.addCoverBtn,onClick:async()=>{const D=document.createElement("input");D.type="file",D.accept="image/*",D.onchange=async q=>{var be;const ne=(be=q.target.files)==null?void 0:be[0];if(!ne||!l)return;const ie=`${l.id}/${J.id}/cover-${Date.now()}.${ne.name.split(".").pop()}`,{supabase:fe}=await By(async()=>{const{supabase:Ee}=await Promise.resolve().then(()=>_k);return{supabase:Ee}},void 0),{error:pe}=await fe.storage.from("attachments").upload(ie,ne);if(pe){u("Failed to upload cover image","error");return}const{data:je}=fe.storage.from("attachments").getPublicUrl(ie);await Xr(J.id,{cover_image_url:je.publicUrl}),await a(),u("Cover image added!","success")},D.click()},children:[o.jsx(Iy,{})," Add Cover Image"]})}),o.jsxs("div",{className:Y.content,children:[o.jsxs("div",{className:Y.metaRow,children:[o.jsxs("div",{className:Y.metaItem,children:[o.jsx(es,{style:{color:Eb(J.priority)}}),o.jsx("span",{className:Y.priorityBadge,style:{background:Eb(J.priority)},children:J.priority})]}),Ea&&o.jsx("div",{className:Y.metaItem,children:o.jsx("span",{className:Y.statusBadge,style:{background:Ea.color},children:Ea.title})}),J.due_date&&o.jsxs("div",{className:Y.metaItem,children:[o.jsx(Ht,{}),o.jsx("span",{children:new Date(J.due_date).toLocaleDateString()})]})]}),J.due_date&&o.jsxs("div",{className:Y.reminderSection,children:[o.jsxs("div",{className:Y.reminderHeader,children:[o.jsx(ta,{}),o.jsx("span",{children:"Reminder"})]}),o.jsxs("select",{value:ue,onChange:async D=>{const q=D.target.value;if(he(q),q&&!UA()&&!await WA()){u("Please enable browser notifications","error");return}if(q&&J.due_date){const ne=HA(J.due_date,q);await Xr(J.id,{reminder_at:ne.toISOString()}),VA(J.id,J.title,ne),u(`Reminder set for ${qk(q)}`,"success")}else await Xr(J.id,{reminder_at:null}),Hq(J.id),u("Reminder removed","info")},className:Y.reminderSelect,children:[o.jsx("option",{value:"",children:"No reminder"}),qA().map(D=>o.jsx("option",{value:D.value,children:D.label},D.value))]}),ue&&o.jsxs("div",{className:Y.reminderInfo,children:[o.jsx(St,{}),o.jsxs("span",{children:["You'll be notified ",qk(ue)]})]})]}),J.description&&o.jsx("div",{className:Y.section,children:o.jsx("p",{className:Y.description,children:J.description})}),Oe.length>0&&Object.keys(mt).length>0&&o.jsxs("div",{className:Y.section,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(Rm,{}),o.jsx("span",{children:"Custom Fields"})]}),o.jsx("div",{className:Y.customFieldsGrid,children:Oe.map(D=>{const q=mt[D.id];return q==null||q===""?null:o.jsxs("div",{className:Y.customFieldItem,children:[o.jsx("span",{className:Y.customFieldLabel,children:D.name}),o.jsx("span",{className:Y.customFieldValue,children:IR(D,q)})]},D.id)})})]}),J.tags&&J.tags.length>0&&o.jsxs("div",{className:Y.section,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(Ol,{}),o.jsx("span",{children:"Tags"})]}),o.jsx("div",{className:Y.tags,children:J.tags.map(D=>o.jsx("span",{className:Y.tag,children:D.name},D.id))})]}),J.subtasks&&J.subtasks.length>0&&o.jsxs("div",{className:Y.section,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(zu,{}),o.jsxs("span",{children:["Subtasks (",J.subtasks.filter(D=>D.is_completed).length,"/",J.subtasks.length,")"]})]}),o.jsx("div",{className:Y.subtasks,children:J.subtasks.map(D=>o.jsxs("div",{className:`${Y.subtask} ${D.is_completed?Y.completed:""} ${dn?"":Y.readOnly}`,onClick:dn?()=>ys(D.id,D.is_completed):void 0,style:{cursor:dn?"pointer":"default"},children:[o.jsx("span",{className:Y.checkbox,children:D.is_completed?"":""}),o.jsx("span",{children:D.title})]},D.id))}),!dn&&o.jsx("span",{className:Y.viewerHint,children:"View only - ask the task owner to update subtasks"})]}),o.jsx("div",{className:Y.section,children:o.jsx(_V,{taskId:J.id,timerStartedAt:J.timer_started_at,timerUserId:J.timer_user_id,onTimerUpdate:a})}),o.jsx("div",{className:Y.section,children:o.jsx(GV,{taskId:J.id,boardId:J.board_id})}),o.jsxs("div",{className:Y.section,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(_n,{}),o.jsx("span",{children:"Activity"})]}),o.jsx(lK,{taskId:J.id,limit:10})]}),o.jsxs("div",{className:Y.section,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(Ni,{}),o.jsxs("span",{children:["Attachments (",x.length,")"]}),o.jsx("input",{ref:Nn,type:"file",onChange:xi,style:{display:"none"},accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.7z,.txt,.jpg,.jpeg,.png,.gif,.svg"}),o.jsx("button",{className:Y.uploadBtn,onClick:()=>{var D;return(D=Nn.current)==null?void 0:D.click()},disabled:S,title:"Upload file",children:S?"Uploading...":"+ Add File"})]}),x.length>0?o.jsx("div",{className:Y.attachmentsList,children:x.map(D=>o.jsxs("div",{className:Y.attachmentItem,children:[o.jsx("div",{className:Y.attachmentIcon,children:AR(D.file_type)}),o.jsxs("div",{className:Y.attachmentInfo,children:[o.jsx("span",{className:Y.attachmentName,children:D.file_name}),o.jsx("span",{className:Y.attachmentSize,children:Tb(D.file_size)})]}),o.jsxs("div",{className:Y.attachmentActions,children:[o.jsx("button",{className:Y.downloadBtn,onClick:()=>_s(D),title:"Download",children:o.jsx(CF,{})}),dn&&o.jsx("button",{className:Y.deleteBtn,onClick:()=>Kl(D.id),title:"Delete",children:o.jsx(rr,{})})]})]},D.id))}):o.jsx("p",{className:Y.noAttachments,children:"No attachments yet. Upload files to attach to this task."})]}),o.jsxs("div",{className:Y.commentsSection,children:[o.jsxs("div",{className:Y.sectionHeader,children:[o.jsx(of,{}),o.jsxs("span",{children:["Comments (",d.length,")"]})]}),o.jsx("div",{className:Y.comments,children:(()=>{const q=[...d.filter(ie=>!ie.parent_id)].sort((ie,fe)=>{const pe=X.has(ie.id),je=X.has(fe.id);return pe&&!je?-1:!pe&&je?1:0});if(q.length===0)return o.jsx("p",{className:Y.noComments,children:"No comments yet"});const ne=(ie,fe=0)=>{var vo;const pe=gi(ie.user_id),je=X.has(ie.id)&&fe===0,be=fe>0,Ee=Q[ie.id]||"",Xt=d.filter(Je=>Je.parent_id===ie.id),kt=3,Mt=U===ie.id||Xt.length>0;return o.jsxs("div",{className:Y.commentThread,children:[o.jsxs("div",{className:`${be?Y.reply:Y.comment} ${je?Y.pinned:""}`,children:[je&&o.jsxs("div",{className:Y.pinBadge,children:[o.jsx(Oy,{})," Pinned"]}),o.jsx("div",{className:Y.commentAvatar,children:pe.charAt(0).toUpperCase()}),o.jsxs("div",{className:Y.commentBody,children:[o.jsxs("div",{className:Y.commentHeader,children:[o.jsx("span",{className:Y.commentAuthor,children:pe}),o.jsx("span",{className:Y.commentTime,children:OR(ie.created_at)})]}),ie.content&&o.jsx("p",{className:Y.commentText,children:Pe(ie.content)}),ie.image_url&&o.jsx("img",{src:ie.image_url,alt:"Comment image",className:Y.commentImage,onClick:()=>window.open(ie.image_url,"_blank")}),o.jsxs("div",{className:Y.commentActions,children:[o.jsxs("button",{className:Y.commentActionBtn,onClick:()=>Vn(ie),title:"Reply",children:[o.jsx(SF,{})," Reply"]}),o.jsxs("button",{className:Y.commentActionBtn,onClick:()=>_i(ie),title:"Copy",children:[o.jsx(kk,{})," Copy"]}),!be&&Rr()&&o.jsxs("button",{className:`${Y.commentActionBtn} ${je?Y.pinnedAction:""}`,onClick:()=>Gr(ie.id),title:je?"Unpin":"Pin",children:[o.jsx(Oy,{})," ",je?"Unpin":"Pin"]})]})]}),o.jsx("button",{className:Y.deleteBtn,onClick:()=>Pa(ie.id),children:o.jsx(rr,{})})]}),Xt.length>0&&fe<kt&&o.jsx("div",{className:Y.replies,children:Xt.map(Je=>ne(Je,fe+1))}),Mt&&o.jsxs("div",{className:Y.inlineReplyInput,children:[o.jsx("div",{className:Y.inlineReplyAvatar,children:((c==null?void 0:c.full_name)||((vo=l==null?void 0:l.email)==null?void 0:vo.split("@")[0])||"Y").charAt(0).toUpperCase()}),o.jsxs("div",{className:Y.inlineReplyBody,children:[($[ie.id]||[]).length>0&&o.jsx("div",{className:Y.inlineReplyFiles,children:($[ie.id]||[]).map((Je,go)=>o.jsxs("div",{className:Y.inlineReplyFilePreview,children:[Je.preview?o.jsx("img",{src:Je.preview,alt:Je.name}):o.jsx("div",{className:Y.fileIconSmall,children:o.jsx(Ni,{})}),o.jsx("span",{children:Je.name}),o.jsx("button",{onClick:()=>rv(ie.id,go),children:o.jsx(ft,{})})]},go))}),o.jsxs("div",{className:Y.inlineReplyContent,children:[o.jsx("input",{type:"text",value:Ee,onChange:Je=>yi(ie.id,Je.target.value),placeholder:"Write a reply...",onKeyDown:Je=>{Je.key==="Enter"&&!Je.shiftKey&&(Je.preventDefault(),Nr(ie)),Je.key==="Escape"&&Kr(ie.id)}}),o.jsxs("div",{className:Y.emojiPickerWrapper,children:[o.jsx("button",{className:Y.inlineReplyEmoji,onClick:()=>de(G===ie.id?null:ie.id),title:"Add emoji",children:o.jsx(Nk,{})}),G===ie.id&&o.jsx("div",{className:Y.emojiPicker,children:Kk.map(Je=>o.jsx("button",{className:Y.emojiBtn,onClick:()=>$r(ie.id,Je),children:Je},Je))})]}),o.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.7z,.txt,.jpg,.jpeg,.png,.gif,.svg",onChange:Je=>tv(ie.id,Je),style:{display:"none"},id:`reply-file-${ie.id}`}),o.jsx("button",{className:Y.inlineReplyAttach,onClick:()=>{var Je;return(Je=document.getElementById(`reply-file-${ie.id}`))==null?void 0:Je.click()},title:"Attach file",children:o.jsx(Ni,{})}),o.jsx("button",{className:Y.inlineReplySend,onClick:()=>Nr(ie),disabled:!Ee.trim()&&(re[ie.id]||[]).length===0||N,children:o.jsx(Dy,{})})]})]})]})]},ie.id)};return q.map(ie=>ne(ie,0))})()})]})]}),o.jsxs("div",{className:Y.inputArea,children:[b.length>0&&o.jsx("div",{className:Y.filePreviews,children:b.map((D,q)=>o.jsxs("div",{className:Y.filePreviewItem,children:[D.preview?o.jsx("img",{src:D.preview,alt:D.name}):o.jsx("div",{className:Y.filePreviewIcon,children:o.jsx(Ni,{})}),o.jsxs("div",{className:Y.filePreviewInfo,children:[o.jsx("span",{className:Y.filePreviewName,children:D.name}),o.jsx("span",{className:Y.filePreviewSize,children:Tb(D.size)})]}),o.jsx("button",{onClick:()=>hn(q),children:o.jsx(ft,{})})]},q))}),o.jsxs("div",{className:Y.inputRowWrapper,children:[E&&Ie.length>0&&o.jsx("div",{className:Y.mentionDropdown,children:Ie.slice(0,5).map(D=>o.jsxs("button",{className:Y.mentionItem,onClick:()=>_e(D),type:"button",children:[o.jsx(_F,{}),o.jsx("span",{children:D.name}),o.jsx("span",{className:Y.mentionEmail,children:D.email})]},D.id))}),o.jsxs("div",{className:Y.inputRow,children:[o.jsx("input",{ref:un,type:"text",value:g,onChange:H,placeholder:"Write a comment... (use @ to mention)",onKeyDown:D=>{D.key==="Enter"&&!D.shiftKey&&!E&&fn()}}),o.jsx("input",{ref:Gt,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.7z,.txt,.jpg,.jpeg,.png,.gif,.svg",onChange:po,style:{display:"none"}}),o.jsxs("div",{className:Y.inputActions,children:[o.jsxs("div",{className:Y.emojiPickerWrapper,children:[o.jsx("button",{className:Y.actionBtn,onClick:()=>L(!le),title:"Add emoji",children:o.jsx(Nk,{})}),le&&o.jsx("div",{className:Y.emojiPicker,children:Kk.map(D=>o.jsx("button",{className:Y.emojiBtn,onClick:()=>or(D),children:D},D))})]}),o.jsx("button",{className:Y.actionBtn,onClick:()=>{var D;return(D=Gt.current)==null?void 0:D.click()},title:"Attach file",children:o.jsx(Ni,{})}),o.jsx("button",{className:Y.sendBtn,onClick:fn,disabled:N||!g.trim()&&y.length===0,children:o.jsx(Dy,{})})]})]})]})]}),dn?o.jsxs("div",{className:Y.bottomMenu,children:[o.jsxs("button",{className:Y.menuBtn,onClick:Kn,title:"Edit Task",children:[o.jsx(ua,{}),o.jsx("span",{children:"Edit"})]}),o.jsxs("button",{className:Y.menuBtn,onClick:Tn,title:"Duplicate",children:[o.jsx(kk,{}),o.jsx("span",{children:"Duplicate"})]}),o.jsxs("button",{className:Y.menuBtn,onClick:wi,title:"Archive",children:[o.jsx(rr,{}),o.jsx("span",{children:"Archive"})]}),o.jsxs("button",{className:`${Y.menuBtn} ${Y.deleteBtn}`,onClick:Yt,title:"Delete",children:[o.jsx(rr,{}),o.jsx("span",{children:"Delete"})]})]}):o.jsx("div",{className:Y.bottomMenu,children:o.jsx("span",{className:Y.viewOnlyBadge,children:" View Only - You can add comments"})})]})]})}const nY="_advancedFilters_z3zw7_1",iY="_filterBtn_z3zw7_9",aY="_active_z3zw7_28",sY="_filterCount_z3zw7_34",oY="_activeFilterChips_z3zw7_48",lY="_filterChip_z3zw7_55",cY="_clearAllBtn_z3zw7_87",uY="_filterDropdown_z3zw7_103",dY="_filterRow_z3zw7_116",hY="_filterSelect_z3zw7_122",fY="_addFilterBtn_z3zw7_142",mY="_quickFilters_z3zw7_160",pY="_quickFilterLabel_z3zw7_169",vY="_quickFilterBtn_z3zw7_174",Jt={advancedFilters:nY,filterBtn:iY,active:aY,filterCount:sY,activeFilterChips:oY,filterChip:lY,clearAllBtn:cY,filterDropdown:uY,filterRow:dY,filterSelect:hY,addFilterBtn:fY,quickFilters:mY,quickFilterLabel:pY,quickFilterBtn:vY};function gY({onFiltersChange:e,priorities:t,labels:r,projects:n,assignees:i}){var k;const[a,s]=m.useState(!1),[l,c]=m.useState([]),[u,d]=m.useState({field:"",operator:"is",value:""}),h=[{value:"priority",label:"Priority",icon:o.jsx(es,{})},{value:"assignee",label:"Assignee",icon:o.jsx($i,{})},{value:"due_date",label:"Due Date",icon:o.jsx(Ht,{})},{value:"label",label:"Label",icon:o.jsx(Ol,{})},{value:"project",label:"Project",icon:o.jsx(Pi,{})}],f={priority:[{value:"is",label:"is"},{value:"is_not",label:"is not"}],assignee:[{value:"is",label:"is"},{value:"is_not",label:"is not"},{value:"is_empty",label:"is unassigned"}],due_date:[{value:"is",label:"is"},{value:"before",label:"is before"},{value:"after",label:"is after"},{value:"is_empty",label:"has no due date"},{value:"is_overdue",label:"is overdue"},{value:"is_today",label:"is today"},{value:"is_this_week",label:"is this week"}],label:[{value:"has",label:"has"},{value:"does_not_have",label:"does not have"}],project:[{value:"is",label:"is"},{value:"is_not",label:"is not"},{value:"is_empty",label:"has no project"}]},p=x=>{switch(x){case"priority":return t.map(C=>({value:C,label:C.charAt(0).toUpperCase()+C.slice(1)}));case"assignee":return i.map(C=>({value:C.id,label:C.name}));case"label":return r.map(C=>({value:C.id,label:C.name,color:C.color}));case"project":return n.map(C=>({value:C.id,label:C.name,color:C.color}));default:return[]}},g=()=>{if(!u.field||!u.value)return;const x=[...l,{...u}];c(x),e(x),d({field:"",operator:"is",value:""})},w=x=>{const C=l.filter((S,j)=>j!==x);c(C),e(C)},y=()=>{c([]),e([])},_=x=>{var N,T,P,I,E,B;const C=((N=h.find(K=>K.value===x.field))==null?void 0:N.label)||x.field,S=((P=(T=f[x.field])==null?void 0:T.find(K=>K.value===x.operator))==null?void 0:P.label)||x.operator;let j=x.value;return x.field==="assignee"?j=((I=i.find(K=>K.id===x.value))==null?void 0:I.name)||x.value:x.field==="label"?j=((E=r.find(K=>K.id===x.value))==null?void 0:E.name)||x.value:x.field==="project"&&(j=((B=n.find(K=>K.id===x.value))==null?void 0:B.name)||x.value),`${C} ${S} ${j}`},b=(x,C)=>!["is_empty","is_overdue","is_today","is_this_week"].includes(C);return o.jsxs("div",{className:Jt.advancedFilters,children:[o.jsxs("button",{className:`${Jt.filterBtn} ${l.length>0?Jt.active:""}`,onClick:()=>s(!a),children:[o.jsx(TF,{}),o.jsx("span",{children:"Filters"}),l.length>0&&o.jsx("span",{className:Jt.filterCount,children:l.length})]}),l.length>0&&o.jsxs("div",{className:Jt.activeFilterChips,children:[l.map((x,C)=>o.jsxs("div",{className:Jt.filterChip,children:[o.jsx("span",{children:_(x)}),o.jsx("button",{onClick:()=>w(C),children:o.jsx(ft,{})})]},C)),o.jsx("button",{className:Jt.clearAllBtn,onClick:y,children:"Clear all"})]}),a&&o.jsxs("div",{className:Jt.filterDropdown,children:[o.jsxs("div",{className:Jt.filterRow,children:[o.jsx("div",{className:Jt.filterSelect,children:o.jsxs("select",{value:u.field,onChange:x=>d({...u,field:x.target.value,operator:"is",value:""}),children:[o.jsx("option",{value:"",children:"Select field..."}),h.map(x=>o.jsx("option",{value:x.value,children:x.label},x.value))]})}),u.field&&o.jsx("div",{className:Jt.filterSelect,children:o.jsx("select",{value:u.operator,onChange:x=>d({...u,operator:x.target.value}),children:(k=f[u.field])==null?void 0:k.map(x=>o.jsx("option",{value:x.value,children:x.label},x.value))})}),u.field&&b(u.field,u.operator)&&o.jsx("div",{className:Jt.filterSelect,children:o.jsxs("select",{value:u.value,onChange:x=>d({...u,value:x.target.value}),children:[o.jsx("option",{value:"",children:"Select value..."}),p(u.field).map(x=>o.jsx("option",{value:x.value,children:x.label},x.value))]})}),u.field&&(!b(u.field,u.operator)||u.value)&&o.jsx("button",{className:Jt.addFilterBtn,onClick:g,children:o.jsx(an,{})})]}),o.jsxs("div",{className:Jt.quickFilters,children:[o.jsx("span",{className:Jt.quickFilterLabel,children:"Quick filters:"}),o.jsx("button",{className:Jt.quickFilterBtn,onClick:()=>{c([{field:"due_date",operator:"is_overdue",value:""}]),e([{field:"due_date",operator:"is_overdue",value:""}])},children:"Overdue"}),o.jsx("button",{className:Jt.quickFilterBtn,onClick:()=>{c([{field:"due_date",operator:"is_today",value:""}]),e([{field:"due_date",operator:"is_today",value:""}])},children:"Due today"}),o.jsx("button",{className:Jt.quickFilterBtn,onClick:()=>{c([{field:"assignee",operator:"is_empty",value:""}]),e([{field:"assignee",operator:"is_empty",value:""}])},children:"Unassigned"}),o.jsx("button",{className:Jt.quickFilterBtn,onClick:()=>{c([{field:"priority",operator:"is",value:"high"}]),e([{field:"priority",operator:"is",value:"high"}])},children:"High priority"})]})]})]})}const yY="_overlay_1ax77_1",_Y="_modal_1ax77_12",wY="_header_1ax77_21",xY="_closeBtn_1ax77_36",bY="_content_1ax77_60",kY="_section_1ax77_64",jY="_label_1ax77_72",SY="_hint_1ax77_82",CY="_input_1ax77_88",NY="_inputDisabled_1ax77_108",TY="_currentCount_1ax77_119",EY="_atLimit_1ax77_125",PY="_infoBox_1ax77_130",AY="_footer_1ax77_161",OY="_cancelBtn_1ax77_170",IY="_saveBtn_1ax77_187",lr={overlay:yY,modal:_Y,header:wY,closeBtn:xY,content:bY,section:kY,label:jY,hint:SY,input:CY,inputDisabled:NY,currentCount:TY,atLimit:EY,infoBox:PY,footer:AY,cancelBtn:OY,saveBtn:IY};function DY({column:e,onClose:t}){var h;const{updateColumn:r,checkWipLimit:n}=Xe(),[i,a]=m.useState(((h=e.wip_limit)==null?void 0:h.toString())||""),[s,l]=m.useState(!1),c=n(e.id),u=async()=>{l(!0);try{const f=i?parseInt(i,10):null;if(f!==null&&f<1){alert("WIP limit must be at least 1"),l(!1);return}await r(e.id,{wip_limit:f}),t()}catch(f){console.error("Failed to save column settings:",f)}finally{l(!1)}},d=f=>{f.target===f.currentTarget&&t()};return o.jsx("div",{className:lr.overlay,onClick:d,children:o.jsxs("div",{className:lr.modal,children:[o.jsxs("div",{className:lr.header,children:[o.jsx("h2",{children:"Column Settings"}),o.jsx("button",{className:lr.closeBtn,onClick:t,children:o.jsx(ft,{})})]}),o.jsxs("div",{className:lr.content,children:[o.jsxs("div",{className:lr.section,children:[o.jsx("label",{className:lr.label,children:"Column Name"}),o.jsx("input",{type:"text",value:e.title,disabled:!0,className:lr.inputDisabled})]}),o.jsxs("div",{className:lr.section,children:[o.jsxs("label",{className:lr.label,children:["WIP (Work In Progress) Limit",o.jsx("span",{className:lr.hint,children:"Maximum tasks allowed in this column"})]}),o.jsx("input",{type:"number",min:"1",value:i,onChange:f=>a(f.target.value),placeholder:"No limit",className:lr.input}),o.jsxs("p",{className:lr.currentCount,children:["Current tasks: ",o.jsx("strong",{children:c.current}),c.limit&&o.jsxs("span",{className:c.atLimit?lr.atLimit:"",children:[" "," / Limit: ",c.limit]})]})]}),o.jsxs("div",{className:lr.infoBox,children:[o.jsx(sn,{}),o.jsxs("div",{children:[o.jsx("strong",{children:"What is WIP Limit?"}),o.jsx("p",{children:"WIP limits help control workflow by limiting how many tasks can be in a column at once. When the limit is reached, new tasks cannot be added until existing ones are moved."})]})]})]}),o.jsxs("div",{className:lr.footer,children:[o.jsx("button",{className:lr.cancelBtn,onClick:t,children:"Cancel"}),o.jsx("button",{className:lr.saveBtn,onClick:u,disabled:s,children:s?"Saving...":"Save Changes"})]})]})})}const LY="_container_r6fjv_1",$Y="_header_r6fjv_7",RY="_titleSection_r6fjv_16",MY="_count_r6fjv_29",BY="_actions_r6fjv_37",FY="_selectAllBtn_r6fjv_42",zY="_restoreBtn_r6fjv_57",UY="_deleteBtn_r6fjv_75",WY="_loading_r6fjv_93",HY="_empty_r6fjv_100",qY="_taskList_r6fjv_122",VY="_taskItem_r6fjv_128",KY="_selected_r6fjv_144",GY="_checkbox_r6fjv_149",YY="_taskContent_r6fjv_157",XY="_taskHeader_r6fjv_162",JY="_priorityDot_r6fjv_169",QY="_taskTitle_r6fjv_176",ZY="_taskDescription_r6fjv_184",eX="_taskMeta_r6fjv_191",tX="_metaItem_r6fjv_197",rX="_taskActions_r6fjv_205",ot={container:LY,header:$Y,titleSection:RY,count:MY,actions:BY,selectAllBtn:FY,restoreBtn:zY,deleteBtn:UY,loading:WY,empty:HY,taskList:qY,taskItem:VY,selected:KY,checkbox:GY,taskContent:YY,taskHeader:XY,priorityDot:JY,taskTitle:QY,taskDescription:ZY,taskMeta:eX,metaItem:tX,taskActions:rX};function nX(){var k;const{state:e,restoreTask:t,permanentDeleteTask:r}=Xe(),{user:n}=Ye(),[i,a]=m.useState([]),[s,l]=m.useState(!0),[c,u]=m.useState([]);m.useEffect(()=>{d()},[(k=e.board)==null?void 0:k.id]);const d=async()=>{var C;if(!((C=e.board)!=null&&C.id))return;l(!0);const{data:x}=await KE(e.board.id);a(x||[]),l(!1)},h=async x=>{await t(x),await d()},f=async x=>{await r(x),await d()},p=async()=>{if(c.length!==0){for(const x of c)await t(x);u([]),await d()}},g=async()=>{if(c.length!==0&&confirm(`Permanently delete ${c.length} tasks? This cannot be undone.`)){for(const x of c)await X0(x);u([]),await d()}},w=x=>{u(C=>C.includes(x)?C.filter(S=>S!==x):[...C,x])},y=()=>{c.length===i.length?u([]):u(i.map(x=>x.id))},_=x=>x?new Date(x).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",b=x=>{switch(x){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#6b7280"}};return s?o.jsx("div",{className:ot.container,children:o.jsx("div",{className:ot.loading,children:"Loading trash..."})}):o.jsxs("div",{className:ot.container,children:[o.jsxs("div",{className:ot.header,children:[o.jsxs("div",{className:ot.titleSection,children:[o.jsx("h2",{children:"Trash"}),o.jsxs("span",{className:ot.count,children:[i.length," items"]})]}),i.length>0&&o.jsxs("div",{className:ot.actions,children:[o.jsx("button",{className:ot.selectAllBtn,onClick:y,children:c.length===i.length?"Deselect All":"Select All"}),c.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{className:ot.restoreBtn,onClick:p,children:["Restore (",c.length,")"]}),o.jsxs("button",{className:ot.deleteBtn,onClick:g,children:["Delete Forever (",c.length,")"]})]})]})]}),i.length===0?o.jsxs("div",{className:ot.empty,children:[o.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"})}),o.jsx("h3",{children:"Trash is empty"}),o.jsx("p",{children:"Deleted tasks will appear here for 30 days"})]}):o.jsx("div",{className:ot.taskList,children:i.map(x=>o.jsxs("div",{className:`${ot.taskItem} ${c.includes(x.id)?ot.selected:""}`,children:[o.jsx("input",{type:"checkbox",checked:c.includes(x.id),onChange:()=>w(x.id),className:ot.checkbox}),o.jsxs("div",{className:ot.taskContent,children:[o.jsxs("div",{className:ot.taskHeader,children:[o.jsx("span",{className:ot.priorityDot,style:{backgroundColor:b(x.priority)}}),o.jsx("h4",{className:ot.taskTitle,children:x.title})]}),x.description&&o.jsxs("p",{className:ot.taskDescription,children:[x.description.substring(0,100),x.description.length>100?"...":""]}),o.jsx("div",{className:ot.taskMeta,children:o.jsxs("span",{className:ot.metaItem,children:[o.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("circle",{cx:"12",cy:"12",r:"10"}),o.jsx("path",{d:"M12 6v6l4 2"})]}),"Deleted: ",_(x.deleted_at)]})})]}),o.jsxs("div",{className:ot.taskActions,children:[o.jsxs("button",{className:ot.restoreBtn,onClick:()=>h(x.id),title:"Restore task",children:[o.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("path",{d:"M3 12a9 9 0 109-9 9.75 9.75 0 00-6.74 2.74L3 8"}),o.jsx("path",{d:"M3 3v5h5"})]}),"Restore"]}),o.jsxs("button",{className:ot.deleteBtn,onClick:()=>f(x.id),title:"Delete forever",children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2M10 11v6M14 11v6"})}),"Delete"]})]})]},x.id))})]})}const iX="_container_xenn7_1",aX="_header_xenn7_7",sX="_navigation_xenn7_14",oX="_navBtn_xenn7_20",lX="_currentMonth_xenn7_39",cX="_headerActions_xenn7_48",uX="_todayBtn_xenn7_54",dX="_viewToggle_xenn7_69",hX="_toggleBtn_xenn7_77",fX="_active_xenn7_91",mX="_dayHeaders_xenn7_96",pX="_dayHeader_xenn7_96",vX="_calendarGrid_xenn7_117",gX="_calendarDay_xenn7_126",yX="_otherMonth_xenn7_134",_X="_today_xenn7_54",wX="_dayNumber_xenn7_142",xX="_taskList_xenn7_165",bX="_taskItem_xenn7_173",kX="_overdue_xenn7_191",jX="_taskTitle_xenn7_195",SX="_moreTasks_xenn7_203",CX="_legend_xenn7_214",NX="_legendItem_xenn7_225",TX="_legendDot_xenn7_233",We={container:iX,header:aX,navigation:sX,navBtn:oX,currentMonth:lX,headerActions:cX,todayBtn:uX,viewToggle:dX,toggleBtn:hX,active:fX,dayHeaders:mX,dayHeader:pX,calendarGrid:vX,calendarDay:gX,otherMonth:yX,today:_X,dayNumber:wX,taskList:xX,taskItem:bX,overdue:kX,taskTitle:jX,moreTasks:SX,legend:CX,legendItem:NX,legendDot:TX},EX=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],PX=["January","February","March","April","May","June","July","August","September","October","November","December"],AX=e=>{switch(e){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#6b7280"}};function OX({onTaskClick:e}){const{state:t}=Xe(),[r,n]=m.useState(new Date),[i,a]=m.useState("month"),s=m.useMemo(()=>t.tasks.filter(f=>f.due_date&&!f.deleted_at),[t.tasks]),l=m.useMemo(()=>{const f=r.getFullYear(),p=r.getMonth(),g=new Date(f,p,1),w=new Date(f,p+1,0),y=[],_=g.getDay();for(let k=_-1;k>=0;k--){const x=new Date(f,p,-k),C=x.toISOString().split("T")[0],S=s.filter(j=>{var N;return((N=j.due_date)==null?void 0:N.split("T")[0])===C});y.push({date:x,isCurrentMonth:!1,tasks:S})}for(let k=1;k<=w.getDate();k++){const x=new Date(f,p,k),C=x.toISOString().split("T")[0],S=s.filter(j=>{var N;return((N=j.due_date)==null?void 0:N.split("T")[0])===C});y.push({date:x,isCurrentMonth:!0,tasks:S})}const b=42-y.length;for(let k=1;k<=b;k++){const x=new Date(f,p+1,k),C=x.toISOString().split("T")[0],S=s.filter(j=>{var N;return((N=j.due_date)==null?void 0:N.split("T")[0])===C});y.push({date:x,isCurrentMonth:!1,tasks:S})}return y},[r,s]),c=f=>{n(p=>{const g=new Date(p);return g.setMonth(g.getMonth()+f),g})},u=()=>{n(new Date)},d=f=>{const p=new Date;return f.toDateString()===p.toDateString()},h=f=>{if(!f)return!1;const p=new Date;return p.setHours(0,0,0,0),new Date(f)<p};return t.columns.map(f=>({id:f.id,title:f.title,color:f.color})),o.jsxs("div",{className:We.container,children:[o.jsxs("div",{className:We.header,children:[o.jsxs("div",{className:We.navigation,children:[o.jsx("button",{className:We.navBtn,onClick:()=>c(-1),children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M15 18l-6-6 6-6"})})}),o.jsxs("h2",{className:We.currentMonth,children:[PX[r.getMonth()]," ",r.getFullYear()]}),o.jsx("button",{className:We.navBtn,onClick:()=>c(1),children:o.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M9 18l6-6-6-6"})})})]}),o.jsxs("div",{className:We.headerActions,children:[o.jsx("button",{className:We.todayBtn,onClick:u,children:"Today"}),o.jsxs("div",{className:We.viewToggle,children:[o.jsx("button",{className:`${We.toggleBtn} ${i==="month"?We.active:""}`,onClick:()=>a("month"),children:"Month"}),o.jsx("button",{className:`${We.toggleBtn} ${i==="week"?We.active:""}`,onClick:()=>a("week"),children:"Week"})]})]})]}),o.jsx("div",{className:We.dayHeaders,children:EX.map(f=>o.jsx("div",{className:We.dayHeader,children:f},f))}),o.jsx("div",{className:We.calendarGrid,children:l.map((f,p)=>o.jsxs("div",{className:`${We.calendarDay} ${f.isCurrentMonth?"":We.otherMonth} ${d(f.date)?We.today:""}`,children:[o.jsx("div",{className:We.dayNumber,children:f.date.getDate()}),o.jsxs("div",{className:We.taskList,children:[f.tasks.slice(0,3).map(g=>o.jsx("div",{className:`${We.taskItem} ${h(g.due_date)?We.overdue:""}`,style:{borderLeftColor:AX(g.priority)},onClick:()=>e(g.id),children:o.jsx("span",{className:We.taskTitle,children:g.title})},g.id)),f.tasks.length>3&&o.jsxs("div",{className:We.moreTasks,children:["+",f.tasks.length-3," more"]})]})]},p))}),o.jsxs("div",{className:We.legend,children:[o.jsxs("div",{className:We.legendItem,children:[o.jsx("span",{className:We.legendDot,style:{backgroundColor:"#ef4444"}}),"High Priority"]}),o.jsxs("div",{className:We.legendItem,children:[o.jsx("span",{className:We.legendDot,style:{backgroundColor:"#f59e0b"}}),"Medium Priority"]}),o.jsxs("div",{className:We.legendItem,children:[o.jsx("span",{className:We.legendDot,style:{backgroundColor:"#22c55e"}}),"Low Priority"]})]})]})}const IX="_container_1l5d7_1",DX="_header_1l5d7_6",LX="_title_1l5d7_13",$X="_groupByToggle_1l5d7_20",RX="_groupBtn_1l5d7_31",MX="_active_1l5d7_46",BX="_swimlanesContainer_1l5d7_52",FX="_headerRow_1l5d7_59",zX="_swimlaneHeader_1l5d7_65",UX="_columnHeader_1l5d7_73",WX="_columnTitle_1l5d7_87",HX="_columnCount_1l5d7_93",qX="_swimlaneRow_1l5d7_101",VX="_swimlaneLabel_1l5d7_110",KX="_swimlaneName_1l5d7_122",GX="_swimlaneCount_1l5d7_128",YX="_cell_1l5d7_134",XX="_cellTasks_1l5d7_147",JX="_taskWrapper_1l5d7_153",QX="_emptyCell_1l5d7_162",gt={container:IX,header:DX,title:LX,groupByToggle:$X,groupBtn:RX,active:MX,swimlanesContainer:BX,headerRow:FX,swimlaneHeader:zX,columnHeader:UX,columnTitle:WX,columnCount:HX,swimlaneRow:qX,swimlaneLabel:VX,swimlaneName:KX,swimlaneCount:GX,cell:YX,cellTasks:XX,taskWrapper:JX,emptyCell:QX},ZX=["high","medium","low"],eJ={high:"High Priority",medium:"Medium Priority",low:"Low Priority"},tJ={high:"#ef4444",medium:"#f59e0b",low:"#22c55e"};function rJ({onTaskClick:e,onAddTask:t}){const{state:r}=Xe(),[n,i]=m.useState("priority"),a=m.useMemo(()=>{const c=["to do","in progress","review","done","doing"];return r.columns.filter(u=>c.includes(u.title.toLowerCase())).sort((u,d)=>(u.position||0)-(d.position||0))},[r.columns]),s=m.useMemo(()=>{const c=r.tasks.filter(u=>!u.deleted_at&&!u.is_archived);if(n==="priority")return ZX.map(u=>({id:u,label:eJ[u],color:tJ[u],tasks:c.filter(d=>d.priority===u)}));if(n==="project"){const u=new Map;return u.set(null,{id:"none",label:"No Project",color:"#6b7280",tasks:[]}),c.forEach(d=>{var p,g;const h=d.project_id,f=((p=d.projects)==null?void 0:p.name)||"Unknown Project";u.has(h)||u.set(h,{id:h||"none",label:f,color:((g=d.projects)==null?void 0:g.color)||"#3b82f6",tasks:[]}),u.get(h).tasks.push(d)}),Array.from(u.values()).filter(d=>d.tasks.length>0)}if(n==="assignee"){const u=new Map;return u.set("unassigned",{id:"unassigned",label:"Unassigned",color:"#6b7280",tasks:[]}),c.forEach(d=>{const h=d.task_assignees||[];h.length===0?u.get("unassigned").tasks.push(d):h.forEach(f=>{var g,w,y;const p=f.user_id;u.has(p)||u.set(p,{id:p,label:((g=f.profiles)==null?void 0:g.full_name)||((y=(w=f.profiles)==null?void 0:w.email)==null?void 0:y.split("@")[0])||"Unknown",color:"#8b5cf6",tasks:[]}),u.get(p).tasks.push(d)})}),Array.from(u.values()).filter(d=>d.tasks.length>0)}return[]},[r.tasks,n]),l=(c,u)=>c.tasks.filter(d=>d.column_id===u.id);return o.jsxs("div",{className:gt.container,children:[o.jsxs("div",{className:gt.header,children:[o.jsx("h3",{className:gt.title,children:"Swimlanes View"}),o.jsxs("div",{className:gt.groupByToggle,children:[o.jsx("span",{children:"Group by:"}),o.jsx("button",{className:`${gt.groupBtn} ${n==="priority"?gt.active:""}`,onClick:()=>i("priority"),children:"Priority"}),o.jsx("button",{className:`${gt.groupBtn} ${n==="project"?gt.active:""}`,onClick:()=>i("project"),children:"Project"}),o.jsx("button",{className:`${gt.groupBtn} ${n==="assignee"?gt.active:""}`,onClick:()=>i("assignee"),children:"Assignee"})]})]}),o.jsxs("div",{className:gt.swimlanesContainer,children:[o.jsxs("div",{className:gt.headerRow,children:[o.jsx("div",{className:gt.swimlaneHeader}),a.map(c=>o.jsxs("div",{className:gt.columnHeader,children:[o.jsx("span",{className:gt.columnTitle,children:c.title}),o.jsx("span",{className:gt.columnCount,children:r.tasks.filter(u=>u.column_id===c.id&&!u.deleted_at).length})]},c.id))]}),s.map(c=>o.jsxs("div",{className:gt.swimlaneRow,children:[o.jsxs("div",{className:gt.swimlaneLabel,style:{borderLeftColor:c.color},children:[o.jsx("span",{className:gt.swimlaneName,children:c.label}),o.jsx("span",{className:gt.swimlaneCount,children:c.tasks.length})]}),a.map(u=>{const d=l(c,u);return o.jsxs("div",{className:gt.cell,children:[o.jsx("div",{className:gt.cellTasks,children:d.map(h=>o.jsx("div",{className:gt.taskWrapper,onClick:()=>e(h.id),children:o.jsx(jw,{task:h})},h.id))}),d.length===0&&o.jsx("div",{className:gt.emptyCell,children:o.jsx("span",{children:"No tasks"})})]},u.id)})]},c.id))]})]})}function Gk(){const{state:e,moveTask:t,openModal:r,closeDetailPanel:n,openDetailPanel:i,deleteTask:a,toggleShortcutsModal:s,toggleStatsPanel:l,setSearchQuery:c,setViewMode:u,clearSelectedTasks:d,bulkDeleteTasks:h,bulkMoveTasks:f,bulkUpdatePriority:p,undo:g,redo:w}=Xe(),{user:y}=Ye(),{toggleTheme:_}=Fu(),[b,k]=m.useState(null),[x,C]=m.useState([]),[S,j]=m.useState(null),[N,T]=m.useState(!1);console.log("[Board] Rendering with columns:",e.columns.length,"tasks:",e.tasks.length,"loading:",e.loading);const P=c9(l9(bw,{activationConstraint:{distance:8}})),I=m.useCallback(O=>{k(O.active.id)},[]),E=m.useCallback(O=>{const{active:$,over:Z}=O;if(k(null),!Z)return;const X=$.id,ce=Z.id,le=e.tasks.find(Se=>Se.id===X);if(!le)return;if(!(le.user_id===(y==null?void 0:y.id))){console.log("[Board] Move denied - user is not the task owner");return}const G=e.columns.find(Se=>Se.id===ce);if(!G)return;if(G.wip_limit){const Se=e.tasks.filter(ue=>ue.column_id===G.id&&!ue.is_archived);if(le.column_id!==G.id&&Se.length>=G.wip_limit){console.log("[Board] Move denied - WIP limit reached");return}}const V=e.tasks.filter(Se=>Se.column_id===G.id).length;t(X,G.id,V)},[e.columns,e.tasks,t,y==null?void 0:y.id]),B=["to do","in progress","review","done","doing"],K=e.columns.filter(O=>B.includes(O.title.toLowerCase())).sort((O,$)=>(O.position||0)-($.position||0));m.useEffect(()=>{const O=$=>{if($.target instanceof HTMLInputElement||$.target instanceof HTMLTextAreaElement||$.target instanceof HTMLSelectElement)return;const Z=$.key.toLowerCase();switch(Z){case"n":$.preventDefault(),r();break;case"escape":n(),d();break;case"s":$.preventDefault(),l();break;case"t":$.preventDefault(),_();break;case"?":$.preventDefault(),s();break;case"delete":case"backspace":e.selectedTaskId&&($.preventDefault(),a(e.selectedTaskId));break;case"z":($.ctrlKey||$.metaKey)&&($.preventDefault(),$.shiftKey?w():g());break;case"y":($.ctrlKey||$.metaKey)&&($.preventDefault(),w());break;case"v":$.preventDefault();const X=["board","list","swimlanes","calendar"],ce=X.indexOf(e.viewMode),le=X[(ce+1)%X.length];u(le);break;case"/":case"f":$.preventDefault();const L=document.querySelector(`.${ee.searchBox} input`);L==null||L.focus();break;case"e":case"enter":e.selectedTaskId&&($.preventDefault(),i(e.selectedTaskId));break;case"1":case"2":case"3":case"4":case"5":if(e.selectedTaskId){$.preventDefault();const G=parseInt(Z)-1,de=K[G];if(de){const V=e.tasks.find(Se=>Se.id===e.selectedTaskId);if(V&&V.user_id===(y==null?void 0:y.id)){const Se=e.tasks.filter(ue=>ue.column_id===de.id);t(e.selectedTaskId,de.id,Se.length)}}}break}};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[r,n,a,l,s,_,e.selectedTaskId,g,w,e.tasks,e.viewMode,e.columns,y==null?void 0:y.id,t,u,d,i,K]);const R=O=>{const $={high:0,medium:1,low:2};return e.tasks.filter(Z=>{var L;const X=Z.column_id===O,ce=e.searchQuery?Z.title.toLowerCase().includes(e.searchQuery.toLowerCase())||(((L=Z.description)==null?void 0:L.toLowerCase().includes(e.searchQuery.toLowerCase()))??!1):!0,le=A(Z);return X&&ce&&le}).sort((Z,X)=>{const ce=$[Z.priority]-$[X.priority];return ce!==0?ce:Z.position-X.position})},te=()=>e.tasks.filter(O=>{var X;const $=e.searchQuery?O.title.toLowerCase().includes(e.searchQuery.toLowerCase())||(((X=O.description)==null?void 0:X.toLowerCase().includes(e.searchQuery.toLowerCase()))??!1):!0,Z=A(O);return $&&!O.is_archived&&Z}),A=O=>x.length===0?!0:x.every($=>{var Z,X;switch($.field){case"priority":return $.operator==="is"?O.priority===$.value:$.operator==="is_not"?O.priority!==$.value:!0;case"assignee":const ce=((Z=O.task_assignees)==null?void 0:Z.map(de=>de.user_id))||[];return $.operator==="is"?ce.includes($.value):$.operator==="is_not"?!ce.includes($.value):$.operator==="is_empty"?ce.length===0:!0;case"due_date":const le=new Date;le.setHours(0,0,0,0);const L=O.due_date?new Date(O.due_date):null;if($.operator==="is_empty")return!L;if($.operator==="is_overdue")return L&&L<le;if($.operator==="is_today"){if(!L)return!1;const de=le.toISOString().split("T")[0],V=L.toISOString().split("T")[0];return de===V}if($.operator==="is_this_week"){if(!L)return!1;const de=new Date(le);return de.setDate(de.getDate()+7),L>=le&&L<=de}return!0;case"label":const G=((X=O.tags)==null?void 0:X.map(de=>de.id))||[];return $.operator==="has"?G.includes($.value):$.operator==="does_not_have"?!G.includes($.value):!0;default:return!0}}),U=()=>{const O=new Map;return e.tasks.forEach($=>{var Z;(Z=$.task_assignees)==null||Z.forEach(X=>{var ce,le,L,G;O.has(X.user_id)||O.set(X.user_id,{id:X.user_id,name:((ce=X.profiles)==null?void 0:ce.full_name)||((L=(le=X.profiles)==null?void 0:le.email)==null?void 0:L.split("@")[0])||"Unknown",avatar_url:(G=X.profiles)==null?void 0:G.avatar_url})})}),Array.from(O.values())},z=()=>{const O=new Map;return e.tasks.forEach($=>{var Z;(Z=$.tags)==null||Z.forEach(X=>{O.has(X.id)||O.set(X.id,{id:X.id,name:X.name,color:"#6366f1"})})}),Array.from(O.values())},Q=b?e.tasks.find(O=>O.id===b):null,W=O=>{const $=e.columns.find(Z=>Z.id===O);return($==null?void 0:$.title)||"Unknown"},re=O=>{const $=e.columns.find(X=>X.id===O),Z=($==null?void 0:$.title.toLowerCase())||"";return Z==="to do"?"#4f46e5":Z==="in progress"||Z==="doing"?"#f59e0b":Z==="review"?"#06b6d4":Z==="done"?"#22c55e":Z==="archive"?"#6b7280":"#64748b"};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:ee.boardHeader,children:[o.jsxs("div",{className:ee.searchBox,children:[o.jsx(Bm,{}),o.jsx("input",{type:"text",placeholder:"Search tasks...",value:e.searchQuery,onChange:O=>c(O.target.value)}),e.searchQuery&&o.jsx("button",{onClick:()=>c(""),className:ee.clearSearch,children:""})]}),o.jsxs("div",{className:ee.headerRight,children:[o.jsx(gY,{onFiltersChange:C,priorities:["high","medium","low"],labels:z(),projects:[],assignees:U()}),o.jsxs("div",{className:ee.viewToggle,children:[o.jsx("button",{className:`${ee.viewBtn} ${e.viewMode==="board"?ee.active:""}`,onClick:()=>u("board"),title:"Board View",children:o.jsx(fw,{})}),o.jsx("button",{className:`${ee.viewBtn} ${e.viewMode==="list"?ee.active:""}`,onClick:()=>u("list"),title:"List View",children:o.jsx(Rm,{})}),o.jsx("button",{className:`${ee.viewBtn} ${e.viewMode==="swimlanes"?ee.active:""}`,onClick:()=>u("swimlanes"),title:"Swimlanes View",children:o.jsx(ml,{})}),o.jsx("button",{className:`${ee.viewBtn} ${e.viewMode==="calendar"?ee.active:""}`,onClick:()=>u("calendar"),title:"Calendar View",children:o.jsx(Ht,{})}),o.jsx("button",{className:`${ee.viewBtn} ${e.viewMode==="trash"?ee.active:""}`,onClick:()=>u("trash"),title:"Trash",children:o.jsx(rr,{})})]})]})]}),e.viewMode==="board"?o.jsxs(cW,{sensors:P,collisionDetection:p9,onDragStart:I,onDragEnd:E,children:[o.jsx("div",{className:ee.board,children:o.jsx("div",{className:ee.boardRow,children:K.map(O=>o.jsx(Wq,{column:O,tasks:R(O.id),onAddTask:()=>r(O.id),onOpenSettings:j},O.id))})}),o.jsx(NW,{children:Q&&o.jsx("div",{className:ee.dragOverlay,children:o.jsx(jw,{task:Q,isDragging:!0})})})]}):e.viewMode==="trash"?o.jsx(nX,{}):e.viewMode==="calendar"?o.jsx(OX,{onTaskClick:i}):e.viewMode==="swimlanes"?o.jsx(rJ,{onTaskClick:i,onAddTask:r}):o.jsx("div",{className:ee.listView,children:te().length===0?o.jsx("div",{className:ee.emptyList,children:o.jsx("p",{children:"No tasks found"})}):te().map(O=>o.jsxs("div",{className:ee.listItem,onClick:()=>i(O.id),children:[o.jsx("div",{className:ee.listItemStatus,style:{background:re(O.column_id)}}),o.jsxs("div",{className:ee.listItemContent,children:[o.jsxs("div",{className:ee.listItemHeader,children:[o.jsx("span",{className:`${ee.priorityBadge} ${ee[O.priority]}`,children:O.priority}),o.jsx("span",{className:ee.listItemColumn,style:{color:re(O.column_id)},children:W(O.column_id)})]}),o.jsx("h3",{className:ee.listItemTitle,children:O.title}),O.description&&o.jsx("p",{className:ee.listItemDesc,children:O.description})]})]},O.id))}),o.jsx(rY,{}),S&&o.jsx(DY,{column:S,onClose:()=>j(null)}),e.selectedTaskIds.length>0&&o.jsxs("div",{className:ee.bulkActionToolbar,children:[o.jsxs("span",{className:ee.bulkCount,children:[e.selectedTaskIds.length," selected"]}),o.jsxs("div",{className:ee.bulkActions,children:[o.jsxs("select",{className:ee.bulkBtn,onChange:O=>{O.target.value&&(f(O.target.value),O.target.value="")},defaultValue:"",children:[o.jsx("option",{value:"",disabled:!0,children:"Move to..."}),e.columns.map(O=>o.jsx("option",{value:O.id,children:O.title},O.id))]}),o.jsxs("button",{className:ee.bulkBtn,onClick:()=>p("high"),title:"Set High Priority",children:[o.jsx(es,{})," High"]}),o.jsxs("button",{className:ee.bulkBtn,onClick:()=>p("medium"),title:"Set Medium Priority",children:[o.jsx(es,{})," Medium"]}),o.jsxs("button",{className:ee.bulkBtn,onClick:()=>p("low"),title:"Set Low Priority",children:[o.jsx(es,{})," Low"]}),o.jsxs("button",{className:`${ee.bulkBtn} ${ee.danger}`,onClick:h,children:[o.jsx(rr,{})," Delete"]})]}),o.jsx("button",{className:ee.bulkClose,onClick:d,children:o.jsx(ft,{})})]})]})}const nJ="_statsPanel_1csjw_1",iJ="_active_1csjw_11",aJ="_statsHeader_1csjw_21",sJ="_closeStats_1csjw_38",oJ="_statsGrid_1csjw_53",lJ="_statCard_1csjw_60",cJ="_statIcon_1csjw_77",uJ="_todo_1csjw_87",dJ="_progress_1csjw_88",hJ="_review_1csjw_89",fJ="_done_1csjw_90",mJ="_statInfo_1csjw_92",pJ="_statNumber_1csjw_97",vJ="_statLabel_1csjw_104",gJ="_statsProgress_1csjw_110",yJ="_progressHeader_1csjw_114",_J="_progressBar_1csjw_123",wJ="_progressFill_1csjw_130",xJ="_statsChart_1csjw_138",bJ="_priorityBars_1csjw_145",kJ="_priorityBar_1csjw_145",jJ="_priorityLabel_1csjw_157",SJ="_high_1csjw_165",CJ="_medium_1csjw_166",NJ="_low_1csjw_167",TJ="_barContainer_1csjw_169",EJ="_bar_1csjw_169",PJ="_barCount_1csjw_188",ke={statsPanel:nJ,active:iJ,statsHeader:aJ,closeStats:sJ,statsGrid:oJ,statCard:lJ,statIcon:cJ,todo:uJ,progress:dJ,review:hJ,done:fJ,statInfo:mJ,statNumber:pJ,statLabel:vJ,statsProgress:gJ,progressHeader:yJ,progressBar:_J,progressFill:wJ,statsChart:xJ,priorityBars:bJ,priorityBar:kJ,priorityLabel:jJ,high:SJ,medium:CJ,low:NJ,barContainer:TJ,bar:EJ,barCount:PJ};function AJ(){const{state:e,toggleStatsPanel:t}=Xe(),r=m.useMemo(()=>{const n={todo:0,inprogress:0,review:0,done:0,archive:0},i={high:0,medium:0,low:0};e.columns.forEach(c=>{const u=c.title.toLowerCase().replace(" ","");n[u]=e.tasks.filter(d=>d.column_id===c.id).length}),e.tasks.forEach(c=>{i[c.priority]++});const a=n.todo+n.inprogress+n.review+n.done,s=a>0?Math.round(n.done/a*100):0,l=Math.max(i.high,i.medium,i.low,1);return{...n,priorities:i,total:a,progress:s,maxP:l}},[e.columns,e.tasks]);return e.isStatsPanelOpen?o.jsxs("div",{className:`${ke.statsPanel} ${e.isStatsPanelOpen?ke.active:""}`,children:[o.jsxs("div",{className:ke.statsHeader,children:[o.jsxs("h3",{children:[o.jsx(LF,{}),"Statistics"]}),o.jsx("button",{className:ke.closeStats,onClick:t,children:o.jsx(ft,{})})]}),o.jsxs("div",{className:ke.statsGrid,children:[o.jsxs("div",{className:ke.statCard,children:[o.jsx("div",{className:`${ke.statIcon} ${ke.todo}`,children:o.jsx(hw,{})}),o.jsxs("div",{className:ke.statInfo,children:[o.jsx("span",{className:ke.statNumber,children:r.todo}),o.jsx("span",{className:ke.statLabel,children:"To Do"})]})]}),o.jsxs("div",{className:ke.statCard,children:[o.jsx("div",{className:`${ke.statIcon} ${ke.progress}`,children:o.jsx(Qs,{})}),o.jsxs("div",{className:ke.statInfo,children:[o.jsx("span",{className:ke.statNumber,children:r.inprogress}),o.jsx("span",{className:ke.statLabel,children:"In Progress"})]})]}),o.jsxs("div",{className:ke.statCard,children:[o.jsx("div",{className:`${ke.statIcon} ${ke.review}`,children:o.jsx(fl,{})}),o.jsxs("div",{className:ke.statInfo,children:[o.jsx("span",{className:ke.statNumber,children:r.review}),o.jsx("span",{className:ke.statLabel,children:"Review"})]})]}),o.jsxs("div",{className:ke.statCard,children:[o.jsx("div",{className:`${ke.statIcon} ${ke.done}`,children:o.jsx(Fi,{})}),o.jsxs("div",{className:ke.statInfo,children:[o.jsx("span",{className:ke.statNumber,children:r.done}),o.jsx("span",{className:ke.statLabel,children:"Done"})]})]})]}),o.jsxs("div",{className:ke.statsProgress,children:[o.jsxs("div",{className:ke.progressHeader,children:[o.jsx("span",{children:"Overall Progress"}),o.jsxs("span",{children:[r.progress,"%"]})]}),o.jsx("div",{className:ke.progressBar,children:o.jsx("div",{className:ke.progressFill,style:{width:`${r.progress}%`}})})]}),o.jsxs("div",{className:ke.statsChart,children:[o.jsx("h4",{children:"Tasks by Priority"}),o.jsxs("div",{className:ke.priorityBars,children:[o.jsxs("div",{className:ke.priorityBar,children:[o.jsx("span",{className:`${ke.priorityLabel} ${ke.high}`,children:"High"}),o.jsx("div",{className:ke.barContainer,children:o.jsx("div",{className:`${ke.bar} ${ke.high}`,style:{width:`${r.priorities.high/r.maxP*100}%`}})}),o.jsx("span",{className:ke.barCount,children:r.priorities.high})]}),o.jsxs("div",{className:ke.priorityBar,children:[o.jsx("span",{className:`${ke.priorityLabel} ${ke.medium}`,children:"Medium"}),o.jsx("div",{className:ke.barContainer,children:o.jsx("div",{className:`${ke.bar} ${ke.medium}`,style:{width:`${r.priorities.medium/r.maxP*100}%`}})}),o.jsx("span",{className:ke.barCount,children:r.priorities.medium})]}),o.jsxs("div",{className:ke.priorityBar,children:[o.jsx("span",{className:`${ke.priorityLabel} ${ke.low}`,children:"Low"}),o.jsx("div",{className:ke.barContainer,children:o.jsx("div",{className:`${ke.bar} ${ke.low}`,style:{width:`${r.priorities.low/r.maxP*100}%`}})}),o.jsx("span",{className:ke.barCount,children:r.priorities.low})]})]})]})]}):null}const OJ="_modalOverlay_12wk6_2",IJ="_active_12wk6_17",DJ="_modal_12wk6_2",LJ="_modalHeader_12wk6_41",$J="_modalClose_12wk6_65",RJ="_modalBody_12wk6_89",MJ="_formRow_12wk6_96",BJ="_formGroup_12wk6_102",FJ="_flex2_12wk6_107",zJ="_tagsInputContainer_12wk6_177",UJ="_tagsList_12wk6_195",WJ="_tagItem_12wk6_201",HJ="_tagInput_12wk6_229",qJ="_subtasksContainer_12wk6_241",VJ="_subtasksList_12wk6_247",KJ="_subtaskItem_12wk6_252",GJ="_completed_12wk6_284",YJ="_addSubtask_12wk6_314",XJ="_modalFooter_12wk6_357",JJ="_shortcutsBody_12wk6_367",QJ="_shortcutItem_12wk6_373",ZJ="_shortcutCategory_12wk6_399",eQ="_categoryTitle_12wk6_407",tQ="_shortcutsHint_12wk6_417",rQ="_uploadBtn_12wk6_718",nQ="_labelsContainer_12wk6_774",iQ="_labelsList_12wk6_782",aQ="_labelBtn_12wk6_788",sQ="_selected_12wk6_803",oQ="_noLabels_12wk6_807",lQ="_assigneesContainer_12wk6_814",cQ="_assigneesList_12wk6_818",uQ="_assigneeBtn_12wk6_824",dQ="_hint_12wk6_848",hQ="_templateSection_12wk6_857",fQ="_templateDropdown_12wk6_863",mQ="_templateBtn_12wk6_867",pQ="_rotated_12wk6_892",vQ="_templateList_12wk6_896",gQ="_templateItem_12wk6_910",yQ="_templateInfo_12wk6_932",_Q="_templateName_12wk6_938",wQ="_templateDesc_12wk6_944",xQ="_attachmentsContainer_12wk6_953",bQ="_pendingAttachments_12wk6_959",kQ="_pendingAttachment_12wk6_959",jQ="_fileIcon_12wk6_984",SQ="_fileInfo_12wk6_1001",CQ="_fileName_12wk6_1009",NQ="_fileSize_12wk6_1018",TQ="_removeFile_12wk6_1023",EQ="_customFieldsSection_12wk6_1068",PQ="_sectionLabel_12wk6_1074",AQ="_customFieldsGrid_12wk6_1084",OQ="_customField_12wk6_1068",IQ="_customFieldLabel_12wk6_1102",DQ="_required_12wk6_1108",LQ="_multiselectOptions_12wk6_1135",$Q="_checkboxOption_12wk6_1141",RQ="_checkboxLabel_12wk6_1165",MQ="_coverPreview_12wk6_1181",oe={modalOverlay:OJ,active:IJ,modal:DJ,modalHeader:LJ,modalClose:$J,modalBody:RJ,formRow:MJ,formGroup:BJ,flex2:FJ,tagsInputContainer:zJ,tagsList:UJ,tagItem:WJ,tagInput:HJ,subtasksContainer:qJ,subtasksList:VJ,subtaskItem:KJ,completed:GJ,addSubtask:YJ,modalFooter:XJ,shortcutsBody:JJ,shortcutItem:QJ,shortcutCategory:ZJ,categoryTitle:eQ,shortcutsHint:tQ,uploadBtn:rQ,labelsContainer:nQ,labelsList:iQ,labelBtn:aQ,selected:sQ,noLabels:oQ,assigneesContainer:lQ,assigneesList:cQ,assigneeBtn:uQ,hint:dQ,templateSection:hQ,templateDropdown:fQ,templateBtn:mQ,rotated:pQ,templateList:vQ,templateItem:gQ,templateInfo:yQ,templateName:_Q,templateDesc:wQ,attachmentsContainer:xQ,pendingAttachments:bQ,pendingAttachment:kQ,fileIcon:jQ,fileInfo:SQ,fileName:CQ,fileSize:NQ,removeFile:TQ,customFieldsSection:EQ,sectionLabel:PQ,customFieldsGrid:AQ,customField:OQ,customFieldLabel:IQ,required:DQ,multiselectOptions:LQ,checkboxOption:$Q,checkboxLabel:RQ,coverPreview:MQ};function BQ(){var hn;const{state:e,closeModal:t,saveTask:r}=Xe(),{user:n}=Ye(),[i,a]=m.useState(""),[s,l]=m.useState(""),[c,u]=m.useState("medium"),[d,h]=m.useState(""),[f,p]=m.useState([]),[g,w]=m.useState(""),[y,_]=m.useState([]),[b,k]=m.useState(""),[x,C]=m.useState(null),[S,j]=m.useState([]),[N,T]=m.useState([]),[P,I]=m.useState([]),[E,B]=m.useState([]),[K,R]=m.useState([]),[te,A]=m.useState(!1),[U,z]=m.useState([]),[Q,W]=m.useState(!1),[re,O]=m.useState([]),[$,Z]=m.useState(""),[X,ce]=m.useState([]),[le,L]=m.useState({}),[G,de]=m.useState(""),V=m.useRef(null),Se=m.useRef(null),ue=!!e.editingTask;m.useEffect(()=>{(async()=>{var Pe,Vn,Kr;if(!n)return;console.log("[TaskModal] Loading data for user:",n.id);const[_e,Ie,pt]=await Promise.all([Lm(n.id),Z0(n.id),cw(n.id)]);if(console.log("[TaskModal] Projects:",((Pe=_e.data)==null?void 0:Pe.length)||0),console.log("[TaskModal] Labels:",((Vn=Ie.data)==null?void 0:Vn.length)||0),_e.data&&I(_e.data),Ie.data&&B(Ie.data),pt.data&&z(pt.data),(Kr=e.board)!=null&&Kr.id){const{data:yi}=await M.from("custom_fields").select("*").eq("board_id",e.board.id).order("position",{ascending:!0});yi&&(ce(yi),console.log("[TaskModal] Custom fields loaded:",yi.length))}})()},[n,e.isModalOpen,(hn=e.board)==null?void 0:hn.id]),m.useEffect(()=>{(async()=>{if(!x){R([]),j([]);return}A(!0),console.log("[TaskModal] Loading members for project:",x);const{data:_e,error:Ie}=await lP(x);Ie?(console.error("[TaskModal] Error loading project members:",Ie),R([])):(console.log("[TaskModal] Project members loaded:",(_e==null?void 0:_e.length)||0),R(_e||[])),A(!1)})()},[x]);const he=H=>{C(H||null),j([])};m.useEffect(()=>{var H,_e,Ie,pt;e.editingTask?(a(e.editingTask.title),l(e.editingTask.description||""),u(e.editingTask.priority),h(e.editingTask.due_date||""),p(((H=e.editingTask.tags)==null?void 0:H.map(Pe=>Pe.name))||[]),_(((_e=e.editingTask.subtasks)==null?void 0:_e.map(Pe=>({id:Pe.id,title:Pe.title,is_completed:Pe.is_completed})))||[]),C(e.editingTask.project_id||null),j(((Ie=e.editingTask.task_assignees)==null?void 0:Ie.map(Pe=>Pe.user_id))||[]),T(((pt=e.editingTask.task_labels)==null?void 0:pt.map(Pe=>Pe.label_id))||[]),de(e.editingTask.cover_image_url||"")):Oe()},[e.editingTask,e.isModalOpen]),m.useEffect(()=>{e.isModalOpen&&Se.current&&setTimeout(()=>{var H;return(H=Se.current)==null?void 0:H.focus()},100)},[e.isModalOpen]);const Oe=()=>{a(""),l(""),u("medium"),h(""),p([]),w(""),_([]),k(""),C(null),j([]),T([]),O([]),Z(""),W(!1),L({}),de("")},Ge=H=>{const _e=H.target.files;if(!_e)return;const Ie=[];for(let pt=0;pt<_e.length;pt++){const Pe=_e[pt];if(Pe.size>10*1024*1024)continue;const Vn={file:Pe};if(Pe.type.startsWith("image/")){const Kr=new FileReader;Kr.onloadend=()=>{Vn.preview=Kr.result},Kr.readAsDataURL(Pe)}Ie.push(Vn)}O([...re,...Ie]),V.current&&(V.current.value="")},mt=H=>{O(re.filter((_e,Ie)=>Ie!==H))},Pt=H=>H<1024?H+" B":H<1024*1024?(H/1024).toFixed(1)+" KB":(H/(1024*1024)).toFixed(1)+" MB",Gt=async H=>{if(H.preventDefault(),!i.trim())return;const _e=await r({title:i.trim(),description:s.trim()||null,priority:c,due_date:d||null},f,y.map(Ie=>({id:Ie.id,title:Ie.title,is_completed:Ie.is_completed})),N,x,S);if(_e&&re.length>0&&n)for(const Ie of re)await $c(_e,n.id,Ie.file);if(_e&&$&&d){const Ie=HA(d,$);VA(_e,i.trim(),Ie)}if(_e&&Object.keys(le).length>0)for(const[Ie,pt]of Object.entries(le))pt!==void 0&&pt!==""&&pt!==null&&await M.from("custom_field_values").insert({task_id:_e,field_id:Ie,value:{value:pt}});_e&&G&&await M.from("tasks").update({cover_image_url:G}).eq("id",_e),Oe()},Nn=()=>{t(),Oe()},un=H=>{if(H.key==="Enter"){H.preventDefault();const _e=g.trim().toLowerCase();_e&&!f.includes(_e)&&p([...f,_e]),w("")}},J=H=>{p(f.filter((_e,Ie)=>Ie!==H))},Ea=H=>{H.key==="Enter"&&(H.preventDefault(),dn())},dn=()=>{const H=b.trim();H&&(_([...y,{title:H,is_completed:!1}]),k(""))},Vl=H=>{_(y.map((_e,Ie)=>Ie===H?{..._e,is_completed:!_e.is_completed}:_e))},pi=H=>{_(y.filter((_e,Ie)=>Ie!==H))},vi=H=>{H.title_template&&a(H.title_template),H.description_template&&l(H.description_template),u(H.priority),H.default_tags&&H.default_tags.length>0&&p(H.default_tags),H.subtask_templates&&Array.isArray(H.subtask_templates)&&_(H.subtask_templates.map((_e,Ie)=>({title:_e.title,is_completed:!1}))),W(!1)},gi=H=>{N.includes(H)?T(N.filter(_e=>_e!==H)):T([...N,H])},po=H=>{var Ie,pt;const _e=le[H.id];switch(H.field_type){case"text":return o.jsx("input",{type:"text",value:_e||"",onChange:Pe=>L({...le,[H.id]:Pe.target.value}),placeholder:`Enter ${H.name.toLowerCase()}...`});case"number":return o.jsx("input",{type:"number",value:_e||"",onChange:Pe=>L({...le,[H.id]:Pe.target.value}),placeholder:"0"});case"date":return o.jsx("input",{type:"date",value:_e||"",onChange:Pe=>L({...le,[H.id]:Pe.target.value})});case"select":return o.jsxs("select",{value:_e||"",onChange:Pe=>L({...le,[H.id]:Pe.target.value}),children:[o.jsx("option",{value:"",children:"Select..."}),(Ie=H.options)==null?void 0:Ie.map(Pe=>o.jsx("option",{value:Pe.value,children:Pe.label},Pe.value))]});case"multiselect":return o.jsx("div",{className:oe.multiselectOptions,children:(pt=H.options)==null?void 0:pt.map(Pe=>o.jsxs("label",{className:oe.checkboxOption,children:[o.jsx("input",{type:"checkbox",checked:(_e||[]).includes(Pe.value),onChange:Vn=>{const Kr=_e||[];Vn.target.checked?L({...le,[H.id]:[...Kr,Pe.value]}):L({...le,[H.id]:Kr.filter(yi=>yi!==Pe.value)})}}),Pe.label]},Pe.value))});case"checkbox":return o.jsxs("label",{className:oe.checkboxLabel,children:[o.jsx("input",{type:"checkbox",checked:_e||!1,onChange:Pe=>L({...le,[H.id]:Pe.target.checked})}),"Yes"]});case"url":return o.jsx("input",{type:"url",value:_e||"",onChange:Pe=>L({...le,[H.id]:Pe.target.value}),placeholder:"https://..."});default:return null}};return e.isModalOpen?o.jsx("div",{className:`${oe.modalOverlay} ${e.isModalOpen?oe.active:""}`,children:o.jsxs("div",{className:oe.modal,children:[o.jsxs("div",{className:oe.modalHeader,children:[o.jsxs("h3",{children:[ue?o.jsx(ua,{}):o.jsx(ht,{}),ue?" Edit Task":" Add New Task"]}),o.jsx("button",{className:oe.modalClose,onClick:Nn,children:o.jsx(ft,{})})]}),!ue&&U.length>0&&o.jsx("div",{className:oe.templateSection,children:o.jsxs("div",{className:oe.templateDropdown,children:[o.jsxs("button",{type:"button",className:oe.templateBtn,onClick:()=>W(!Q),children:[o.jsx(Ei,{}),o.jsx("span",{children:"Use Template"}),o.jsx(nA,{className:Q?oe.rotated:""})]}),Q&&o.jsx("div",{className:oe.templateList,children:U.map(H=>o.jsxs("button",{type:"button",className:oe.templateItem,onClick:()=>vi(H),children:[o.jsx(Ei,{}),o.jsxs("div",{className:oe.templateInfo,children:[o.jsx("span",{className:oe.templateName,children:H.name}),H.description&&o.jsx("span",{className:oe.templateDesc,children:H.description})]})]},H.id))})]})}),o.jsxs("form",{onSubmit:Gt,children:[o.jsxs("div",{className:oe.modalBody,children:[o.jsxs("div",{className:oe.formRow,children:[o.jsxs("div",{className:`${oe.formGroup} ${oe.flex2}`,children:[o.jsxs("label",{children:[o.jsx(zF,{}),"Task Title"]}),o.jsx("input",{ref:Se,type:"text",value:i,onChange:H=>a(H.target.value),placeholder:"Enter task title...",required:!0})]}),o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(es,{}),"Priority"]}),o.jsxs("select",{value:c,onChange:H=>u(H.target.value),children:[o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]})]}),o.jsx("div",{className:oe.formRow,children:o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(Iy,{}),"Cover Image URL"]}),o.jsx("input",{type:"url",value:G,onChange:H=>de(H.target.value),placeholder:"https://example.com/image.jpg"}),G&&o.jsx("div",{className:oe.coverPreview,children:o.jsx("img",{src:G,alt:"Cover preview",onError:H=>{H.target.style.display="none"}})})]})}),o.jsx("div",{className:oe.formRow,children:o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(Pi,{}),"Project"]}),o.jsxs("select",{value:x||"",onChange:H=>he(H.target.value),children:[o.jsx("option",{value:"",children:"No Project"}),P.map(H=>o.jsx("option",{value:H.id,children:H.name},H.id))]})]})}),x&&o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx($i,{}),"Assignees (",S.length," selected)"]}),o.jsx("div",{className:oe.assigneesContainer,children:te?o.jsx("span",{className:oe.hint,children:"Loading project members..."}):K.length===0?o.jsx("span",{className:oe.hint,children:"No members in this project yet. Invite members to the project first."}):o.jsx("div",{className:oe.assigneesList,children:K.map(H=>o.jsx("button",{type:"button",className:`${oe.assigneeBtn} ${S.includes(H.user_id)?oe.selected:""}`,onClick:()=>{S.includes(H.user_id)?j(S.filter(_e=>_e!==H.user_id)):j([...S,H.user_id])},children:H.full_name||H.email||"Unknown"},H.id))})})]}),o.jsx("div",{className:oe.formRow,children:o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(Ht,{}),"Due Date"]}),o.jsx("input",{type:"date",value:d,onChange:H=>h(H.target.value)})]})}),d&&o.jsx("div",{className:oe.formRow,children:o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(ta,{}),"Reminder"]}),o.jsxs("select",{value:$,onChange:H=>{Z(H.target.value),H.target.value&&!UA()&&WA()},children:[o.jsx("option",{value:"",children:"No reminder"}),qA().map(H=>o.jsx("option",{value:H.value,children:H.label},H.value))]})]})}),o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(rA,{}),"Labels"]}),o.jsx("div",{className:oe.labelsContainer,children:E.length===0?o.jsx("span",{className:oe.noLabels,children:"No labels yet. Create some in Labels page."}):o.jsx("div",{className:oe.labelsList,children:E.map(H=>o.jsx("button",{type:"button",className:`${oe.labelBtn} ${N.includes(H.id)?oe.selected:""}`,style:{background:N.includes(H.id)?H.color:`${H.color}20`,color:N.includes(H.id)?"white":H.color,borderColor:H.color},onClick:()=>gi(H.id),children:H.name},H.id))})})]}),o.jsx("div",{className:oe.formRow,children:o.jsxs("div",{className:`${oe.formGroup} ${oe.flex2}`,children:[o.jsxs("label",{children:[o.jsx(Ol,{}),"Tags"]}),o.jsxs("div",{className:oe.tagsInputContainer,children:[o.jsx("div",{className:oe.tagsList,children:f.map((H,_e)=>o.jsxs("span",{className:oe.tagItem,children:[H,o.jsx("button",{type:"button",onClick:()=>J(_e),children:""})]},_e))}),o.jsx("input",{type:"text",className:oe.tagInput,value:g,onChange:H=>w(H.target.value),onKeyDown:un,placeholder:"Add tag..."})]})]})}),o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(tA,{}),"Description"]}),o.jsx("textarea",{value:s,onChange:H=>l(H.target.value),placeholder:"Add more details...",rows:2})]}),o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(zu,{}),"Subtasks"]}),o.jsxs("div",{className:oe.subtasksContainer,children:[o.jsx("div",{className:oe.subtasksList,children:y.map((H,_e)=>o.jsxs("div",{className:`${oe.subtaskItem} ${H.is_completed?oe.completed:""}`,children:[o.jsx("input",{type:"checkbox",checked:H.is_completed,onChange:()=>Vl(_e)}),o.jsx("span",{children:H.title}),o.jsx("button",{type:"button",onClick:()=>pi(_e),children:o.jsx(ft,{})})]},_e))}),o.jsxs("div",{className:oe.addSubtask,children:[o.jsx("input",{type:"text",value:b,onChange:H=>k(H.target.value),onKeyDown:Ea,placeholder:"Add subtask..."}),o.jsx("button",{type:"button",onClick:dn,children:o.jsx(ht,{})})]})]})]}),o.jsxs("div",{className:oe.formGroup,children:[o.jsxs("label",{children:[o.jsx(Ni,{}),"Attachments"]}),o.jsx("input",{ref:V,type:"file",multiple:!0,onChange:Ge,style:{display:"none"},accept:".pdf,.doc,.docx,.xls,.xlsx,.zip,.rar,.7z,.txt,.jpg,.jpeg,.png,.gif,.svg"}),o.jsxs("div",{className:oe.attachmentsContainer,children:[re.length>0&&o.jsx("div",{className:oe.pendingAttachments,children:re.map((H,_e)=>o.jsxs("div",{className:oe.pendingAttachment,children:[H.preview?o.jsx("img",{src:H.preview,alt:H.file.name}):o.jsx("div",{className:oe.fileIcon,children:o.jsx(Ni,{})}),o.jsxs("div",{className:oe.fileInfo,children:[o.jsx("span",{className:oe.fileName,children:H.file.name}),o.jsx("span",{className:oe.fileSize,children:Pt(H.file.size)})]}),o.jsx("button",{type:"button",className:oe.removeFile,onClick:()=>mt(_e),children:o.jsx(ft,{})})]},_e))}),o.jsxs("button",{type:"button",className:oe.uploadBtn,onClick:()=>{var H;return(H=V.current)==null?void 0:H.click()},children:[o.jsx(ht,{})," Add Files"]})]})]}),X.length>0&&o.jsxs("div",{className:oe.customFieldsSection,children:[o.jsxs("label",{className:oe.sectionLabel,children:[o.jsx(Rm,{}),"Custom Fields"]}),o.jsx("div",{className:oe.customFieldsGrid,children:X.map(H=>o.jsxs("div",{className:oe.customField,children:[o.jsxs("label",{className:oe.customFieldLabel,children:[H.name,H.is_required&&o.jsx("span",{className:oe.required,children:"*"})]}),po(H)]},H.id))})]})]}),o.jsxs("div",{className:oe.modalFooter,children:[o.jsx(gl,{type:"button",variant:"secondary",onClick:Nn,children:"Cancel"}),o.jsxs(gl,{type:"submit",variant:"primary",children:[o.jsx(ht,{}),ue?"Save Changes":"Add Task"]})]})]})]})}):null}const FQ=[{category:"Tasks",shortcuts:[{key:"N",description:"Create new task"},{key:"E",description:"Edit selected task"},{key:"Enter",description:"Open task detail"},{key:"Del",description:"Delete selected task"},{key:"Backspace",description:"Delete selected task"},{key:"A",description:"Archive selected task"},{key:"Space",description:"Toggle task selection"}]},{category:"Navigation",shortcuts:[{key:"",description:"Navigate to previous task"},{key:"",description:"Navigate to next task"},{key:"/",description:"Focus search"},{key:"F",description:"Focus search"},{key:"Esc",description:"Close modal/panel"},{key:"V",description:"Toggle view (Board/List/Swimlanes/Calendar)"}]},{category:"Quick Move",shortcuts:[{key:"1",description:"Move task to first column"},{key:"2",description:"Move task to second column"},{key:"3",description:"Move task to third column"},{key:"4",description:"Move task to fourth column"},{key:"5",description:"Move task to fifth column"}]},{category:"Priority",shortcuts:[{key:"H",description:"Set high priority"},{key:"M",description:"Set medium priority"},{key:"L",description:"Set low priority"}]},{category:"View",shortcuts:[{key:"S",description:"Toggle statistics panel"},{key:"T",description:"Toggle dark mode"}]},{category:"History",shortcuts:[{key:"Ctrl+Z",description:"Undo last action"},{key:"Ctrl+Y",description:"Redo last undone action"},{key:"Ctrl+Shift+Z",description:"Redo last undone action"}]},{category:"Bulk Actions",shortcuts:[{key:"Ctrl+A",description:"Select all tasks"},{key:"Esc",description:"Clear selection"}]},{category:"Help",shortcuts:[{key:"?",description:"Show keyboard shortcuts"}]}];function zQ(){const{state:e,toggleShortcutsModal:t}=Xe(),r=()=>{t()},n=i=>{i.target===i.currentTarget&&r()};return e.isShortcutsModalOpen?o.jsx("div",{className:`${oe.modalOverlay} ${e.isShortcutsModalOpen?oe.active:""}`,onClick:n,children:o.jsxs("div",{className:`${oe.modal} ${oe.modalSmall}`,children:[o.jsxs("div",{className:oe.modalHeader,children:[o.jsxs("h3",{children:[o.jsx(jF,{}),"Keyboard Shortcuts"]}),o.jsx("button",{className:oe.modalClose,onClick:r,children:o.jsx(ft,{})})]}),o.jsx("div",{className:oe.modalBody,children:FQ.map((i,a)=>o.jsxs("div",{className:oe.shortcutCategory,children:[o.jsx("h4",{className:oe.categoryTitle,children:i.category}),o.jsx("div",{className:oe.shortcutsBody,children:i.shortcuts.map((s,l)=>o.jsxs("div",{className:oe.shortcutItem,children:[o.jsx("kbd",{children:s.key}),o.jsx("span",{children:s.description})]},l))})]},a))}),o.jsx("div",{className:oe.modalFooter,children:o.jsxs("p",{className:oe.shortcutsHint,children:["Press ",o.jsx("kbd",{children:"?"})," anytime to see this help"]})})]})}):null}const UQ="_toastContainer_1857r_2",WQ="_toast_1857r_2",HQ="_slideIn_1857r_1",qQ="_icon_1857r_29",VQ="_success_1857r_36",KQ="_error_1857r_39",GQ="_info_1857r_42",YQ="_warning_1857r_45",XQ="_hiding_1857r_60",JQ="_slideOut_1857r_1",Ls={toastContainer:UQ,toast:WQ,slideIn:HQ,icon:qQ,success:VQ,error:KQ,info:GQ,warning:YQ,hiding:XQ,slideOut:JQ},QQ={success:o.jsx(Fi,{className:Ls.icon}),error:o.jsx(UF,{className:Ls.icon}),info:o.jsx(lA,{className:Ls.icon}),warning:o.jsx(eA,{className:Ls.icon})};function GA(){const{toasts:e,removeToast:t}=vr();return o.jsx("div",{className:Ls.toastContainer,children:e.map(r=>o.jsxs("div",{className:`${Ls.toast} ${Ls[r.type]}`,onClick:()=>t(r.id),children:[QQ[r.type],o.jsx("span",{children:r.message})]},r.id))})}const ZQ="_container_znzyn_1",eZ="_card_znzyn_10",tZ="_loading_znzyn_19",rZ="_error_znzyn_20",nZ="_needLogin_znzyn_21",iZ="_spin_znzyn_34",aZ="_backBtn_znzyn_73",sZ="_loginBtn_znzyn_74",oZ="_header_znzyn_91",lZ="_projectIcon_znzyn_96",cZ="_projectName_znzyn_115",uZ="_details_znzyn_125",dZ="_detailItem_znzyn_132",hZ="_label_znzyn_143",fZ="_value_znzyn_148",mZ="_admin_znzyn_154",pZ="_member_znzyn_158",vZ="_viewer_znzyn_162",gZ="_actions_znzyn_166",yZ="_acceptBtn_znzyn_172",_Z="_declineBtn_znzyn_197",wZ="_processing_znzyn_224",Me={container:ZQ,card:eZ,loading:tZ,error:rZ,needLogin:nZ,spin:iZ,backBtn:aZ,loginBtn:sZ,header:oZ,projectIcon:lZ,projectName:cZ,details:uZ,detailItem:dZ,label:hZ,value:fZ,admin:mZ,member:pZ,viewer:vZ,actions:gZ,acceptBtn:yZ,declineBtn:_Z,processing:wZ};function xZ(){var y,_,b,k,x,C,S;const[e]=L4(),t=F0(),{user:r}=Ye(),{showToast:n}=vr(),[i,a]=m.useState(!0),[s,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(null),f=e.get("token");m.useEffect(()=>{p()},[f]);const p=async()=>{if(!f){h("Invalid invitation link"),a(!1);return}try{const{data:j,error:N}=await M.from("team_invitations").select("*").eq("invitation_token",f).eq("status","pending").single();if(N||!j){h("Invitation not found or already accepted"),a(!1);return}let T=null;if(j.project_id){const{data:P}=await M.from("projects").select("*").eq("id",j.project_id).single();T=P}u({...j,projects:T})}catch(j){console.error("Load invitation error:",j),h("Failed to load invitation")}a(!1)},g=async()=>{if(!r){n("Please login first","error"),t("/");return}if(c){l(!0),console.log("[InvitationAccept] Accepting invitation:",c);try{const{error:j}=await M.from("team_invitations").update({status:"accepted",responded_at:new Date().toISOString()}).eq("id",c.id);if(j)throw console.error("[InvitationAccept] Error updating invitation:",j),j;console.log("[InvitationAccept] Invitation status updated");const{error:N}=await M.from("team_members").insert({user_id:c.team_owner_id,name:c.name,email:c.email,role:c.role,auth_user_id:r.id,status:"online"});if(N?console.error("[InvitationAccept] Error creating team member:",N):console.log("[InvitationAccept] Team member created"),c.project_id){console.log("[InvitationAccept] Adding to project_members:",{project_id:c.project_id,user_id:r.id,role:c.role});const{error:T}=await M.from("project_members").insert({project_id:c.project_id,user_id:r.id,role:c.role,invited_by:c.team_owner_id});T?console.error("[InvitationAccept] Error adding to project_members:",T):console.log("[InvitationAccept] Added to project_members successfully")}n("Invitation accepted! Redirecting to project...","success"),c.project_id&&localStorage.setItem("selected_project_id",c.project_id),setTimeout(()=>{t("/")},1500)}catch(j){console.error("[InvitationAccept] Accept error:",j),n("Failed to accept invitation: "+(j.message||"Unknown error"),"error")}l(!1)}},w=async()=>{if(c){l(!0);try{await M.from("team_invitations").update({status:"declined",responded_at:new Date().toISOString()}).eq("id",c.id),n("Invitation declined","info"),t("/")}catch{n("Failed to decline invitation","error")}l(!1)}};return i?o.jsx("div",{className:Me.container,children:o.jsx("div",{className:Me.card,children:o.jsxs("div",{className:Me.loading,children:[o.jsx(Qs,{className:Me.spin}),o.jsx("span",{children:"Loading invitation..."})]})})}):d?o.jsx("div",{className:Me.container,children:o.jsx("div",{className:Me.card,children:o.jsxs("div",{className:Me.error,children:[o.jsx(ft,{}),o.jsx("h3",{children:"Oops!"}),o.jsx("p",{children:d}),o.jsx("button",{onClick:()=>t("/"),className:Me.backBtn,children:"Go to Dashboard"})]})})}):r?o.jsx("div",{className:Me.container,children:o.jsxs("div",{className:Me.card,children:[o.jsxs("div",{className:Me.header,children:[o.jsx("div",{className:Me.projectIcon,style:{backgroundColor:((_=c==null?void 0:c.projects)==null?void 0:_.color)||"#3b82f6"},children:((k=(b=c==null?void 0:c.projects)==null?void 0:b.name)==null?void 0:k.charAt(0))||"P"}),o.jsx("h2",{children:"You're Invited!"}),o.jsxs("p",{className:Me.projectName,children:["Join project: ",o.jsx("strong",{children:((x=c==null?void 0:c.projects)==null?void 0:x.name)||"Unknown Project"})]})]}),o.jsxs("div",{className:Me.details,children:[o.jsxs("div",{className:Me.detailItem,children:[o.jsx("span",{className:Me.label,children:"Invited by"}),o.jsx("span",{className:Me.value,children:(c==null?void 0:c.name)||"Team Owner"})]}),o.jsxs("div",{className:Me.detailItem,children:[o.jsx("span",{className:Me.label,children:"Email"}),o.jsx("span",{className:Me.value,children:c==null?void 0:c.email})]}),o.jsxs("div",{className:Me.detailItem,children:[o.jsx("span",{className:Me.label,children:"Role"}),o.jsx("span",{className:`${Me.value} ${Me[c==null?void 0:c.role]}`,children:((C=c==null?void 0:c.role)==null?void 0:C.charAt(0).toUpperCase())+((S=c==null?void 0:c.role)==null?void 0:S.slice(1))})]})]}),o.jsxs("div",{className:Me.actions,children:[o.jsxs("button",{className:Me.acceptBtn,onClick:g,disabled:s,children:[o.jsx(an,{})," Accept Invitation"]}),o.jsxs("button",{className:Me.declineBtn,onClick:w,disabled:s,children:[o.jsx(ft,{})," Decline"]})]}),s&&o.jsxs("div",{className:Me.processing,children:[o.jsx(Qs,{className:Me.spin}),o.jsx("span",{children:"Processing..."})]})]})}):o.jsx("div",{className:Me.container,children:o.jsx("div",{className:Me.card,children:o.jsxs("div",{className:Me.needLogin,children:[o.jsx(pl,{}),o.jsx("h3",{children:"Login Required"}),o.jsxs("p",{children:["Please login to accept this invitation to join ",o.jsx("strong",{children:((y=c==null?void 0:c.projects)==null?void 0:y.name)||"the project"})]}),o.jsx("button",{onClick:()=>t("/"),className:Me.loginBtn,children:"Go to Login"})]})})})}const bZ="_viewContainer_1heh8_2",kZ="_fadeIn_1heh8_1",jZ="_viewHeader_1heh8_21",SZ="_statsGrid_1heh8_43",CZ="_statCard_1heh8_50",NZ="_blue_1heh8_66",TZ="_green_1heh8_67",EZ="_yellow_1heh8_68",PZ="_red_1heh8_69",AZ="_purple_1heh8_70",OZ="_statIcon_1heh8_72",IZ="_statContent_1heh8_87",DZ="_statValue_1heh8_92",LZ="_statLabel_1heh8_98",$Z="_section_1heh8_104",RZ="_filterTabs_1heh8_116",MZ="_filterTab_1heh8_116",BZ="_active_1heh8_143",FZ="_primaryBtn_1heh8_155",zZ="_secondaryBtn_1heh8_181",UZ="_emptyState_1heh8_202",WZ="_emptyIcon_1heh8_218",HZ="_calendarContainer_1heh8_239",qZ="_calendarHeader_1heh8_244",VZ="_currentMonth_1heh8_251",KZ="_navBtn_1heh8_264",GZ="_todayBtn_1heh8_283",YZ="_calendarGrid_1heh8_300",XZ="_dayHeader_1heh8_309",JZ="_emptyDay_1heh8_318",QZ="_calendarDay_1heh8_323",ZZ="_today_1heh8_283",eee="_selected_1heh8_339",tee="_dayNumber_1heh8_343",ree="_taskDots_1heh8_360",nee="_taskDot_1heh8_360",iee="_high_1heh8_373",aee="_medium_1heh8_374",see="_low_1heh8_375",oee="_moreTasks_1heh8_377",lee="_selectedDatePanel_1heh8_382",cee="_selectedDateHeader_1heh8_389",uee="_calendarTaskCard_1heh8_404",dee="_priorityStripe_1heh8_420",hee="_projectsGrid_1heh8_431",fee="_projectCard_1heh8_437",mee="_projectHeader_1heh8_450",pee="_projectColor_1heh8_457",vee="_starBtn_1heh8_472",gee="_starred_1heh8_482",yee="_projectStats_1heh8_499",_ee="_projectFooter_1heh8_513",wee="_taskBadge_1heh8_519",xee="_moreBtn_1heh8_527",bee="_addProjectCard_1heh8_535",kee="_labelsGrid_1heh8_556",jee="_labelCard_1heh8_563",See="_labelColor_1heh8_573",Cee="_labelContent_1heh8_579",Nee="_labelName_1heh8_586",Tee="_labelCount_1heh8_591",Eee="_labelActions_1heh8_596",Pee="_actionBtn_1heh8_607",Aee="_danger_1heh8_626",Oee="_addLabelCard_1heh8_631",Iee="_editInput_1heh8_650",Dee="_teamList_1heh8_661",Lee="_teamCard_1heh8_668",$ee="_memberInfo_1heh8_683",Ree="_avatar_1heh8_690",Mee="_statusDot_1heh8_703",Bee="_online_1heh8_713",Fee="_offline_1heh8_714",zee="_away_1heh8_715",Uee="_memberDetails_1heh8_717",Wee="_memberName_1heh8_722",Hee="_adminIcon_1heh8_735",qee="_memberEmail_1heh8_741",Vee="_memberMeta_1heh8_749",Kee="_roleBadge_1heh8_755",Gee="_admin_1heh8_735",Yee="_member_1heh8_683",Xee="_viewer_1heh8_764",Jee="_teamStats_1heh8_766",Qee="_teamStat_1heh8_766",Zee="_reportsGrid_1heh8_781",ete="_reportCard_1heh8_787",tte="_timeRangeTabs_1heh8_801",rte="_rangeTab_1heh8_809",nte="_chart_1heh8_826",ite="_chartBar_1heh8_834",ate="_barContainer_1heh8_841",ste="_bar_1heh8_841",ote="_chartLabel_1heh8_855",lte="_chartLegend_1heh8_861",cte="_legendItem_1heh8_868",ute="_legendDot_1heh8_876",dte="_completed_1heh8_882",hte="_distributionList_1heh8_884",fte="_distributionItem_1heh8_890",mte="_distributionLabel_1heh8_896",pte="_distributionBar_1heh8_902",vte="_distributionValue_1heh8_916",gte="_priorityBreakdown_1heh8_923",yte="_priorityItem_1heh8_929",_te="_priorityDot_1heh8_936",wte="_priorityCount_1heh8_946",xte="_progressCircle_1heh8_952",bte="_progressBg_1heh8_962",kte="_progressFill_1heh8_966",jte="_progressText_1heh8_972",Ste="_progressNumber_1heh8_979",Cte="_progressLabel_1heh8_985",Nte="_headerActions_1heh8_991",Tte="_notificationsList_1heh8_996",Ete="_notificationItem_1heh8_1002",Pte="_unread_1heh8_1013",Ate="_notificationIcon_1heh8_1018",Ote="_notificationContent_1heh8_1033",Ite="_notificationTime_1heh8_1051",Dte="_notificationActions_1heh8_1056",Lte="_readBtn_1heh8_1061",$te="_deleteBtn_1heh8_1080",Rte="_settingsLayout_1heh8_1100",Mte="_settingsTabs_1heh8_1106",Bte="_settingsTab_1heh8_1106",Fte="_settingsSection_1heh8_1138",zte="_formGroup_1heh8_1152",Ute="_formHint_1heh8_1184",Wte="_toggleGroup_1heh8_1191",Hte="_subsectionTitle_1heh8_1197",qte="_permissionBanner_1heh8_1208",Vte="_permissionGranted_1heh8_1237",Kte="_testNotifBtn_1heh8_1254",Gte="_toggleItem_1heh8_1271",Yte="_toggle_1heh8_1191",Xte="_slider_1heh8_1307",Jte="_themeToggle_1heh8_1339",Qte="_privacyInfo_1heh8_1359",Zte="_privacyItem_1heh8_1366",ere="_dangerZone_1heh8_1397",tre="_dangerBtn_1heh8_1409",rre="_helpGrid_1heh8_1427",nre="_helpCard_1heh8_1434",ire="_helpIcon_1heh8_1452",are="_externalIcon_1heh8_1472",sre="_faqList_1heh8_1479",ore="_faqItem_1heh8_1485",lre="_faqQuestion_1heh8_1492",cre="_faqIcon_1heh8_1512",ure="_expanded_1heh8_1516",dre="_faqAnswer_1heh8_1520",hre="_contactGrid_1heh8_1527",fre="_contactCard_1heh8_1533",mre="_contactIcon_1heh8_1544",pre="_contactLink_1heh8_1567",vre="_versionInfo_1heh8_1572",gre="_starredGrid_1heh8_1580",yre="_starredCard_1heh8_1586",_re="_starButton_1heh8_1601",wre="_starredContent_1heh8_1613",xre="_starredMeta_1heh8_1630",bre="_priorityBadge_1heh8_1636",kre="_statusBadge_1heh8_1647",jre="_dueInfo_1heh8_1655",Sre="_archiveCount_1heh8_1664",Cre="_searchBox_1heh8_1672",Nre="_archiveList_1heh8_1696",Tre="_archiveItem_1heh8_1702",Ere="_archiveContent_1heh8_1713",Pre="_archiveMeta_1heh8_1730",Are="_archiveTags_1heh8_1738",Ore="_archiveTag_1heh8_1738",Ire="_archiveActions_1heh8_1749",Dre="_restoreBtn_1heh8_1754",Lre="_tasksContainer_1heh8_1775",$re="_taskGroup_1heh8_1781",Rre="_taskGroupHeader_1heh8_1788",Mre="_taskGroupList_1heh8_1813",Bre="_myTaskCard_1heh8_1819",Fre="_taskHeader_1heh8_1833",zre="_taskTitle_1heh8_1840",Ure="_priorityTag_1heh8_1846",Wre="_taskDesc_1heh8_1858",Hre="_taskMeta_1heh8_1864",qre="_dueDate_1heh8_1870",Vre="_taskTags_1heh8_1878",Kre="_tag_1heh8_1883",Gre="_progressGrid_1heh8_1892",Yre="_progressCard_1heh8_1899",Xre="_progressBarContainer_1heh8_1913",Jre="_progressBar_1heh8_1913",Qre="_progressValue_1heh8_1928",Zre="_statusBars_1heh8_1934",ene="_statusBar_1heh8_1934",tne="_statusName_1heh8_1946",rne="_statusBarFill_1heh8_1952",nne="_statusCount_1heh8_1966",ine="_quickActions_1heh8_1973",ane="_actionCard_1heh8_1979",sne="_warning_1heh8_1988",one="_info_1heh8_1998",lne="_taskList_1heh8_2003",cne="_taskItem_1heh8_2009",une="_taskStatus_1heh8_2035",dne="_emptyMessage_1heh8_2043",hne="_modal_1heh8_2051",fne="_modalContent_1heh8_2065",mne="_slideUp_1heh8_1",pne="_modalHeader_1heh8_2089",vne="_closeBtn_1heh8_2129",gne="_modalActions_1heh8_2148",yne="_colorPicker_1heh8_2190",_ne="_colorOption_1heh8_2196",wne="_colorSelected_1heh8_2210",xne="_noProjectsWarning_1heh8_2216",bne="_createProjectLink_1heh8_2228",kne="_selectPlaceholder_1heh8_2242",jne="_addProjectBtn_1heh8_2246",Sne="_loading_1heh8_2270",Cne="_projectActions_1heh8_2280",Nne="_memberActions_1heh8_2292",Tne="_usageChart_1heh8_2298",Ene="_usageBar_1heh8_2304",Pne="_usageLabel_1heh8_2310",Ane="_usageDot_1heh8_2319",One="_usageProgress_1heh8_2325",Ine="_usageValue_1heh8_2339",Dne="_taskCount_1heh8_2347",Lne="_dashboard_1heh8_2356",$ne="_heroSection_1heh8_2363",Rne="_heroContent_1heh8_2371",Mne="_greeting_1heh8_2378",Bne="_greetingIcon_1heh8_2384",Fne="_heroBtn_1heh8_2399",zne="_quickStats_1heh8_2420",Une="_quickStatItem_1heh8_2430",Wne="_quickStatValue_1heh8_2434",Hne="_quickStatLabel_1heh8_2439",qne="_quickStatDivider_1heh8_2444",Vne="_dashboardGrid_1heh8_2450",Kne="_dashboardLeft_1heh8_2457",Gne="_dashboardRight_1heh8_2457",Yne="_productivityCard_1heh8_2464",Xne="_productivityHeader_1heh8_2471",Jne="_productivityBadge_1heh8_2487",Qne="_productivityContent_1heh8_2496",Zne="_scoreRing_1heh8_2502",eie="_scoreBg_1heh8_2513",tie="_scoreFill_1heh8_2519",rie="_scoreValue_1heh8_2527",nie="_scoreNumber_1heh8_2535",iie="_scoreLabel_1heh8_2542",aie="_productivityStats_1heh8_2547",sie="_productivityStat_1heh8_2547",oie="_activityCard_1heh8_2566",lie="_activityChart_1heh8_2583",cie="_activityBar_1heh8_2591",uie="_barFill_1heh8_2599",die="_activityDay_1heh8_2613",hie="_priorityCard_1heh8_2620",fie="_priorityChart_1heh8_2637",mie="_priorityRow_1heh8_2643",pie="_priorityLabel_1heh8_2649",vie="_priorityBar_1heh8_2658",gie="_priorityFill_1heh8_2666",yie="_priorityValue_1heh8_2672",_ie="_deadlinesCard_1heh8_2681",wie="_cardHeader_1heh8_2688",xie="_viewAllBtn_1heh8_2704",bie="_deadlinesList_1heh8_2721",kie="_deadlineItem_1heh8_2727",jie="_deadlineDate_1heh8_2741",Sie="_deadlineDay_1heh8_2751",Cie="_deadlineMonth_1heh8_2758",Nie="_deadlineContent_1heh8_2764",Tie="_deadlineStatus_1heh8_2775",Eie="_deadlineBadge_1heh8_2780",Pie="_emptyDeadlines_1heh8_2793",Aie="_alertsCard_1heh8_2809",Oie="_alertsList_1heh8_2826",Iie="_alertItem_1heh8_2832",Die="_recentCard_1heh8_2852",Lie="_recentList_1heh8_2859",$ie="_recentItem_1heh8_2865",Rie="_recentPriority_1heh8_2879",Mie="_recentContent_1heh8_2889",Bie="_recentMeta_1heh8_2900",Fie="_recentStatus_1heh8_2905",zie="_recentDue_1heh8_2913",Uie="_emptyRecent_1heh8_2921",Wie="_createTaskBtn_1heh8_2943",Hie="_quickActionsCard_1heh8_2963",qie="_quickActionsGrid_1heh8_2980",Vie="_quickActionBtn_1heh8_2986",Kie="_calendarView_1heh8_3054",Gie="_calendarHeaderSection_1heh8_3060",Yie="_calendarTitle_1heh8_3067",Xie="_calendarIcon_1heh8_3073",Jie="_calendarNav_1heh8_3096",Qie="_calendarStats_1heh8_3137",Zie="_calendarStatCard_1heh8_3143",eae="_calendarStatIcon_1heh8_3158",tae="_calendarStatValue_1heh8_3174",rae="_calendarStatLabel_1heh8_3180",nae="_calendarBody_1heh8_3186",iae="_calendarWrapper_1heh8_3192",aae="_calendarGridHeader_1heh8_3199",sae="_calendarGridDayName_1heh8_3206",oae="_calendarEmptyDay_1heh8_3220",lae="_calendarDayCell_1heh8_3224",cae="_past_1heh8_3246",uae="_calendarDayNumber_1heh8_3250",dae="_calendarDayTasks_1heh8_3267",hae="_calendarTaskDot_1heh8_3274",fae="_calendarMoreTasks_1heh8_3284",mae="_calendarSidePanel_1heh8_3290",pae="_selectedDateNumber_1heh8_3306",vae="_selectedDateInfo_1heh8_3319",gae="_tasksListHeader_1heh8_3330",yae="_addTaskBtn_1heh8_3343",_ae="_taskListItem_1heh8_3362",wae="_taskPriorityBar_1heh8_3378",xae="_taskListItemContent_1heh8_3388",bae="_taskListItemStatus_1heh8_3394",kae="_noTasksMessage_1heh8_3399",jae="_scheduleTaskBtn_1heh8_3416",Sae="_noDateSelected_1heh8_3429",Cae="_noDateIcon_1heh8_3434",Nae="_reportsView_1heh8_3464",Tae="_reportsHeader_1heh8_3470",Eae="_reportsTitle_1heh8_3477",Pae="_reportsIcon_1heh8_3483",Aae="_timeRangeSelector_1heh8_3506",Oae="_rangeBtn_1heh8_3514",Iae="_performanceCard_1heh8_3532",Dae="_performanceContent_1heh8_3540",Lae="_performanceInfo_1heh8_3547",$ae="_performanceBadge_1heh8_3553",Rae="_performanceRing_1heh8_3570",Mae="_ringBg_1heh8_3580",Bae="_ringFill_1heh8_3586",Fae="_performanceValue_1heh8_3594",zae="_performanceNumber_1heh8_3602",Uae="_performanceLabel_1heh8_3608",Wae="_performanceMetrics_1heh8_3613",Hae="_metricItem_1heh8_3621",qae="_metricValue_1heh8_3633",Vae="_metricLabel_1heh8_3639",Kae="_reportCardHeader_1heh8_3658",Gae="_reportBadge_1heh8_3674",Yae="_barChart_1heh8_3683",Xae="_barChartItem_1heh8_3691",Jae="_barChartBar_1heh8_3698",Qae="_barChartFill_1heh8_3707",Zae="_barChartLabel_1heh8_3714",ese="_barChartValue_1heh8_3719",tse="_distributionChart_1heh8_3727",rse="_distributionInfo_1heh8_3739",nse="_distributionCount_1heh8_3750",ise="_distributionFill_1heh8_3763",ase="_priorityVisual_1heh8_3776",sse="_priorityPie_1heh8_3781",ose="_priorityLegend_1heh8_3786",lse="_legendLabel_1heh8_3809",cse="_legendValue_1heh8_3815",use="_completionChart_1heh8_3822",dse="_completionCircle_1heh8_3828",hse="_completionBg_1heh8_3838",fse="_completionFill_1heh8_3844",mse="_completionValue_1heh8_3852",pse="_completionNumber_1heh8_3860",vse="_completionLabel_1heh8_3867",gse="_completionStats_1heh8_3872",yse="_completionStat_1heh8_3872",_se="_completionStatValue_1heh8_3882",wse="_completionStatLabel_1heh8_3889",xse="_teamView_1heh8_3895",bse="_teamHeader_1heh8_3901",kse="_teamTitle_1heh8_3908",jse="_teamIcon_1heh8_3914",Sse="_inviteBtn_1heh8_3937",Cse="_teamStatsRow_1heh8_3956",Nse="_teamStatCard_1heh8_3963",Tse="_teamStatIcon_1heh8_3973",Ese="_teamStatValue_1heh8_3985",Pse="_teamStatLabel_1heh8_3992",Ase="_teamFilters_1heh8_3998",Ose="_teamSearch_1heh8_4005",Ise="_teamFilterTabs_1heh8_4030",Dse="_teamFilterTab_1heh8_4030",Lse="_membersGrid_1heh8_4058",$se="_memberCard_1heh8_4064",Rse="_memberCardHeader_1heh8_4077",Mse="_memberAvatar_1heh8_4085",Bse="_memberStatusDot_1heh8_4099",Fse="_memberCardActions_1heh8_4113",zse="_memberCardBody_1heh8_4136",Use="_memberRole_1heh8_4155",Wse="_linkedStatus_1heh8_4180",Hse="_pendingStatus_1heh8_4181",qse="_memberCardFooter_1heh8_4202",Vse="_addMemberCard_1heh8_4211",Kse="_addMemberIcon_1heh8_4230",Gse="_emptyTeam_1heh8_4247",Yse="_notificationsView_1heh8_4273",Xse="_notificationsHeader_1heh8_4279",Jse="_notificationsTitle_1heh8_4286",Qse="_notificationsIcon_1heh8_4292",Zse="_notificationsBadge_1heh8_4305",eoe="_markAllBtn_1heh8_4332",toe="_notificationsStats_1heh8_4351",roe="_notifStatCard_1heh8_4358",noe="_notifStatValue_1heh8_4366",ioe="_notifStatLabel_1heh8_4373",aoe="_notificationsFilters_1heh8_4379",soe="_notifSearch_1heh8_4386",ooe="_notifFilterTabs_1heh8_4411",loe="_notifFilterTab_1heh8_4411",coe="_notifTypeFilter_1heh8_4434",uoe="_notifCard_1heh8_4451",doe="_invitationCard_1heh8_4471",hoe="_invitationActions_1heh8_4480",foe="_acceptBtn_1heh8_4486",moe="_declineBtn_1heh8_4487",poe="_notifIcon_1heh8_4525",voe="_indigo_1heh8_4539",goe="_cyan_1heh8_4540",yoe="_notifContent_1heh8_4542",_oe="_notifTime_1heh8_4559",woe="_notifActions_1heh8_4564",xoe="_notifReadBtn_1heh8_4569",boe="_notifDeleteBtn_1heh8_4569",koe="_emptyNotifications_1heh8_4594",joe="_emptyNotifIcon_1heh8_4599",Soe="_projectsView_1heh8_4629",Coe="_projectsHeader_1heh8_4635",Noe="_projectsTitle_1heh8_4642",Toe="_projectsIcon_1heh8_4648",Eoe="_projectsActions_1heh8_4671",Poe="_viewToggle_1heh8_4677",Aoe="_viewToggleBtn_1heh8_4685",Ooe="_newProjectBtn_1heh8_4704",Ioe="_projectsStats_1heh8_4723",Doe="_projectStatCard_1heh8_4731",Loe="_projectStatIcon_1heh8_4741",$oe="_projectStatValue_1heh8_4753",Roe="_projectStatLabel_1heh8_4760",Moe="_projectSection_1heh8_4766",Boe="_sectionHeader_1heh8_4770",Foe="_listView_1heh8_4790",zoe="_projectCardHeader_1heh8_4810",Uoe="_projectStarBtn_1heh8_4815",Woe="_projectCardBody_1heh8_4836",Hoe="_projectCardMeta_1heh8_4857",qoe="_projectCardFooter_1heh8_4865",Voe="_projectTaskBadge_1heh8_4873",Koe="_projectCardActions_1heh8_4881",Goe="_projectListItem_1heh8_4906",Yoe="_projectListColor_1heh8_4921",Xoe="_projectListInfo_1heh8_4927",Joe="_projectListMeta_1heh8_4942",Qoe="_projectListActions_1heh8_4950",Zoe="_addProjectIcon_1heh8_4997",ele="_emptyProjects_1heh8_5020",tle="_emptyProjectsIcon_1heh8_5025",rle="_settingsView_1heh8_5128",nle="_settingsHeader_1heh8_5134",ile="_settingsTitle_1heh8_5141",ale="_settingsIcon_1heh8_5147",sle="_avatarSection_1heh8_5171",ole="_avatarWrapper_1heh8_5178",lle="_avatarLarge_1heh8_5184",cle="_avatarOverlay_1heh8_5211",ule="_uploadingSpinner_1heh8_5232",dle="_spin_1heh8_1",hle="_avatarInfo_1heh8_5245",fle="_avatarHint_1heh8_5258",mle="_invitationsSection_1heh8_5322",ple="_emptyInvitations_1heh8_5336",vle="_invitationsGrid_1heh8_5354",gle="_invitationAvatar_1heh8_5375",yle="_invitationInfo_1heh8_5389",_le="_invitationRole_1heh8_5418",wle="_pendingBadge_1heh8_5449",xle="_cancelBtn_1heh8_5465",ble="_ganttView_1heh8_5489",kle="_ganttHeader_1heh8_5494",jle="_ganttTitle_1heh8_5503",Sle="_ganttIcon_1heh8_5509",Cle="_ganttControls_1heh8_5538",Nle="_zoomControls_1heh8_5544",Tle="_zoomBtn_1heh8_5553",Ele="_scrollControls_1heh8_5582",Ple="_ganttStats_1heh8_5588",Ale="_ganttContainer_1heh8_5595",Ole="_ganttTaskList_1heh8_5604",Ile="_ganttTaskListHeader_1heh8_5612",Dle="_ganttTaskItem_1heh8_5621",Lle="_ganttTaskPriority_1heh8_5636",$le="_ganttTaskInfo_1heh8_5643",Rle="_ganttTaskTitle_1heh8_5649",Mle="_ganttTaskStatus_1heh8_5658",Ble="_ganttTimeline_1heh8_5663",Fle="_ganttMonthHeaders_1heh8_5670",zle="_ganttMonthHeader_1heh8_5670",Ule="_ganttDayHeaders_1heh8_5688",Wle="_ganttDayHeader_1heh8_5688",Hle="_ganttTaskBars_1heh8_5711",qle="_ganttTaskRow_1heh8_5715",Vle="_ganttTaskBar_1heh8_5711",Kle="_ganttTaskProgress_1heh8_5739",Gle="_ganttTodayLine_1heh8_5748",Yle="_ganttLegend_1heh8_5770",Xle="_ganttLegendItem_1heh8_5781",Jle="_ganttLegendColor_1heh8_5789",Qle="_ganttTodayIndicator_1heh8_5795",Zle="_workloadView_1heh8_5802",ece="_workloadHeader_1heh8_5807",tce="_workloadTitle_1heh8_5816",rce="_workloadIcon_1heh8_5822",nce="_workloadGrid_1heh8_5851",ice="_workloadCard_1heh8_5858",ace="_overloaded_1heh8_5871",sce="_atCapacity_1heh8_5875",oce="_underCapacity_1heh8_5879",lce="_workloadCardHeader_1heh8_5883",cce="_workloadAvatar_1heh8_5890",uce="_workloadMemberInfo_1heh8_5909",dce="_workloadMemberName_1heh8_5913",hce="_workloadMemberRole_1heh8_5919",fce="_workloadStatusBadge_1heh8_5924",mce="_workloadStats_1heh8_5946",pce="_workloadStat_1heh8_5924",vce="_workloadStatValue_1heh8_5960",gce="_workloadStatLabel_1heh8_5966",yce="_workloadCapacityBar_1heh8_5971",_ce="_workloadCapacityFill_1heh8_5979",wce="_workloadCapacityLabel_1heh8_5997",xce="_workloadTaskList_1heh8_6003",bce="_workloadTaskListTitle_1heh8_6009",kce="_workloadTaskItem_1heh8_6016",jce="_workloadTaskDot_1heh8_6024",Sce="_workloadTaskTitle_1heh8_6034",Cce="_workloadSummary_1heh8_6042",Nce="_workloadDistribution_1heh8_6056",Tce="_workloadDistributionItem_1heh8_6062",Ece="_workloadDistributionLabel_1heh8_6068",Pce="_workloadDistributionBar_1heh8_6074",Ace="_workloadDistributionSegment_1heh8_6083",Oce="_timelineView_1heh8_6098",Ice="_timelineHeader_1heh8_6103",Dce="_timelineTitle_1heh8_6112",Lce="_timelineIcon_1heh8_6118",$ce="_timelineContent_1heh8_6147",Rce="_timelineLine_1heh8_6152",Mce="_timelineGroup_1heh8_6161",Bce="_timelineGroupHeader_1heh8_6165",Fce="_timelineGroupDot_1heh8_6173",zce="_timelineGroupDate_1heh8_6187",Uce="_timelineGroupCount_1heh8_6193",Wce="_timelineItems_1heh8_6198",Hce="_timelineItem_1heh8_6198",qce="_timelineItemDot_1heh8_6222",Vce="_timelineItemPriority_1heh8_6240",Kce="_timelineItemContent_1heh8_6248",Gce="_timelineItemTitle_1heh8_6252",Yce="_timelineItemMeta_1heh8_6259",Xce="_timelineItemStatus_1heh8_6267",Jce="_timelineItemDue_1heh8_6274",Qce="_overdue_1heh8_6285",Zce="_timelineItemProgress_1heh8_6289",eue="_timelineItemProgressFill_1heh8_6297",tue="_activityFeed_1heh8_6304",rue="_activityItem_1heh8_6310",nue="_activityAvatar_1heh8_6323",iue="_activityContent_1heh8_6344",aue="_activityText_1heh8_6348",sue="_activityTime_1heh8_6358",oue="_activityIcon_1heh8_6364",lue="_created_1heh8_6379",cue="_updated_1heh8_6384",uue="_deleted_1heh8_6394",due="_comment_1heh8_6399",hue="_timeTracker_1heh8_6405",fue="_timeTrackerHeader_1heh8_6412",mue="_timeTrackerTitle_1heh8_6419",pue="_timerDisplay_1heh8_6425",vue="_running_1heh8_6437",gue="_pulse_1heh8_1",yue="_timerControls_1heh8_6447",_ue="_timerBtn_1heh8_6453",wue="_start_1heh8_6466",xue="_stop_1heh8_6476",bue="_manual_1heh8_6486",kue="_timeEntriesList_1heh8_6496",jue="_timeEntriesHeader_1heh8_6502",Sue="_timeEntriesTitle_1heh8_6509",Cue="_timeTotal_1heh8_6515",Nue="_timeEntryItem_1heh8_6521",Tue="_timeEntryDuration_1heh8_6534",Eue="_timeEntryInfo_1heh8_6542",Pue="_timeEntryDescription_1heh8_6546",Aue="_timeEntryDate_1heh8_6551",Oue="_timeEntryDelete_1heh8_6556",Iue="_taskDependencies_1heh8_6577",Due="_dependenciesHeader_1heh8_6584",Lue="_dependenciesTitle_1heh8_6591",$ue="_addDependencyBtn_1heh8_6597",Rue="_dependenciesList_1heh8_6616",Mue="_dependencyItem_1heh8_6622",Bue="_dependencyIcon_1heh8_6631",Fue="_dependencyInfo_1heh8_6637",zue="_dependencyTitle_1heh8_6641",Uue="_dependencyStatus_1heh8_6646",Wue="_dependencyRemove_1heh8_6655",Hue="_noDependencies_1heh8_6669",que="_boardSwitcher_1heh8_6677",Vue="_boardSwitcherBtn_1heh8_6681",Kue="_boardDropdown_1heh8_6703",Gue="_boardDropdownHeader_1heh8_6715",Yue="_boardItem_1heh8_6724",Xue="_boardItemIcon_1heh8_6741",Jue="_boardItemName_1heh8_6757",Que="_boardItemBadge_1heh8_6763",Zue="_createNewBoard_1heh8_6771",ede="_iconBtn_1heh8_6788",tde="_templateMeta_1heh8_6812",rde="_templateTag_1heh8_6819",nde="_modalOverlay_1heh8_6828",ide="_modalBody_1heh8_6835",ade="_modalFooter_1heh8_6841",sde="_chartContainer_1heh8_6857",ode="_chartTooltip_1heh8_6861",lde="_tooltipLabel_1heh8_6869",cde="_tooltipValue_1heh8_6875",ude="_pieLegend_1heh8_6880",dde="_pieLegendItem_1heh8_6888",hde="_pieLegendDot_1heh8_6896",fde="_pieLegendValue_1heh8_6902",mde="_quickStatsRow_1heh8_6909",pde="_quickStatCard_1heh8_6916",vde="_quickStatIcon_1heh8_6926",gde="_quickStatInfo_1heh8_6936",yde="_watchingView_1heh8_6965",_de="_watchingHeader_1heh8_6971",wde="_watchingTitle_1heh8_6978",xde="_watchingIcon_1heh8_6984",bde="_watchingInfo_1heh8_7009",kde="_watchingList_1heh8_7023",jde="_watchingCard_1heh8_7029",Sde="_watchingCardHeader_1heh8_7042",Cde="_dueBadge_1heh8_7059",Nde="_watchingCardTitle_1heh8_7064",Tde="_watchingCardDesc_1heh8_7076",Ede="_watchingCardActions_1heh8_7086",Pde="_unwatchBtn_1heh8_7091",Ade="_emptyWatching_1heh8_7111",Ode="_emptyWatchingIcon_1heh8_7120",v={viewContainer:bZ,fadeIn:kZ,viewHeader:jZ,statsGrid:SZ,statCard:CZ,blue:NZ,green:TZ,yellow:EZ,red:PZ,purple:AZ,statIcon:OZ,statContent:IZ,statValue:DZ,statLabel:LZ,section:$Z,filterTabs:RZ,filterTab:MZ,active:BZ,primaryBtn:FZ,secondaryBtn:zZ,emptyState:UZ,emptyIcon:WZ,calendarContainer:HZ,calendarHeader:qZ,currentMonth:VZ,navBtn:KZ,todayBtn:GZ,calendarGrid:YZ,dayHeader:XZ,emptyDay:JZ,calendarDay:QZ,today:ZZ,selected:eee,dayNumber:tee,taskDots:ree,taskDot:nee,high:iee,medium:aee,low:see,moreTasks:oee,selectedDatePanel:lee,selectedDateHeader:cee,calendarTaskCard:uee,priorityStripe:dee,projectsGrid:hee,projectCard:fee,projectHeader:mee,projectColor:pee,starBtn:vee,starred:gee,projectStats:yee,projectFooter:_ee,taskBadge:wee,moreBtn:xee,addProjectCard:bee,labelsGrid:kee,labelCard:jee,labelColor:See,labelContent:Cee,labelName:Nee,labelCount:Tee,labelActions:Eee,actionBtn:Pee,danger:Aee,addLabelCard:Oee,editInput:Iee,teamList:Dee,teamCard:Lee,memberInfo:$ee,avatar:Ree,statusDot:Mee,online:Bee,offline:Fee,away:zee,memberDetails:Uee,memberName:Wee,adminIcon:Hee,memberEmail:qee,memberMeta:Vee,roleBadge:Kee,admin:Gee,member:Yee,viewer:Xee,teamStats:Jee,teamStat:Qee,reportsGrid:Zee,reportCard:ete,timeRangeTabs:tte,rangeTab:rte,chart:nte,chartBar:ite,barContainer:ate,bar:ste,chartLabel:ote,chartLegend:lte,legendItem:cte,legendDot:ute,completed:dte,distributionList:hte,distributionItem:fte,distributionLabel:mte,distributionBar:pte,distributionValue:vte,priorityBreakdown:gte,priorityItem:yte,priorityDot:_te,priorityCount:wte,progressCircle:xte,progressBg:bte,progressFill:kte,progressText:jte,progressNumber:Ste,progressLabel:Cte,headerActions:Nte,notificationsList:Tte,notificationItem:Ete,unread:Pte,notificationIcon:Ate,notificationContent:Ote,notificationTime:Ite,notificationActions:Dte,readBtn:Lte,deleteBtn:$te,settingsLayout:Rte,settingsTabs:Mte,settingsTab:Bte,settingsSection:Fte,formGroup:zte,formHint:Ute,toggleGroup:Wte,subsectionTitle:Hte,permissionBanner:qte,permissionGranted:Vte,testNotifBtn:Kte,toggleItem:Gte,toggle:Yte,slider:Xte,themeToggle:Jte,privacyInfo:Qte,privacyItem:Zte,dangerZone:ere,dangerBtn:tre,helpGrid:rre,helpCard:nre,helpIcon:ire,externalIcon:are,faqList:sre,faqItem:ore,faqQuestion:lre,faqIcon:cre,expanded:ure,faqAnswer:dre,contactGrid:hre,contactCard:fre,contactIcon:mre,contactLink:pre,versionInfo:vre,starredGrid:gre,starredCard:yre,starButton:_re,starredContent:wre,starredMeta:xre,priorityBadge:bre,statusBadge:kre,dueInfo:jre,archiveCount:Sre,searchBox:Cre,archiveList:Nre,archiveItem:Tre,archiveContent:Ere,archiveMeta:Pre,archiveTags:Are,archiveTag:Ore,archiveActions:Ire,restoreBtn:Dre,tasksContainer:Lre,taskGroup:$re,taskGroupHeader:Rre,taskGroupList:Mre,myTaskCard:Bre,taskHeader:Fre,taskTitle:zre,priorityTag:Ure,taskDesc:Wre,taskMeta:Hre,dueDate:qre,taskTags:Vre,tag:Kre,progressGrid:Gre,progressCard:Yre,progressBarContainer:Xre,progressBar:Jre,progressValue:Qre,statusBars:Zre,statusBar:ene,statusName:tne,statusBarFill:rne,statusCount:nne,quickActions:ine,actionCard:ane,warning:sne,info:one,taskList:lne,taskItem:cne,taskStatus:une,emptyMessage:dne,modal:hne,modalContent:fne,slideUp:mne,modalHeader:pne,closeBtn:vne,modalActions:gne,colorPicker:yne,colorOption:_ne,colorSelected:wne,noProjectsWarning:xne,createProjectLink:bne,selectPlaceholder:kne,addProjectBtn:jne,loading:Sne,projectActions:Cne,memberActions:Nne,usageChart:Tne,usageBar:Ene,usageLabel:Pne,usageDot:Ane,usageProgress:One,usageValue:Ine,taskCount:Dne,dashboard:Lne,heroSection:$ne,heroContent:Rne,greeting:Mne,greetingIcon:Bne,heroBtn:Fne,quickStats:zne,quickStatItem:Une,quickStatValue:Wne,quickStatLabel:Hne,quickStatDivider:qne,dashboardGrid:Vne,dashboardLeft:Kne,dashboardRight:Gne,productivityCard:Yne,productivityHeader:Xne,productivityBadge:Jne,productivityContent:Qne,scoreRing:Zne,scoreBg:eie,scoreFill:tie,scoreValue:rie,scoreNumber:nie,scoreLabel:iie,productivityStats:aie,productivityStat:sie,activityCard:oie,activityChart:lie,activityBar:cie,barFill:uie,activityDay:die,priorityCard:hie,priorityChart:fie,priorityRow:mie,priorityLabel:pie,priorityBar:vie,priorityFill:gie,priorityValue:yie,deadlinesCard:_ie,cardHeader:wie,viewAllBtn:xie,deadlinesList:bie,deadlineItem:kie,deadlineDate:jie,deadlineDay:Sie,deadlineMonth:Cie,deadlineContent:Nie,deadlineStatus:Tie,deadlineBadge:Eie,emptyDeadlines:Pie,alertsCard:Aie,alertsList:Oie,alertItem:Iie,recentCard:Die,recentList:Lie,recentItem:$ie,recentPriority:Rie,recentContent:Mie,recentMeta:Bie,recentStatus:Fie,recentDue:zie,emptyRecent:Uie,createTaskBtn:Wie,quickActionsCard:Hie,quickActionsGrid:qie,quickActionBtn:Vie,calendarView:Kie,calendarHeaderSection:Gie,calendarTitle:Yie,calendarIcon:Xie,calendarNav:Jie,calendarStats:Qie,calendarStatCard:Zie,calendarStatIcon:eae,calendarStatValue:tae,calendarStatLabel:rae,calendarBody:nae,calendarWrapper:iae,calendarGridHeader:aae,calendarGridDayName:sae,calendarEmptyDay:oae,calendarDayCell:lae,past:cae,calendarDayNumber:uae,calendarDayTasks:dae,calendarTaskDot:hae,calendarMoreTasks:fae,calendarSidePanel:mae,selectedDateNumber:pae,selectedDateInfo:vae,tasksListHeader:gae,addTaskBtn:yae,taskListItem:_ae,taskPriorityBar:wae,taskListItemContent:xae,taskListItemStatus:bae,noTasksMessage:kae,scheduleTaskBtn:jae,noDateSelected:Sae,noDateIcon:Cae,reportsView:Nae,reportsHeader:Tae,reportsTitle:Eae,reportsIcon:Pae,timeRangeSelector:Aae,rangeBtn:Oae,performanceCard:Iae,performanceContent:Dae,performanceInfo:Lae,performanceBadge:$ae,performanceRing:Rae,ringBg:Mae,ringFill:Bae,performanceValue:Fae,performanceNumber:zae,performanceLabel:Uae,performanceMetrics:Wae,metricItem:Hae,metricValue:qae,metricLabel:Vae,reportCardHeader:Kae,reportBadge:Gae,barChart:Yae,barChartItem:Xae,barChartBar:Jae,barChartFill:Qae,barChartLabel:Zae,barChartValue:ese,distributionChart:tse,distributionInfo:rse,distributionCount:nse,distributionFill:ise,priorityVisual:ase,priorityPie:sse,priorityLegend:ose,legendLabel:lse,legendValue:cse,completionChart:use,completionCircle:dse,completionBg:hse,completionFill:fse,completionValue:mse,completionNumber:pse,completionLabel:vse,completionStats:gse,completionStat:yse,completionStatValue:_se,completionStatLabel:wse,teamView:xse,teamHeader:bse,teamTitle:kse,teamIcon:jse,inviteBtn:Sse,teamStatsRow:Cse,teamStatCard:Nse,teamStatIcon:Tse,teamStatValue:Ese,teamStatLabel:Pse,teamFilters:Ase,teamSearch:Ose,teamFilterTabs:Ise,teamFilterTab:Dse,membersGrid:Lse,memberCard:$se,memberCardHeader:Rse,memberAvatar:Mse,memberStatusDot:Bse,memberCardActions:Fse,memberCardBody:zse,memberRole:Use,linkedStatus:Wse,pendingStatus:Hse,memberCardFooter:qse,addMemberCard:Vse,addMemberIcon:Kse,emptyTeam:Gse,notificationsView:Yse,notificationsHeader:Xse,notificationsTitle:Jse,notificationsIcon:Qse,notificationsBadge:Zse,markAllBtn:eoe,notificationsStats:toe,notifStatCard:roe,notifStatValue:noe,notifStatLabel:ioe,notificationsFilters:aoe,notifSearch:soe,notifFilterTabs:ooe,notifFilterTab:loe,notifTypeFilter:coe,notifCard:uoe,invitationCard:doe,invitationActions:hoe,acceptBtn:foe,declineBtn:moe,notifIcon:poe,indigo:voe,cyan:goe,notifContent:yoe,notifTime:_oe,notifActions:woe,notifReadBtn:xoe,notifDeleteBtn:boe,emptyNotifications:koe,emptyNotifIcon:joe,projectsView:Soe,projectsHeader:Coe,projectsTitle:Noe,projectsIcon:Toe,projectsActions:Eoe,viewToggle:Poe,viewToggleBtn:Aoe,newProjectBtn:Ooe,projectsStats:Ioe,projectStatCard:Doe,projectStatIcon:Loe,projectStatValue:$oe,projectStatLabel:Roe,projectSection:Moe,sectionHeader:Boe,listView:Foe,projectCardHeader:zoe,projectStarBtn:Uoe,projectCardBody:Woe,projectCardMeta:Hoe,projectCardFooter:qoe,projectTaskBadge:Voe,projectCardActions:Koe,projectListItem:Goe,projectListColor:Yoe,projectListInfo:Xoe,projectListMeta:Joe,projectListActions:Qoe,addProjectIcon:Zoe,emptyProjects:ele,emptyProjectsIcon:tle,settingsView:rle,settingsHeader:nle,settingsTitle:ile,settingsIcon:ale,avatarSection:sle,avatarWrapper:ole,avatarLarge:lle,avatarOverlay:cle,uploadingSpinner:ule,spin:dle,avatarInfo:hle,avatarHint:fle,invitationsSection:mle,emptyInvitations:ple,invitationsGrid:vle,invitationAvatar:gle,invitationInfo:yle,invitationRole:_le,pendingBadge:wle,cancelBtn:xle,ganttView:ble,ganttHeader:kle,ganttTitle:jle,ganttIcon:Sle,ganttControls:Cle,zoomControls:Nle,zoomBtn:Tle,scrollControls:Ele,ganttStats:Ple,ganttContainer:Ale,ganttTaskList:Ole,ganttTaskListHeader:Ile,ganttTaskItem:Dle,ganttTaskPriority:Lle,ganttTaskInfo:$le,ganttTaskTitle:Rle,ganttTaskStatus:Mle,ganttTimeline:Ble,ganttMonthHeaders:Fle,ganttMonthHeader:zle,ganttDayHeaders:Ule,ganttDayHeader:Wle,ganttTaskBars:Hle,ganttTaskRow:qle,ganttTaskBar:Vle,ganttTaskProgress:Kle,ganttTodayLine:Gle,ganttLegend:Yle,ganttLegendItem:Xle,ganttLegendColor:Jle,ganttTodayIndicator:Qle,workloadView:Zle,workloadHeader:ece,workloadTitle:tce,workloadIcon:rce,workloadGrid:nce,workloadCard:ice,overloaded:ace,atCapacity:sce,underCapacity:oce,workloadCardHeader:lce,workloadAvatar:cce,workloadMemberInfo:uce,workloadMemberName:dce,workloadMemberRole:hce,workloadStatusBadge:fce,workloadStats:mce,workloadStat:pce,workloadStatValue:vce,workloadStatLabel:gce,workloadCapacityBar:yce,workloadCapacityFill:_ce,workloadCapacityLabel:wce,workloadTaskList:xce,workloadTaskListTitle:bce,workloadTaskItem:kce,workloadTaskDot:jce,workloadTaskTitle:Sce,workloadSummary:Cce,workloadDistribution:Nce,workloadDistributionItem:Tce,workloadDistributionLabel:Ece,workloadDistributionBar:Pce,workloadDistributionSegment:Ace,timelineView:Oce,timelineHeader:Ice,timelineTitle:Dce,timelineIcon:Lce,timelineContent:$ce,timelineLine:Rce,timelineGroup:Mce,timelineGroupHeader:Bce,timelineGroupDot:Fce,timelineGroupDate:zce,timelineGroupCount:Uce,timelineItems:Wce,timelineItem:Hce,timelineItemDot:qce,timelineItemPriority:Vce,timelineItemContent:Kce,timelineItemTitle:Gce,timelineItemMeta:Yce,timelineItemStatus:Xce,timelineItemDue:Jce,overdue:Qce,timelineItemProgress:Zce,timelineItemProgressFill:eue,activityFeed:tue,activityItem:rue,activityAvatar:nue,activityContent:iue,activityText:aue,activityTime:sue,activityIcon:oue,created:lue,updated:cue,deleted:uue,comment:due,timeTracker:hue,timeTrackerHeader:fue,timeTrackerTitle:mue,timerDisplay:pue,running:vue,pulse:gue,timerControls:yue,timerBtn:_ue,start:wue,stop:xue,manual:bue,timeEntriesList:kue,timeEntriesHeader:jue,timeEntriesTitle:Sue,timeTotal:Cue,timeEntryItem:Nue,timeEntryDuration:Tue,timeEntryInfo:Eue,timeEntryDescription:Pue,timeEntryDate:Aue,timeEntryDelete:Oue,taskDependencies:Iue,dependenciesHeader:Due,dependenciesTitle:Lue,addDependencyBtn:$ue,dependenciesList:Rue,dependencyItem:Mue,dependencyIcon:Bue,dependencyInfo:Fue,dependencyTitle:zue,dependencyStatus:Uue,dependencyRemove:Wue,noDependencies:Hue,boardSwitcher:que,boardSwitcherBtn:Vue,boardDropdown:Kue,boardDropdownHeader:Gue,boardItem:Yue,boardItemIcon:Xue,boardItemName:Jue,boardItemBadge:Que,createNewBoard:Zue,iconBtn:ede,templateMeta:tde,templateTag:rde,modalOverlay:nde,modalBody:ide,modalFooter:ade,chartContainer:sde,chartTooltip:ode,tooltipLabel:lde,tooltipValue:cde,pieLegend:ude,pieLegendItem:dde,pieLegendDot:hde,pieLegendValue:fde,quickStatsRow:mde,quickStatCard:pde,quickStatIcon:vde,quickStatInfo:gde,watchingView:yde,watchingHeader:_de,watchingTitle:wde,watchingIcon:xde,watchingInfo:bde,watchingList:kde,watchingCard:jde,watchingCardHeader:Sde,dueBadge:Cde,watchingCardTitle:Nde,watchingCardDesc:Tde,watchingCardActions:Ede,unwatchBtn:Pde,emptyWatching:Ade,emptyWatchingIcon:Ode};function Ide(){var g,w;const{state:e,openModal:t}=Xe(),{user:r}=Ye(),{setView:n}=$m(),i=e.tasks,a=e.columns,s=m.useMemo(()=>{const y=i.length,_=a.find(z=>z.title.toLowerCase()==="to do"),b=a.find(z=>z.title.toLowerCase()==="in progress"),k=a.find(z=>z.title.toLowerCase()==="review"),x=a.find(z=>z.title.toLowerCase()==="done"),C=a.find(z=>z.title.toLowerCase()==="archive"),S=i.filter(z=>z.column_id===(_==null?void 0:_.id)).length,j=i.filter(z=>z.column_id===(b==null?void 0:b.id)).length,N=i.filter(z=>z.column_id===(k==null?void 0:k.id)).length,T=i.filter(z=>z.column_id===(x==null?void 0:x.id)).length,P=i.filter(z=>z.column_id===(C==null?void 0:C.id)).length,I=i.filter(z=>z.priority==="high").length,E=i.filter(z=>z.priority==="medium").length,B=i.filter(z=>z.priority==="low").length,K=new Date().toISOString().split("T")[0],R=i.filter(z=>z.due_date===K),te=i.filter(z=>{if(!z.due_date)return!1;const Q=a.find(W=>W.id===z.column_id);return z.due_date<K&&(Q==null?void 0:Q.title.toLowerCase())!=="done"&&(Q==null?void 0:Q.title.toLowerCase())!=="archive"}),A=y>0?Math.round((T+P)/y*100):0,U=y>0?Math.round(T/y*100):0;return{total:y,todo:S,inProgress:j,review:N,done:T,archived:P,highPriority:I,mediumPriority:E,lowPriority:B,dueToday:R,overdue:te,completionRate:A,productivity:U}},[i,a]),l=m.useMemo(()=>[...i].sort((y,_)=>new Date(_.created_at).getTime()-new Date(y.created_at).getTime()).slice(0,5),[i]),c=m.useMemo(()=>i.filter(y=>{if(!y.due_date)return!1;const _=a.find(b=>b.id===y.column_id);return(_==null?void 0:_.title.toLowerCase())!=="done"&&(_==null?void 0:_.title.toLowerCase())!=="archive"}).sort((y,_)=>new Date(y.due_date).getTime()-new Date(_.due_date).getTime()).slice(0,4),[i,a]),u=m.useMemo(()=>{const y=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],_=new Date().getDay(),b=_===0?6:_-1;return y.map((k,x)=>{const C=x===b,S=x<b;return{day:k,value:S?Math.floor(Math.random()*10)+1:C?s.inProgress+s.done:0,isToday:C}})},[s]),d=()=>{const y=new Date().getHours();return y<12?"Good Morning":y<18?"Good Afternoon":"Good Evening"},h=()=>{const y=new Date().getHours();return y<12?"morning":y<18?"afternoon":"evening"},f=y=>{const _=new Date(y),b=new Date,k=new Date(b);return k.setDate(k.getDate()+1),y===b.toISOString().split("T")[0]?"Today":y===k.toISOString().split("T")[0]?"Tomorrow":_.toLocaleDateString("en-US",{month:"short",day:"numeric"})},p=y=>{var _;return((_=a.find(b=>b.id===y))==null?void 0:_.title)||"Unknown"};return o.jsxs("div",{className:v.dashboard,children:[o.jsxs("div",{className:v.heroSection,children:[o.jsxs("div",{className:v.heroContent,children:[o.jsxs("div",{className:v.greeting,children:[o.jsx("span",{className:v.greetingIcon,children:h()==="morning"?"":h()==="afternoon"?"":""}),o.jsxs("div",{children:[o.jsxs("h1",{children:[d(),", ",((g=r==null?void 0:r.user_metadata)==null?void 0:g.name)||((w=r==null?void 0:r.email)==null?void 0:w.split("@")[0])||"User","!"]}),o.jsx("p",{children:"Here's what's happening with your projects today."})]})]}),o.jsxs("button",{className:v.heroBtn,onClick:()=>t(),children:[o.jsx(ht,{})," New Task"]})]}),o.jsxs("div",{className:v.quickStats,children:[o.jsxs("div",{className:v.quickStatItem,children:[o.jsx("div",{className:v.quickStatValue,children:s.total}),o.jsx("div",{className:v.quickStatLabel,children:"Total Tasks"})]}),o.jsx("div",{className:v.quickStatDivider}),o.jsxs("div",{className:v.quickStatItem,children:[o.jsx("div",{className:v.quickStatValue,children:s.inProgress}),o.jsx("div",{className:v.quickStatLabel,children:"In Progress"})]}),o.jsx("div",{className:v.quickStatDivider}),o.jsxs("div",{className:v.quickStatItem,children:[o.jsx("div",{className:v.quickStatValue,children:s.done}),o.jsx("div",{className:v.quickStatLabel,children:"Completed"})]}),o.jsx("div",{className:v.quickStatDivider}),o.jsxs("div",{className:v.quickStatItem,children:[o.jsxs("div",{className:v.quickStatValue,children:[s.completionRate,"%"]}),o.jsx("div",{className:v.quickStatLabel,children:"Progress"})]})]})]}),o.jsxs("div",{className:v.dashboardGrid,children:[o.jsxs("div",{className:v.dashboardLeft,children:[o.jsxs("div",{className:v.productivityCard,children:[o.jsxs("div",{className:v.productivityHeader,children:[o.jsxs("h2",{children:[o.jsx(vl,{})," Productivity Score"]}),o.jsx("span",{className:v.productivityBadge,children:s.productivity>=70?"Excellent":s.productivity>=40?"Good":"Keep Going"})]}),o.jsxs("div",{className:v.productivityContent,children:[o.jsxs("div",{className:v.scoreRing,children:[o.jsxs("svg",{viewBox:"0 0 100 100",children:[o.jsx("circle",{className:v.scoreBg,cx:"50",cy:"50",r:"45"}),o.jsx("circle",{className:v.scoreFill,cx:"50",cy:"50",r:"45",strokeDasharray:`${s.productivity*2.83} 283`})]}),o.jsxs("div",{className:v.scoreValue,children:[o.jsx("span",{className:v.scoreNumber,children:s.productivity}),o.jsx("span",{className:v.scoreLabel,children:"Score"})]})]}),o.jsxs("div",{className:v.productivityStats,children:[o.jsxs("div",{className:v.productivityStat,children:[o.jsx(Fi,{}),o.jsxs("span",{children:[s.done," completed this week"]})]}),o.jsxs("div",{className:v.productivityStat,children:[o.jsx(St,{}),o.jsxs("span",{children:[s.inProgress," in progress"]})]}),o.jsxs("div",{className:v.productivityStat,children:[o.jsx(Ly,{}),o.jsxs("span",{children:[s.total-s.done-s.archived," remaining"]})]})]})]})]}),o.jsxs("div",{className:v.activityCard,children:[o.jsxs("h2",{children:[o.jsx(_n,{})," Weekly Activity"]}),o.jsx("div",{className:v.activityChart,children:u.map((y,_)=>o.jsxs("div",{className:v.activityBar,children:[o.jsx("div",{className:`${v.barFill} ${y.isToday?v.today:""}`,style:{height:`${Math.max(y.value*10,5)}%`}}),o.jsx("span",{className:v.activityDay,children:y.day})]},_))})]}),o.jsxs("div",{className:v.priorityCard,children:[o.jsxs("h2",{children:[o.jsx(ml,{})," Priority Distribution"]}),o.jsxs("div",{className:v.priorityChart,children:[o.jsxs("div",{className:v.priorityRow,children:[o.jsxs("div",{className:v.priorityLabel,children:[o.jsx("span",{className:`${v.priorityDot} ${v.high}`}),"High Priority"]}),o.jsx("div",{className:v.priorityBar,children:o.jsx("div",{className:v.priorityFill,style:{width:`${s.total>0?s.highPriority/s.total*100:0}%`,background:"#ef4444"}})}),o.jsx("span",{className:v.priorityValue,children:s.highPriority})]}),o.jsxs("div",{className:v.priorityRow,children:[o.jsxs("div",{className:v.priorityLabel,children:[o.jsx("span",{className:`${v.priorityDot} ${v.medium}`}),"Medium Priority"]}),o.jsx("div",{className:v.priorityBar,children:o.jsx("div",{className:v.priorityFill,style:{width:`${s.total>0?s.mediumPriority/s.total*100:0}%`,background:"#f59e0b"}})}),o.jsx("span",{className:v.priorityValue,children:s.mediumPriority})]}),o.jsxs("div",{className:v.priorityRow,children:[o.jsxs("div",{className:v.priorityLabel,children:[o.jsx("span",{className:`${v.priorityDot} ${v.low}`}),"Low Priority"]}),o.jsx("div",{className:v.priorityBar,children:o.jsx("div",{className:v.priorityFill,style:{width:`${s.total>0?s.lowPriority/s.total*100:0}%`,background:"#10b981"}})}),o.jsx("span",{className:v.priorityValue,children:s.lowPriority})]})]})]})]}),o.jsxs("div",{className:v.dashboardRight,children:[o.jsxs("div",{className:v.deadlinesCard,children:[o.jsxs("div",{className:v.cardHeader,children:[o.jsxs("h2",{children:[o.jsx(Ht,{})," Upcoming Deadlines"]}),o.jsxs("button",{className:v.viewAllBtn,onClick:()=>n("calendar"),children:["View All ",o.jsx(Ay,{})]})]}),c.length>0?o.jsx("div",{className:v.deadlinesList,children:c.map(y=>o.jsxs("div",{className:v.deadlineItem,children:[o.jsxs("div",{className:v.deadlineDate,children:[o.jsx("span",{className:v.deadlineDay,children:y.due_date?new Date(y.due_date).getDate():"-"}),o.jsx("span",{className:v.deadlineMonth,children:y.due_date?new Date(y.due_date).toLocaleDateString("en-US",{month:"short"}):""})]}),o.jsxs("div",{className:v.deadlineContent,children:[o.jsx("h4",{children:y.title}),o.jsx("span",{className:v.deadlineStatus,children:p(y.column_id)})]}),o.jsx("span",{className:`${v.deadlineBadge} ${f(y.due_date||"")==="Today"?v.today:""}`,children:f(y.due_date||"")})]},y.id))}):o.jsxs("div",{className:v.emptyDeadlines,children:[o.jsx(Ht,{}),o.jsx("p",{children:"No upcoming deadlines"})]})]}),(s.dueToday.length>0||s.overdue.length>0)&&o.jsxs("div",{className:v.alertsCard,children:[o.jsxs("h2",{children:[o.jsx(sn,{})," Alerts"]}),o.jsxs("div",{className:v.alertsList,children:[s.overdue.length>0&&o.jsxs("div",{className:`${v.alertItem} ${v.danger}`,children:[o.jsx(sn,{}),o.jsxs("span",{children:[o.jsx("strong",{children:s.overdue.length})," overdue tasks need attention"]})]}),s.dueToday.length>0&&o.jsxs("div",{className:`${v.alertItem} ${v.warning}`,children:[o.jsx(St,{}),o.jsxs("span",{children:[o.jsx("strong",{children:s.dueToday.length})," tasks due today"]})]})]})]}),o.jsxs("div",{className:v.recentCard,children:[o.jsxs("div",{className:v.cardHeader,children:[o.jsxs("h2",{children:[o.jsx(_n,{})," Recent Tasks"]}),o.jsxs("button",{className:v.viewAllBtn,onClick:()=>n("board"),children:["View Board ",o.jsx(Ay,{})]})]}),l.length>0?o.jsx("div",{className:v.recentList,children:l.map(y=>o.jsxs("div",{className:v.recentItem,children:[o.jsx("div",{className:`${v.recentPriority} ${v[y.priority]}`}),o.jsxs("div",{className:v.recentContent,children:[o.jsx("h4",{children:y.title}),o.jsxs("div",{className:v.recentMeta,children:[o.jsx("span",{className:v.recentStatus,children:p(y.column_id)}),y.due_date&&o.jsxs("span",{className:v.recentDue,children:[o.jsx(Ht,{})," ",f(y.due_date)]})]})]})]},y.id))}):o.jsxs("div",{className:v.emptyRecent,children:[o.jsx(xF,{}),o.jsx("p",{children:"No tasks yet. Create your first task!"}),o.jsxs("button",{className:v.createTaskBtn,onClick:()=>t(),children:[o.jsx(ht,{})," Create Task"]})]})]}),o.jsxs("div",{className:v.quickActionsCard,children:[o.jsxs("h2",{children:[o.jsx(vl,{})," Quick Actions"]}),o.jsxs("div",{className:v.quickActionsGrid,children:[o.jsxs("button",{className:v.quickActionBtn,onClick:()=>t(),children:[o.jsx(ht,{}),o.jsx("span",{children:"New Task"})]}),o.jsxs("button",{className:v.quickActionBtn,onClick:()=>n("board"),children:[o.jsx(ml,{}),o.jsx("span",{children:"Board"})]}),o.jsxs("button",{className:v.quickActionBtn,onClick:()=>n("calendar"),children:[o.jsx(Ht,{}),o.jsx("span",{children:"Calendar"})]}),o.jsxs("button",{className:v.quickActionBtn,onClick:()=>n("reports"),children:[o.jsx(Fm,{}),o.jsx("span",{children:"Reports"})]})]})]})]})]})]})}function Dde(){const{state:e,openModal:t,selectTask:r}=Xe(),[n,i]=m.useState("all"),a=m.useMemo(()=>{const d={};return e.columns.forEach(h=>{const f=h.title.toLowerCase().replace(" ","-");d[f]=h.id}),d},[e.columns]),s=e.tasks.filter(d=>d.column_id!==a.archive);let l=s;n!=="all"&&(l=s.filter(d=>d.column_id===n));const c={[a["to-do"]||"todo"]:l.filter(d=>d.column_id===a["to-do"]),[a["in-progress"]||"in-progress"]:l.filter(d=>d.column_id===a["in-progress"]),[a.review||"review"]:l.filter(d=>d.column_id===a.review),[a.done||"done"]:l.filter(d=>d.column_id===a.done)},u={};return e.columns.forEach(d=>{const h=d.title.toLowerCase().replace(" ","-");h==="to-do"?u[d.id]={label:"To Do",icon:kF,color:"red"}:h==="in-progress"?u[d.id]={label:"In Progress",icon:St,color:"yellow"}:h==="review"?u[d.id]={label:"Review",icon:sn,color:"blue"}:h==="done"&&(u[d.id]={label:"Done",icon:an,color:"green"})}),o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsx("h1",{children:"My Tasks"}),o.jsx("p",{children:"Manage and track your personal tasks"})]}),o.jsxs("div",{className:v.filterTabs,children:[o.jsxs("button",{className:`${v.filterTab} ${n==="all"?v.active:""}`,onClick:()=>i("all"),children:["All (",s.length,")"]}),Object.entries(u).map(([d,h])=>{var f;return o.jsxs("button",{className:`${v.filterTab} ${n===d?v.active:""}`,onClick:()=>i(d),children:[o.jsx(h.icon,{}),h.label," (",((f=c[d])==null?void 0:f.length)||0,")"]},d)})]}),o.jsx("div",{className:v.tasksContainer,children:Object.entries(u).map(([d,h])=>{const f=c[d]||[];return f.length===0&&n!=="all"?null:o.jsxs("div",{className:v.taskGroup,children:[o.jsxs("div",{className:v.taskGroupHeader,children:[o.jsx(h.icon,{className:v[h.color]}),o.jsx("h3",{children:h.label}),o.jsx("span",{className:v.taskCount,children:f.length})]}),o.jsxs("div",{className:v.taskGroupList,children:[f.map(p=>o.jsxs("div",{className:v.myTaskCard,onClick:()=>{r(p.id),t()},children:[o.jsxs("div",{className:v.taskHeader,children:[o.jsx("span",{className:v.taskTitle,children:p.title}),o.jsx("span",{className:`${v.priorityTag} ${v[p.priority]}`,children:p.priority})]}),p.description&&o.jsx("p",{className:v.taskDesc,children:p.description}),o.jsxs("div",{className:v.taskMeta,children:[p.due_date&&o.jsxs("span",{className:v.dueDate,children:[o.jsx(St,{}),new Date(p.due_date).toLocaleDateString()]}),p.tags&&p.tags.length>0&&o.jsx("div",{className:v.taskTags,children:p.tags.slice(0,2).map(g=>o.jsx("span",{className:v.tag,children:g.name},g.id))})]})]},p.id)),f.length===0&&o.jsx("p",{className:v.emptyMessage,children:"No tasks in this category"})]})]},d)})})]})}function Lde(){const{state:e,openModal:t,selectTask:r}=Xe(),[n,i]=m.useState(new Date),[a,s]=m.useState(null),l=n.getFullYear(),c=n.getMonth(),u=new Date(l,c+1,0).getDate(),d=new Date(l,c,1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=()=>i(new Date(l,c-1,1)),g=()=>i(new Date(l,c+1,1)),w=()=>{i(new Date),s(new Date().toISOString().split("T")[0])},y=S=>e.tasks.filter(j=>j.due_date===S),_=m.useMemo(()=>{const S=`${l}-${String(c+1).padStart(2,"0")}-01`,j=`${l}-${String(c+1).padStart(2,"0")}-${String(u).padStart(2,"0")}`,N=e.tasks.filter(I=>I.due_date&&I.due_date>=S&&I.due_date<=j),T=new Date().toISOString().split("T")[0],P=e.tasks.filter(I=>I.due_date&&I.due_date<T);return{monthTasks:N.length,overdueTasks:P.length,thisWeekTasks:e.tasks.filter(I=>{if(!I.due_date)return!1;const E=new Date(I.due_date),B=new Date,K=new Date(B);return K.setDate(B.getDate()+7),E>=B&&E<=K}).length}},[e.tasks,l,c,u]),b=[];for(let S=0;S<d;S++)b.push(null);for(let S=1;S<=u;S++){const j=`${l}-${String(c+1).padStart(2,"0")}-${String(S).padStart(2,"0")}`;b.push({day:S,dateStr:j})}const k=new Date().toISOString().split("T")[0],x=a?y(a):[],C=S=>{var j;return((j=e.columns.find(N=>N.id===S))==null?void 0:j.title)||"Unknown"};return o.jsxs("div",{className:v.calendarView,children:[o.jsxs("div",{className:v.calendarHeaderSection,children:[o.jsxs("div",{className:v.calendarTitle,children:[o.jsx("div",{className:v.calendarIcon,children:o.jsx(Ht,{})}),o.jsxs("div",{children:[o.jsxs("h1",{children:[h[c]," ",l]}),o.jsx("p",{children:"Manage your schedule and deadlines"})]})]}),o.jsxs("div",{className:v.calendarNav,children:[o.jsx("button",{className:v.navBtn,onClick:p,children:o.jsx(iA,{})}),o.jsx("button",{className:v.todayBtn,onClick:w,children:"Today"}),o.jsx("button",{className:v.navBtn,onClick:g,children:o.jsx(aA,{})})]})]}),o.jsxs("div",{className:v.calendarStats,children:[o.jsxs("div",{className:v.calendarStatCard,children:[o.jsx("div",{className:v.calendarStatIcon,children:o.jsx(Ht,{})}),o.jsxs("div",{className:v.calendarStatContent,children:[o.jsx("span",{className:v.calendarStatValue,children:_.thisWeekTasks}),o.jsx("span",{className:v.calendarStatLabel,children:"This Week"})]})]}),o.jsxs("div",{className:v.calendarStatCard,children:[o.jsx("div",{className:v.calendarStatIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.calendarStatContent,children:[o.jsx("span",{className:v.calendarStatValue,children:_.monthTasks}),o.jsx("span",{className:v.calendarStatLabel,children:"This Month"})]})]}),_.overdueTasks>0&&o.jsxs("div",{className:`${v.calendarStatCard} ${v.warning}`,children:[o.jsx("div",{className:v.calendarStatIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.calendarStatContent,children:[o.jsx("span",{className:v.calendarStatValue,children:_.overdueTasks}),o.jsx("span",{className:v.calendarStatLabel,children:"Overdue"})]})]})]}),o.jsxs("div",{className:v.calendarBody,children:[o.jsxs("div",{className:v.calendarWrapper,children:[o.jsx("div",{className:v.calendarGridHeader,children:f.map(S=>o.jsx("div",{className:v.calendarGridDayName,children:S},S))}),o.jsx("div",{className:v.calendarGrid,children:b.map((S,j)=>{if(!S)return o.jsx("div",{className:v.calendarEmptyDay},`empty-${j}`);const N=y(S.dateStr),T=S.dateStr===k,P=S.dateStr===a,I=S.dateStr<k;return o.jsxs("div",{className:`${v.calendarDayCell} ${T?v.today:""} ${P?v.selected:""} ${I?v.past:""}`,onClick:()=>s(S.dateStr),children:[o.jsx("span",{className:v.calendarDayNumber,children:S.day}),N.length>0&&o.jsxs("div",{className:v.calendarDayTasks,children:[N.slice(0,2).map(E=>o.jsx("div",{className:`${v.calendarTaskDot} ${v[E.priority]}`},E.id)),N.length>2&&o.jsxs("span",{className:v.calendarMoreTasks,children:["+",N.length-2]})]})]},S.dateStr)})})]}),o.jsx("div",{className:v.calendarSidePanel,children:a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:v.selectedDateHeader,children:[o.jsx("div",{className:v.selectedDateNumber,children:new Date(a+"T00:00:00").getDate()}),o.jsxs("div",{className:v.selectedDateInfo,children:[o.jsx("h3",{children:new Date(a+"T00:00:00").toLocaleDateString("en-US",{weekday:"long"})}),o.jsx("p",{children:new Date(a+"T00:00:00").toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]}),o.jsxs("div",{className:v.selectedDateTasksList,children:[o.jsxs("div",{className:v.tasksListHeader,children:[o.jsxs("h4",{children:["Tasks (",x.length,")"]}),o.jsx("button",{className:v.addTaskBtn,onClick:()=>t(),children:o.jsx(ht,{})})]}),x.length>0?x.map(S=>o.jsxs("div",{className:v.taskListItem,onClick:()=>{r(S.id),t()},children:[o.jsx("div",{className:`${v.taskPriorityBar} ${v[S.priority]}`}),o.jsxs("div",{className:v.taskListItemContent,children:[o.jsx("h5",{children:S.title}),o.jsx("span",{className:v.taskListItemStatus,children:C(S.column_id)})]})]},S.id)):o.jsxs("div",{className:v.noTasksMessage,children:[o.jsx(Ht,{}),o.jsx("p",{children:"No tasks scheduled"}),o.jsxs("button",{className:v.scheduleTaskBtn,onClick:()=>t(),children:[o.jsx(ht,{})," Schedule a task"]})]})]})]}):o.jsxs("div",{className:v.noDateSelected,children:[o.jsx("div",{className:v.noDateIcon,children:o.jsx(Ht,{})}),o.jsx("h3",{children:"Select a Date"}),o.jsx("p",{children:"Click on any date to view scheduled tasks"})]})})]})]})}function $de(){const{user:e}=Ye(),[t,r]=m.useState([]),[n,i]=m.useState(!0),[a,s]=m.useState("grid"),[l,c]=m.useState(!1),[u,d]=m.useState(null),[h,f]=m.useState({name:"",description:"",color:"#5048e5"}),p=["#5048e5","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16"];m.useEffect(()=>{g()},[e]);const g=async()=>{if(!e)return;i(!0);const{data:j}=await eP(e.id);j&&r(j),i(!1)},w=async(j,N)=>{console.log("[ProjectsView] Toggling star for project:",j,"current:",N);const{data:T,error:P}=await Cy(j,{is_starred:!N});console.log("[ProjectsView] Update result - data:",T,"error:",P),P?(console.error("[ProjectsView] Failed to update project star:",P),alert("Failed to update project: "+P.message)):r(t.map(I=>I.id===j?{...I,is_starred:!N}:I))},y=()=>{d(null),f({name:"",description:"",color:"#5048e5"}),c(!0)},_=j=>{d(j),f({name:j.name,description:j.description||"",color:j.color}),c(!0)},b=async j=>{if(j.preventDefault(),!(!e||!h.name.trim())){if(u){const{data:N,error:T}=await Cy(u.id,{name:h.name.trim(),description:h.description.trim()||null,color:h.color});!T&&N&&r(t.map(P=>P.id===N.id?N:P))}else{const{data:N,error:T}=await Q0({user_id:e.id,name:h.name.trim(),description:h.description.trim()||null,color:h.color,is_starred:!1});!T&&N&&r([N,...t])}c(!1)}},k=async j=>{if(!confirm("Are you sure you want to delete this project?"))return;const{error:N}=await tP(j);N||r(t.filter(T=>T.id!==j))},x=j=>{const N=new Date(j),P=new Date().getTime()-N.getTime(),I=Math.floor(P/36e5),E=Math.floor(P/864e5);return I<1?"Just now":I<24?`${I}h ago`:E<7?`${E}d ago`:N.toLocaleDateString()},C=t.filter(j=>j.is_starred);console.log("[ProjectsView] Projects:",t.map(j=>({id:j.id,name:j.name,is_starred:j.is_starred}))),console.log("[ProjectsView] Starred projects:",C.length);const S={total:t.length,starred:C.length};return n?o.jsx("div",{className:v.projectsView,children:o.jsx("div",{className:v.loading,children:"Loading projects..."})}):o.jsxs("div",{className:v.projectsView,children:[o.jsxs("div",{className:v.projectsHeader,children:[o.jsxs("div",{className:v.projectsTitle,children:[o.jsx("div",{className:v.projectsIcon,children:o.jsx(Pi,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Projects"}),o.jsx("p",{children:"Organize your work with projects"})]})]}),o.jsxs("div",{className:v.projectsActions,children:[o.jsxs("div",{className:v.viewToggle,children:[o.jsx("button",{className:`${v.viewToggleBtn} ${a==="grid"?v.active:""}`,onClick:()=>s("grid"),children:o.jsx(fw,{})}),o.jsx("button",{className:`${v.viewToggleBtn} ${a==="list"?v.active:""}`,onClick:()=>s("list"),children:o.jsx(Rm,{})})]}),o.jsxs("button",{className:v.newProjectBtn,onClick:y,children:[o.jsx(ht,{})," New Project"]})]})]}),o.jsxs("div",{className:v.projectsStats,children:[o.jsxs("div",{className:v.projectStatCard,children:[o.jsx("div",{className:v.projectStatIcon,children:o.jsx(Pi,{})}),o.jsxs("div",{className:v.projectStatInfo,children:[o.jsx("span",{className:v.projectStatValue,children:S.total}),o.jsx("span",{className:v.projectStatLabel,children:"Total Projects"})]})]}),o.jsxs("div",{className:v.projectStatCard,children:[o.jsx("div",{className:v.projectStatIcon,children:o.jsx(ra,{})}),o.jsxs("div",{className:v.projectStatInfo,children:[o.jsx("span",{className:v.projectStatValue,children:S.starred}),o.jsx("span",{className:v.projectStatLabel,children:"Starred"})]})]})]}),C.length>0&&o.jsxs("div",{className:v.projectSection,children:[o.jsx("div",{className:v.sectionHeader,children:o.jsxs("h2",{children:[o.jsx(ra,{})," Starred"]})}),o.jsx("div",{className:`${v.projectsGrid} ${a==="list"?v.listView:""}`,children:C.map(j=>o.jsx(Yk,{project:j,viewMode:a,onToggleStar:()=>w(j.id,j.is_starred),onEdit:()=>_(j),onDelete:()=>k(j.id),formatDate:x},j.id))})]}),o.jsxs("div",{className:v.projectSection,children:[o.jsx("div",{className:v.sectionHeader,children:o.jsxs("h2",{children:[o.jsx(Pi,{})," All Projects"]})}),o.jsxs("div",{className:`${v.projectsGrid} ${a==="list"?v.listView:""}`,children:[t.map(j=>o.jsx(Yk,{project:j,viewMode:a,onToggleStar:()=>w(j.id,j.is_starred),onEdit:()=>_(j),onDelete:()=>k(j.id),formatDate:x},j.id)),o.jsxs("div",{className:v.addProjectCard,onClick:y,children:[o.jsx("div",{className:v.addProjectIcon,children:o.jsx(ht,{})}),o.jsx("span",{children:"Create New Project"})]})]})]}),t.length===0&&o.jsxs("div",{className:v.emptyProjects,children:[o.jsx("div",{className:v.emptyProjectsIcon,children:o.jsx(Pi,{})}),o.jsx("h3",{children:"No projects yet"}),o.jsx("p",{children:"Create your first project to start organizing your work"}),o.jsxs("button",{className:v.newProjectBtn,onClick:y,children:[o.jsx(ht,{})," New Project"]})]}),l&&o.jsx("div",{className:v.modal,onClick:()=>c(!1),children:o.jsxs("div",{className:v.modalContent,onClick:j=>j.stopPropagation(),children:[o.jsxs("div",{className:v.modalHeader,children:[o.jsx("h2",{children:u?"Edit Project":"New Project"}),o.jsx("button",{className:v.closeBtn,onClick:()=>c(!1),children:o.jsx(ft,{})})]}),o.jsxs("form",{onSubmit:b,children:[o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Project Name"}),o.jsx("input",{type:"text",value:h.name,onChange:j=>f({...h,name:j.target.value}),placeholder:"Enter project name",autoFocus:!0})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Description"}),o.jsx("textarea",{value:h.description,onChange:j=>f({...h,description:j.target.value}),placeholder:"Enter project description",rows:3})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Color"}),o.jsx("div",{className:v.colorPicker,children:p.map(j=>o.jsx("button",{type:"button",className:`${v.colorOption} ${h.color===j?v.selected:""}`,style:{background:j},onClick:()=>f({...h,color:j})},j))})]}),o.jsxs("div",{className:v.modalActions,children:[o.jsx("button",{type:"button",className:v.secondaryBtn,onClick:()=>c(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:v.primaryBtn,children:u?"Save Changes":"Create Project"})]})]})]})})]})}function Yk({project:e,viewMode:t,onToggleStar:r,onEdit:n,onDelete:i,formatDate:a}){return t==="list"?o.jsxs("div",{className:v.projectListItem,children:[o.jsx("div",{className:v.projectListColor,style:{background:e.color}}),o.jsxs("div",{className:v.projectListInfo,children:[o.jsx("h3",{children:e.name}),o.jsx("p",{children:e.description||"No description"})]}),o.jsxs("div",{className:v.projectListMeta,children:[o.jsxs("span",{children:[o.jsx(St,{})," ",a(e.updated_at)]}),o.jsxs("span",{className:v.projectTaskBadge,children:[e.task_count," task",e.task_count!==1?"s":""]})]}),o.jsxs("div",{className:v.projectListActions,children:[o.jsx("button",{className:v.starBtn,onClick:r,children:o.jsx(ra,{className:e.is_starred?v.starred:""})}),o.jsx("button",{onClick:n,children:o.jsx(ua,{})}),o.jsx("button",{onClick:i,children:o.jsx(rr,{})})]})]}):o.jsxs("div",{className:v.projectCard,children:[o.jsx("div",{className:v.projectCardHeader,style:{background:e.color},children:o.jsx("button",{className:v.projectStarBtn,onClick:r,children:o.jsx(ra,{className:e.is_starred?v.starred:""})})}),o.jsxs("div",{className:v.projectCardBody,children:[o.jsx("h3",{children:e.name}),o.jsx("p",{children:e.description||"No description"}),o.jsx("div",{className:v.projectCardMeta,children:o.jsxs("span",{children:[o.jsx(St,{})," ",a(e.updated_at)]})})]}),o.jsxs("div",{className:v.projectCardFooter,children:[o.jsxs("span",{className:v.projectTaskBadge,children:[e.task_count," task",e.task_count!==1?"s":""]}),o.jsxs("div",{className:v.projectCardActions,children:[o.jsx("button",{onClick:n,children:o.jsx(ua,{})}),o.jsx("button",{onClick:i,children:o.jsx(rr,{})})]})]})]})}function Rde(){const{user:e}=Ye(),{showToast:t}=vr(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState({name:"",color:"#ef4444"}),f=["#ef4444","#f59e0b","#10b981","#3b82f6","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#14b8a6","#6366f1","#d946ef"];m.useEffect(()=>{p()},[e]);const p=async()=>{if(!e)return;a(!0);const{data:b,error:k}=await rP(e.id);!k&&b&&n(b),a(!1)},g=()=>{u(null),h({name:"",color:"#ef4444"}),l(!0)},w=b=>{u(b),h({name:b.name,color:b.color}),l(!0)},y=async b=>{if(b.preventDefault(),!(!e||!d.name.trim())){if(c){const{data:k,error:x}=await iP(c.id,{name:d.name.trim(),color:d.color});!x&&k?(n(r.map(C=>C.id===k.id?k:C)),t("Label updated!","success")):t("Failed to update label","error")}else{const{data:k,error:x}=await nP({user_id:e.id,name:d.name.trim(),color:d.color});!x&&k?(n([...r,k]),t("Label created!","success")):t("Failed to create label","error")}l(!1)}},_=async b=>{if(!confirm("Are you sure you want to delete this label?"))return;const{error:k}=await aP(b);k?t("Failed to delete label","error"):(n(r.filter(x=>x.id!==b)),t("Label deleted!","success"))};return i?o.jsx("div",{className:v.viewContainer,children:o.jsx("div",{className:v.loading,children:"Loading labels..."})}):o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Labels"}),o.jsx("p",{children:"Organize your tasks with labels"})]}),o.jsxs("button",{className:v.primaryBtn,onClick:g,children:[o.jsx(ht,{})," New Label"]})]}),o.jsxs("div",{className:v.labelsGrid,children:[r.map(b=>o.jsxs("div",{className:v.labelCard,children:[o.jsx("div",{className:v.labelColor,style:{background:b.color}}),o.jsxs("div",{className:v.labelContent,children:[o.jsx("span",{className:v.labelName,children:b.name}),o.jsxs("span",{className:v.labelCount,children:[b.task_count," task",b.task_count!==1?"s":""]})]}),o.jsxs("div",{className:v.labelActions,children:[o.jsx("button",{onClick:()=>w(b),className:v.actionBtn,children:o.jsx(ua,{})}),o.jsx("button",{onClick:()=>_(b.id),className:`${v.actionBtn} ${v.danger}`,children:o.jsx(rr,{})})]})]},b.id)),o.jsxs("div",{className:v.addLabelCard,onClick:g,children:[o.jsx(Ol,{}),o.jsx("span",{children:"Add Label"})]})]}),r.length>0&&o.jsxs("div",{className:v.section,children:[o.jsx("h2",{children:"Your Labels"}),o.jsx("div",{className:v.usageChart,children:r.map(b=>o.jsxs("div",{className:v.usageBar,children:[o.jsxs("div",{className:v.usageLabel,children:[o.jsx("span",{className:v.usageDot,style:{background:b.color}}),o.jsx("span",{children:b.name})]}),o.jsx("div",{className:v.usageProgress,children:o.jsx("div",{style:{width:`${100/r.length}%`,background:b.color}})})]},b.id))})]}),s&&o.jsx("div",{className:v.modal,onClick:()=>l(!1),children:o.jsxs("div",{className:v.modalContent,onClick:b=>b.stopPropagation(),children:[o.jsxs("div",{className:v.modalHeader,children:[o.jsx("h2",{children:c?"Edit Label":"New Label"}),o.jsx("button",{className:v.closeBtn,onClick:()=>l(!1),children:o.jsx(ft,{})})]}),o.jsxs("form",{onSubmit:y,children:[o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Label Name"}),o.jsx("input",{type:"text",value:d.name,onChange:b=>h({...d,name:b.target.value}),placeholder:"Enter label name",autoFocus:!0})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Color"}),o.jsx("div",{className:v.colorPicker,children:f.map(b=>o.jsx("button",{type:"button",className:`${v.colorOption} ${d.color===b?v.selected:""}`,style:{background:b},onClick:()=>h({...d,color:b})},b))})]}),o.jsxs("div",{className:v.modalActions,children:[o.jsx("button",{type:"button",className:v.secondaryBtn,onClick:()=>l(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:v.primaryBtn,children:c?"Save Changes":"Create Label"})]})]})]})})]})}function Mde(){const{state:e,openDetailPanel:t}=Xe(),{user:r}=Ye(),[n,i]=m.useState([]),[a,s]=m.useState(!0),l=m.useCallback(async()=>{if(!r)return;console.log("[StarredView] Loading starred tasks for user:",r.id),s(!0);const{data:d,error:h}=await ew(r.id);console.log("[StarredView] Result - data:",d,"error:",h),!h&&d&&i(d),s(!1)},[r]);m.useEffect(()=>{l()},[l]),m.useEffect(()=>{const d=setInterval(()=>{l()},3e3);return()=>clearInterval(d)},[l]),m.useEffect(()=>{l()},[l]);const c=async(d,h)=>{if(h.stopPropagation(),!r)return;const{starred:f,error:p}=await tw(r.id,d);p||i(f?[...n,d]:n.filter(g=>g!==d))},u=e.tasks.filter(d=>n.includes(d.id));return console.log("[StarredView] All tasks:",e.tasks.length,"Starred IDs:",n.length,"Filtered:",u.length),a?o.jsx("div",{className:v.viewContainer,children:o.jsx("div",{className:v.loading,children:"Loading starred tasks..."})}):o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsxs("h1",{children:[o.jsx(ra,{style:{marginRight:8,color:"#f59e0b"}}),"Starred Tasks"]}),o.jsxs("p",{children:["Your important tasks in one place (",u.length," tasks)"]})]}),u.length>0?o.jsx("div",{className:v.starredGrid,children:u.map(d=>{var h;return o.jsxs("div",{className:v.starredCard,onClick:()=>t(d.id),children:[o.jsx("button",{className:`${v.starButton} ${v.active}`,onClick:f=>c(d.id,f),children:o.jsx(ra,{})}),o.jsxs("div",{className:v.starredContent,children:[o.jsx("h3",{children:d.title}),d.description&&o.jsx("p",{children:d.description}),o.jsxs("div",{className:v.starredMeta,children:[o.jsx("span",{className:`${v.priorityBadge} ${v[d.priority]}`,children:d.priority}),o.jsxs("span",{className:v.statusBadge,children:[o.jsx(Us,{style:{marginRight:4}}),((h=e.columns.find(f=>f.id===d.column_id))==null?void 0:h.title)||"Unknown"]}),d.due_date&&o.jsxs("span",{className:v.dueInfo,children:[o.jsx(St,{}),FA(d.due_date)]})]})]})]},d.id)})}):o.jsxs("div",{className:v.emptyState,children:[o.jsx(ra,{className:v.emptyIcon}),o.jsx("h3",{children:"No starred tasks"}),o.jsx("p",{children:"Star tasks from the Kanban board to keep track of your most important items"})]})]})}function Bde(){const{state:e,restoreTask:t,deleteTask:r}=Xe(),[n,i]=m.useState(""),a=e.columns.find(d=>d.title.toLowerCase()==="archive"),s=e.tasks.filter(d=>a?d.column_id===a.id:d.is_archived),l=n?s.filter(d=>d.title.toLowerCase().includes(n.toLowerCase())):s,c=d=>{t(d)},u=d=>new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Archive"}),o.jsx("p",{children:"View and restore archived tasks"})]}),o.jsxs("span",{className:v.archiveCount,children:[s.length," archived tasks"]})]}),o.jsxs("div",{className:v.searchBox,children:[o.jsx(Bm,{}),o.jsx("input",{type:"text",placeholder:"Search archived tasks...",value:n,onChange:d=>i(d.target.value)})]}),l.length>0?o.jsx("div",{className:v.archiveList,children:l.map(d=>o.jsxs("div",{className:v.archiveItem,children:[o.jsxs("div",{className:v.archiveContent,children:[o.jsx("h3",{children:d.title}),d.description&&o.jsx("p",{children:d.description}),o.jsxs("div",{className:v.archiveMeta,children:[d.due_date&&o.jsxs("span",{children:["Completed: ",u(d.due_date)]}),d.tags&&d.tags.length>0&&o.jsx("div",{className:v.archiveTags,children:d.tags.map(h=>o.jsx("span",{className:v.archiveTag,children:h.name},h.id))})]})]}),o.jsxs("div",{className:v.archiveActions,children:[o.jsxs("button",{className:v.restoreBtn,onClick:()=>c(d),title:"Restore to board",children:[o.jsx(cA,{}),"Restore"]}),o.jsx("button",{className:v.deleteBtn,onClick:()=>r(d.id),title:"Delete permanently",children:o.jsx(rr,{})})]})]},d.id))}):o.jsxs("div",{className:v.emptyState,children:[o.jsx(dw,{className:v.emptyIcon}),o.jsx("h3",{children:"No archived tasks"}),o.jsx("p",{children:n?"No tasks match your search":"Tasks that you archive will appear here"})]})]})}function Fde(){const{user:e}=Ye(),{showToast:t}=vr(),[r,n]=m.useState([]),[i,a]=m.useState([]),[s,l]=m.useState([]),[c,u]=m.useState(!0),[d,h]=m.useState("all"),[f,p]=m.useState(""),[g,w]=m.useState(!1),[y,_]=m.useState(!1),[b,k]=m.useState(null),[x,C]=m.useState({name:"",email:"",role:"member",project_id:""}),[S,j]=m.useState(""),[N,T]=m.useState("#3b82f6"),P=m.useCallback(async W=>{console.log("[TeamView] Loading team members for user:",W),u(!0);const{data:re,error:O}=await rw(W);console.log("[TeamView] getTeamMembers result:",{data:re==null?void 0:re.length,error:O});const{data:$}=await xP(W);$&&a($.filter(X=>X.status==="pending"));const{data:Z}=await Lm(W);if(Z&&l(Z),!O&&re){n(re),u(!1);const X=JSON.parse(localStorage.getItem("team_linking_cache")||"{}"),ce=re.filter(le=>!le.auth_user_id&&!X[le.id]);ce.length>0&&(ce.forEach(le=>{X[le.id]=!0}),localStorage.setItem("team_linking_cache",JSON.stringify(X)),Promise.all(ce.map(async le=>{const{data:L}=await BE(le.email);return L?(await Ty(le.id,{auth_user_id:L.id}),{...le,auth_user_id:L.id}):le})).then(le=>{n(L=>L.map(G=>le.find(V=>V.id===G.id&&V.auth_user_id)||G))}))}else u(!1)},[]);m.useEffect(()=>{console.log("[TeamView] useEffect - user:",!!e,"userId:",e==null?void 0:e.id),e!=null&&e.id?P(e.id):u(!1)},[e==null?void 0:e.id,P]);const I=()=>{k(null),C({name:"",email:"",role:"member",project_id:""}),w(!0)},E=W=>{k(W),C({name:W.name,email:W.email,role:W.role,project_id:""}),w(!0)},B=async()=>{if(!e||!S.trim())return;const{data:W,error:re}=await Q0({user_id:e.id,name:S.trim(),color:N,description:null,is_starred:!1});!re&&W?(l([...s,W]),C({...x,project_id:W.id}),j(""),_(!1),t("Project created!","success")):t("Failed to create project","error")},K=async W=>{if(W.preventDefault(),!(!e||!x.name.trim()||!x.email.trim())){if(!b&&!x.project_id){t("Please select a project first","error");return}if(b){const{data:re,error:O}=await Ty(b.id,{name:x.name.trim(),email:x.email.trim(),role:x.role});!O&&re&&(n(r.map($=>$.id===re.id?re:$)),t("Member updated!","success"))}else{const{data:re,error:O}=await bP({team_owner_id:e.id,name:x.name.trim(),email:x.email.trim().toLowerCase(),role:x.role,project_id:x.project_id});!O&&re?(a([...i,re]),t("Invitation sent! Waiting for acceptance.","success")):O&&t(O.message||"Failed to send invitation","error")}w(!1)}},R=async W=>{if(!confirm("Cancel this invitation?"))return;const{error:re}=await kP(W);re||(a(i.filter(O=>O.id!==W)),t("Invitation cancelled","info"))},te=async W=>{if(!confirm("Are you sure you want to remove this team member?"))return;const{error:re}=await cP(W);re||(n(r.filter(O=>O.id!==W)),t("Member removed!","success"))},A=r.filter(W=>{const re=d==="all"||W.role===d,O=W.name.toLowerCase().includes(f.toLowerCase())||W.email.toLowerCase().includes(f.toLowerCase());return re&&O}),U=i.filter(W=>W.name.toLowerCase().includes(f.toLowerCase())||W.email.toLowerCase().includes(f.toLowerCase())),z={admin:{label:"Admin",color:"red",icon:lf},member:{label:"Member",color:"blue",icon:$i},viewer:{label:"Viewer",color:"gray",icon:Tk}},Q={total:r.length,pending:i.length,online:r.filter(W=>W.status==="online").length,admins:r.filter(W=>W.role==="admin").length};return c?o.jsx("div",{className:v.teamView,children:o.jsx("div",{className:v.loading,children:"Loading team members..."})}):e?o.jsxs("div",{className:v.teamView,children:[o.jsxs("div",{className:v.teamHeader,children:[o.jsxs("div",{className:v.teamTitle,children:[o.jsx("div",{className:v.teamIcon,children:o.jsx(ii,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Team Members"}),o.jsx("p",{children:"Manage your team and collaborations"})]})]}),o.jsxs("button",{className:v.inviteBtn,onClick:I,children:[o.jsx(ht,{})," Invite Member"]})]}),o.jsxs("div",{className:v.teamStatsRow,children:[o.jsxs("div",{className:v.teamStatCard,children:[o.jsx("div",{className:v.teamStatIcon,children:o.jsx(ii,{})}),o.jsxs("div",{className:v.teamStatInfo,children:[o.jsx("span",{className:v.teamStatValue,children:Q.total}),o.jsx("span",{className:v.teamStatLabel,children:"Total Members"})]})]}),o.jsxs("div",{className:v.teamStatCard,children:[o.jsx("div",{className:v.teamStatIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.teamStatInfo,children:[o.jsx("span",{className:v.teamStatValue,children:Q.pending}),o.jsx("span",{className:v.teamStatLabel,children:"Pending Invites"})]})]}),o.jsxs("div",{className:v.teamStatCard,children:[o.jsx("div",{className:v.teamStatIcon,children:o.jsx(Tk,{})}),o.jsxs("div",{className:v.teamStatInfo,children:[o.jsx("span",{className:v.teamStatValue,children:Q.online}),o.jsx("span",{className:v.teamStatLabel,children:"Online Now"})]})]}),o.jsxs("div",{className:v.teamStatCard,children:[o.jsx("div",{className:v.teamStatIcon,children:o.jsx(lf,{})}),o.jsxs("div",{className:v.teamStatInfo,children:[o.jsx("span",{className:v.teamStatValue,children:Q.admins}),o.jsx("span",{className:v.teamStatLabel,children:"Admins"})]})]})]}),o.jsxs("div",{className:v.teamFilters,children:[o.jsxs("div",{className:v.teamSearch,children:[o.jsx(Bm,{}),o.jsx("input",{type:"text",placeholder:"Search members...",value:f,onChange:W=>p(W.target.value)})]}),o.jsxs("div",{className:v.teamFilterTabs,children:[o.jsxs("button",{className:`${v.teamFilterTab} ${d==="all"?v.active:""}`,onClick:()=>h("all"),children:["All (",r.length,")"]}),o.jsxs("button",{className:`${v.teamFilterTab} ${d==="pending"?v.active:""}`,onClick:()=>h("pending"),children:[o.jsx(St,{})," Pending (",i.length,")"]}),o.jsxs("button",{className:`${v.teamFilterTab} ${d==="admin"?v.active:""}`,onClick:()=>h("admin"),children:["Admins (",r.filter(W=>W.role==="admin").length,")"]}),o.jsxs("button",{className:`${v.teamFilterTab} ${d==="member"?v.active:""}`,onClick:()=>h("member"),children:["Members (",r.filter(W=>W.role==="member").length,")"]}),o.jsxs("button",{className:`${v.teamFilterTab} ${d==="viewer"?v.active:""}`,onClick:()=>h("viewer"),children:["Viewers (",r.filter(W=>W.role==="viewer").length,")"]})]})]}),d==="pending"&&o.jsxs("div",{className:v.invitationsSection,children:[o.jsxs("h3",{children:[o.jsx(Dy,{})," Pending Invitations"]}),U.length===0?o.jsxs("div",{className:v.emptyInvitations,children:[o.jsx(St,{}),o.jsx("p",{children:"No pending invitations"})]}):o.jsx("div",{className:v.invitationsGrid,children:U.map(W=>o.jsxs("div",{className:v.invitationCard,children:[o.jsx("div",{className:v.invitationAvatar,children:o.jsx("span",{children:W.name.charAt(0).toUpperCase()})}),o.jsxs("div",{className:v.invitationInfo,children:[o.jsx("h4",{children:W.name}),o.jsxs("p",{children:[o.jsx(pl,{})," ",W.email]}),o.jsx("span",{className:`${v.invitationRole} ${v[W.role]}`,children:W.role.charAt(0).toUpperCase()+W.role.slice(1)})]}),o.jsxs("div",{className:v.invitationActions,children:[o.jsxs("span",{className:v.pendingBadge,children:[o.jsx(St,{})," Waiting..."]}),o.jsx("button",{className:v.cancelBtn,onClick:()=>R(W.id),title:"Cancel invitation",children:o.jsx(ft,{})})]})]},W.id))})]}),d!=="pending"&&o.jsxs("div",{className:v.membersGrid,children:[A.map(W=>{const re=z[W.role].icon;return o.jsxs("div",{className:v.memberCard,children:[o.jsxs("div",{className:v.memberCardHeader,children:[o.jsxs("div",{className:v.memberAvatar,children:[o.jsx("span",{children:W.name.charAt(0).toUpperCase()}),o.jsx("span",{className:`${v.memberStatusDot} ${v[W.status]}`})]}),o.jsxs("div",{className:v.memberCardActions,children:[o.jsx("button",{onClick:()=>E(W),title:"Edit",children:o.jsx(ua,{})}),o.jsx("button",{onClick:()=>te(W.id),title:"Remove",children:o.jsx(rr,{})})]})]}),o.jsxs("div",{className:v.memberCardBody,children:[o.jsx("h3",{children:W.name}),o.jsxs("p",{children:[o.jsx(pl,{})," ",W.email]})]}),o.jsxs("div",{className:v.memberCardFooter,children:[o.jsxs("span",{className:`${v.memberRole} ${v[W.role]}`,children:[o.jsx(re,{})," ",z[W.role].label]}),W.auth_user_id?o.jsxs("span",{className:v.linkedStatus,children:[o.jsx(an,{})," Linked"]}):o.jsxs("span",{className:v.pendingStatus,children:[o.jsx(sn,{})," Pending Signup"]})]})]},W.id)}),o.jsxs("div",{className:v.addMemberCard,onClick:I,children:[o.jsx("div",{className:v.addMemberIcon,children:o.jsx(ht,{})}),o.jsx("span",{children:"Invite New Member"})]})]}),A.length===0&&d!=="pending"&&!c&&o.jsxs("div",{className:v.emptyTeam,children:[o.jsx(ii,{}),o.jsx("h3",{children:"No team members found"}),o.jsx("p",{children:"Invite members to start collaborating"}),o.jsxs("button",{className:v.inviteBtn,onClick:I,children:[o.jsx(ht,{})," Invite Member"]})]}),g&&o.jsx("div",{className:v.modal,onClick:()=>w(!1),children:o.jsxs("div",{className:v.modalContent,onClick:W=>W.stopPropagation(),children:[o.jsxs("div",{className:v.modalHeader,children:[o.jsx("h2",{children:b?"Edit Member":"Invite to Project"}),o.jsx("button",{className:v.closeBtn,onClick:()=>w(!1),children:o.jsx(ft,{})})]}),o.jsxs("form",{onSubmit:K,children:[!b&&o.jsxs("div",{className:v.formGroup,children:[o.jsxs("label",{children:[o.jsx(Pi,{})," Select Project ",o.jsx("span",{style:{color:"red"},children:"*"})]}),s.length===0?o.jsxs("div",{className:v.noProjectsWarning,children:[o.jsx(sn,{}),o.jsx("span",{children:"No projects available. "}),o.jsx("button",{type:"button",onClick:()=>_(!0),className:v.createProjectLink,children:"Create a project first"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("select",{value:x.project_id,onChange:W=>C({...x,project_id:W.target.value}),className:x.project_id?"":v.selectPlaceholder,children:[o.jsx("option",{value:"",children:"-- Select Project --"}),s.map(W=>o.jsx("option",{value:W.id,children:W.name},W.id))]}),o.jsxs("button",{type:"button",className:v.addProjectBtn,onClick:()=>_(!0),children:[o.jsx(Sk,{})," Create New Project"]})]})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Name"}),o.jsx("input",{type:"text",value:x.name,onChange:W=>C({...x,name:W.target.value}),placeholder:"Enter member name",autoFocus:!!b})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Email"}),o.jsx("input",{type:"email",value:x.email,onChange:W=>C({...x,email:W.target.value}),placeholder:"Enter email address"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Role"}),o.jsxs("select",{value:x.role,onChange:W=>C({...x,role:W.target.value}),children:[o.jsx("option",{value:"viewer",children:"Viewer"}),o.jsx("option",{value:"member",children:"Member"}),o.jsx("option",{value:"admin",children:"Admin"})]})]}),o.jsxs("div",{className:v.modalActions,children:[o.jsx("button",{type:"button",className:v.secondaryBtn,onClick:()=>w(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:v.primaryBtn,disabled:!b&&!x.project_id,children:b?"Save Changes":"Send Invite"})]})]})]})}),y&&o.jsx("div",{className:v.modal,onClick:()=>_(!1),children:o.jsxs("div",{className:v.modalContent,onClick:W=>W.stopPropagation(),children:[o.jsxs("div",{className:v.modalHeader,children:[o.jsxs("h2",{children:[o.jsx(Sk,{})," Create New Project"]}),o.jsx("button",{className:v.closeBtn,onClick:()=>_(!1),children:o.jsx(ft,{})})]}),o.jsxs("form",{onSubmit:W=>{W.preventDefault(),B()},children:[o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Project Name"}),o.jsx("input",{type:"text",value:S,onChange:W=>j(W.target.value),placeholder:"e.g., Website Redesign",autoFocus:!0})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Color"}),o.jsx("div",{className:v.colorPicker,children:["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#6b7280"].map(W=>o.jsx("button",{type:"button",className:`${v.colorOption} ${N===W?v.colorSelected:""}`,style:{backgroundColor:W},onClick:()=>T(W)},W))})]}),o.jsxs("div",{className:v.modalActions,children:[o.jsx("button",{type:"button",className:v.secondaryBtn,onClick:()=>_(!1),children:"Cancel"}),o.jsx("button",{type:"submit",className:v.primaryBtn,disabled:!S.trim(),children:"Create Project"})]})]})]})})]}):o.jsx("div",{className:v.teamView,children:o.jsxs("div",{className:v.emptyTeam,children:[o.jsx(ii,{}),o.jsx("h3",{children:"Please login to view team members"}),o.jsx("p",{children:"You need to be logged in to manage your team"})]})})}function YA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=YA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ke(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=YA(e))&&(n&&(n+=" "),n+=t);return n}var zde=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Sw(e){if(typeof e!="string")return!1;var t=zde;return t.includes(e)}var Ude=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Wde=new Set(Ude);function XA(e){return typeof e!="string"?!1:Wde.has(e)}function JA(e){return typeof e=="string"&&e.startsWith("data-")}function on(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(XA(r)||JA(r))&&(t[r]=e[r]);return t}function Zs(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return on(t)}return typeof e=="object"&&!Array.isArray(e)?on(e):null}function Ur(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(XA(r)||JA(r)||Sw(r))&&(t[r]=e[r]);return t}function Hde(e){return e==null?null:m.isValidElement(e)?Ur(e.props):typeof e=="object"&&!Array.isArray(e)?Ur(e):null}var qde=["children","width","height","viewBox","className","style","title","desc"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function Vde(e,t){if(e==null)return{};var r,n,i=Kde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QA=m.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:l,title:c,desc:u}=e,d=Vde(e,qde),h=a||{width:n,height:i,x:0,y:0},f=Ke("recharts-surface",s);return m.createElement("svg",Fy({},Ur(d),{className:f,width:n,height:i,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),m.createElement("title",null,c),m.createElement("desc",null,u),r)}),Gde=["children","className"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function Yde(e,t){if(e==null)return{};var r,n,i=Xde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ft=m.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Yde(e,Gde),a=Ke("recharts-layer",n);return m.createElement("g",zy({className:a},Ur(i),{ref:t}),r)}),Jde=m.createContext(null);function at(e){return function(){return e}}const ZA=Math.cos,pf=Math.sin,mi=Math.sqrt,vf=Math.PI,Vm=2*vf,Uy=Math.PI,Wy=2*Uy,Cs=1e-6,Qde=Wy-Cs;function eO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eO;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ehe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eO:Zde(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,l=this._y1,c=n-t,u=i-r,d=s-t,h=l-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>Cs)if(!(Math.abs(h*c-u*d)>Cs)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=i-l,w=c*c+u*u,y=p*p+g*g,_=Math.sqrt(w),b=Math.sqrt(f),k=a*Math.tan((Uy-Math.acos((w+f-y)/(2*_*b)))/2),x=k/b,C=k/_;Math.abs(x-1)>Cs&&this._append`L${t+x*d},${r+x*h}`,this._append`A${a},${a},0,0,${+(h*p>d*g)},${this._x1=t+C*c},${this._y1=r+C*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,h=1^s,f=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cs||Math.abs(this._y1-d)>Cs)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%Wy+Wy),f>Qde?this._append`A${n},${n},0,1,${h},${t-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>Cs&&this._append`A${n},${n},0,${+(f>=Uy)},${h},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Cw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ehe(t)}function Nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tO(e){this._context=e}tO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Km(e){return new tO(e)}function rO(e){return e[0]}function nO(e){return e[1]}function iO(e,t){var r=at(!0),n=null,i=Km,a=null,s=Cw(l);e=typeof e=="function"?e:e===void 0?rO:at(e),t=typeof t=="function"?t:t===void 0?nO:at(t);function l(c){var u,d=(c=Nw(c)).length,h,f=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(h,u,c),+t(h,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:at(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Ud(e,t,r){var n=null,i=at(!0),a=null,s=Km,l=null,c=Cw(u);e=typeof e=="function"?e:e===void 0?rO:at(+e),t=typeof t=="function"?t:at(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nO:at(+r);function u(h){var f,p,g,w=(h=Nw(h)).length,y,_=!1,b,k=new Array(w),x=new Array(w);for(a==null&&(l=s(b=c())),f=0;f<=w;++f){if(!(f<w&&i(y=h[f],f,h))===_)if(_=!_)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=f-1;g>=p;--g)l.point(k[g],x[g]);l.lineEnd(),l.areaEnd()}_&&(k[f]=+e(y,f,h),x[f]=+t(y,f,h),l.point(n?+n(y,f,h):k[f],r?+r(y,f,h):x[f]))}if(b)return l=null,b+""||null}function d(){return iO().defined(i).curve(s).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),n=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:at(+h),u):e},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:at(+h),u):n},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),r=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:at(+h),u):t},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:at(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:at(!!h),u):i},u.curve=function(h){return arguments.length?(s=h,a!=null&&(l=s(a)),u):s},u.context=function(h){return arguments.length?(h==null?a=l=null:l=s(a=h),u):a},u}class aO{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function the(e){return new aO(e,!0)}function rhe(e){return new aO(e,!1)}const Tw={draw(e,t){const r=mi(t/vf);e.moveTo(r,0),e.arc(0,0,r,0,Vm)}},nhe={draw(e,t){const r=mi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},sO=mi(1/3),ihe=sO*2,ahe={draw(e,t){const r=mi(t/ihe),n=r*sO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},she={draw(e,t){const r=mi(t),n=-r/2;e.rect(n,n,r,r)}},ohe=.8908130915292852,oO=pf(vf/10)/pf(7*vf/10),lhe=pf(Vm/10)*oO,che=-ZA(Vm/10)*oO,uhe={draw(e,t){const r=mi(t*ohe),n=lhe*r,i=che*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=Vm*a/5,l=ZA(s),c=pf(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Wv=mi(3),dhe={draw(e,t){const r=-mi(t/(Wv*3));e.moveTo(0,r*2),e.lineTo(-Wv*r,-r),e.lineTo(Wv*r,-r),e.closePath()}},Pn=-.5,An=mi(3)/2,Hy=1/mi(12),hhe=(Hy/2+1)*3,fhe={draw(e,t){const r=mi(t/hhe),n=r/2,i=r*Hy,a=n,s=r*Hy+r,l=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(l,c),e.lineTo(Pn*n-An*i,An*n+Pn*i),e.lineTo(Pn*a-An*s,An*a+Pn*s),e.lineTo(Pn*l-An*c,An*l+Pn*c),e.lineTo(Pn*n+An*i,Pn*i-An*n),e.lineTo(Pn*a+An*s,Pn*s-An*a),e.lineTo(Pn*l+An*c,Pn*c-An*l),e.closePath()}};function mhe(e,t){let r=null,n=Cw(i);e=typeof e=="function"?e:at(e||Tw),t=typeof t=="function"?t:at(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:at(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:at(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function gf(){}function yf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function lO(e){this._context=e}lO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function phe(e){return new lO(e)}function cO(e){this._context=e}cO.prototype={areaStart:gf,areaEnd:gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vhe(e){return new cO(e)}function uO(e){this._context=e}uO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ghe(e){return new uO(e)}function dO(e){this._context=e}dO.prototype={areaStart:gf,areaEnd:gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yhe(e){return new dO(e)}function Xk(e){return e<0?-1:1}function Jk(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),l=(a*i+s*n)/(n+i);return(Xk(a)+Xk(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(l))||0}function Qk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hv(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,s-l*r,a,s)}function _f(e){this._context=e}_f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hv(this,this._t0,Qk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hv(this,Qk(this,r=Jk(this,e,t)),r);break;default:Hv(this,this._t0,r=Jk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function hO(e){this._context=new fO(e)}(hO.prototype=Object.create(_f.prototype)).point=function(e,t){_f.prototype.point.call(this,t,e)};function fO(e){this._context=e}fO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function _he(e){return new _f(e)}function whe(e){return new hO(e)}function mO(e){this._context=e}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zk(e),i=Zk(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zk(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function xhe(e){return new mO(e)}function Gm(e,t){this._context=e,this._t=t}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function bhe(e){return new Gm(e,.5)}function khe(e){return new Gm(e,0)}function jhe(e){return new Gm(e,1)}function eo(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,l=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function She(e,t){return e[t]}function Che(e){const t=[];return t.key=e,t}function Nhe(){var e=at([]),t=qy,r=eo,n=She;function i(a){var s=Array.from(e.apply(this,arguments),Che),l,c=s.length,u=-1,d;for(const h of a)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(h,s[l].key,u,a)]).data=h;for(l=0,d=Nw(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:at(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:at(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?qy:typeof a=="function"?a:at(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??eo,i):r},i}function The(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}eo(e,t)}}function Ehe(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,l=0;s<i;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}eo(e,t)}}function Phe(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,g=0;g<l;++g){var w=e[t[g]],y=w[n][1]||0,_=w[n-1][1]||0;p+=y-_}c+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,eo(e,t)}}var Ym={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(pO);var Ew={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ew);var Xm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Xm);var Jm={},vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO,r=Xm;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let l=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),l++);l<s;){const h=i[l];u?h==="\\"&&l+1<s?(l++,c+=i[l]):h===u?u="":c+=h:d?h==='"'||h==="'"?u=h:h==="]"?(d=!1,a.push(c),c=""):c+=h:h==="["?(d=!0,c&&(a.push(c),c="")):h==="."?c&&(a.push(c),c=""):c+=h,l++}return c&&a.push(c),a}e.toPath=n})(Jm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO,r=Ew,n=Xm,i=Jm;function a(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?a(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function s(l,c,u){if(c.length===0)return u;let d=l;for(let h=0;h<c.length;h++){if(d==null||t.isUnsafeProperty(c[h]))return u;d=d[c[h]]}return d===void 0?u:d}e.get=a})(Ym);var Ahe=Ym.get;const to=ya(Ahe);var Ohe=4;function qa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ohe,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function It(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var l=r[s-1];return typeof l=="string"?i+l+a:l!==void 0?i+qa(l)+a:i+a},"")}var mr=e=>e===0?0:e>0?1:-1,hi=e=>typeof e=="number"&&e!=+e,ro=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,me=e=>(typeof e=="number"||e instanceof Number)&&!hi(e),Ri=e=>me(e)||typeof e=="string",Ihe=0,vu=e=>{var t=++Ihe;return"".concat(e||"").concat(t)},Ir=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!me(t)&&typeof t!="string")return n;var a;if(ro(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return hi(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},gO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function ut(e,t,r){return me(e)&&me(t)?qa(e+r*(t-e)):t}function yO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):to(n,t))===r)}var $t=e=>e===null||typeof e>"u",Vu=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Zr(e){return e!=null}function uo(){}var Dhe=["type","size","sizeType"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(n){Lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lhe(e,t,r){return(t=$he(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $he(e){var t=Rhe(e,"string");return typeof t=="symbol"?t:t+""}function Rhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mhe(e,t){if(e==null)return{};var r,n,i=Bhe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _O={symbolCircle:Tw,symbolCross:nhe,symbolDiamond:ahe,symbolSquare:she,symbolStar:uhe,symbolTriangle:dhe,symbolWye:fhe},Fhe=Math.PI/180,zhe=e=>{var t="symbol".concat(Vu(e));return _O[t]||Tw},Uhe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Fhe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Whe=(e,t)=>{_O["symbol".concat(Vu(e))]=t},wO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Mhe(e,Dhe),a=tj(tj({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var l=()=>{var f=zhe(s),p=mhe().type(f).size(Uhe(r,n,s)),g=p();if(g!==null)return g},{className:c,cx:u,cy:d}=a,h=Ur(a);return me(u)&&me(d)&&me(r)?m.createElement("path",Vy({},h,{className:Ke("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};wO.registerSymbol=Whe;var xO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Pw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Sw(i)&&(n[i]=a=>r[i](r,a))}),n},Hhe=(e,t,r)=>n=>(e(t,r,n),null),Qm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Sw(i)&&typeof a=="function"&&(n||(n={}),n[i]=Hhe(a,t,r))}),n};function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){Vhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vhe(e,t,r){return(t=Khe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Khe(e){var t=Ghe(e,"string");return typeof t=="symbol"?t:t+""}function Ghe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t){var r=qhe({},e),n=t,i=Object.keys(t),a=i.reduce((s,l)=>(s[l]===void 0&&n[l]!==void 0&&(s[l]=n[l]),s),r);return a}var bO={},kO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],l=n(s,a,r);i.has(l)||i.set(l,s)}return Array.from(i.values())}e.uniqBy=t})(kO);var jO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}e.ary=t})(jO);var Aw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Aw);var SO={},Zm={},CO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(CO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Zm);var NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(NO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zm,r=NO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(SO);var TO={},EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ym;function r(n){return function(i){return t.get(i,n)}}e.property=r})(EO);var PO={},Ow={},AO={},Iw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Iw);var Dw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Dw);var Lw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Lw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iw,r=Dw,n=Lw;function i(d,h,f){return typeof f!="function"?i(d,h,()=>{}):a(d,h,function p(g,w,y,_,b,k){const x=f(g,w,y,_,b,k);return x!==void 0?!!x:a(g,w,p,k)},new Map)}function a(d,h,f,p){if(h===d)return!0;switch(typeof h){case"object":return s(d,h,f,p);case"function":return Object.keys(h).length>0?a(d,{...h},f,p):n.isEqualsSameValueZero(d,h);default:return t.isObject(d)?typeof h=="string"?h==="":!0:n.isEqualsSameValueZero(d,h)}}function s(d,h,f,p){if(h==null)return!0;if(Array.isArray(h))return c(d,h,f,p);if(h instanceof Map)return l(d,h,f,p);if(h instanceof Set)return u(d,h,f,p);const g=Object.keys(h);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(h))return p.get(h)===d;p==null||p.set(h,d);try{for(let w=0;w<g.length;w++){const y=g[w];if(!r.isPrimitive(d)&&!(y in d)||h[y]===void 0&&d[y]!==void 0||h[y]===null&&d[y]!==null||!f(d[y],h[y],y,d,h,p))return!1}return!0}finally{p==null||p.delete(h)}}function l(d,h,f,p){if(h.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,w]of h.entries()){const y=d.get(g);if(f(y,w,g,d,h,p)===!1)return!1}return!0}function c(d,h,f,p){if(h.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let w=0;w<h.length;w++){const y=h[w];let _=!1;for(let b=0;b<d.length;b++){if(g.has(b))continue;const k=d[b];let x=!1;if(f(k,y,w,d,h,p)&&(x=!0),x){g.add(b),_=!0;break}}if(!_)return!1}return!0}function u(d,h,f,p){return h.size===0?!0:d instanceof Set?c([...d],[...h],f,p):!1}e.isMatchWith=i,e.isSetMatch=u})(AO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AO;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(Ow);var OO={},$w={},IO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(IO);var ep={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ep);var Rw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",h="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",w="[object DataView]",y="[object Uint8Array]",_="[object Uint8ClampedArray]",b="[object Uint16Array]",k="[object Uint32Array]",x="[object BigUint64Array]",C="[object Int8Array]",S="[object Int16Array]",j="[object Int32Array]",N="[object BigInt64Array]",T="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=N,e.bigUint64ArrayTag=x,e.booleanTag=i,e.dataViewTag=w,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=P,e.functionTag=h,e.int16ArrayTag=S,e.int32ArrayTag=j,e.int8ArrayTag=C,e.mapTag=c,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=k,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=_})(Rw);var DO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(DO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IO,r=ep,n=Rw,i=Dw,a=DO;function s(d,h){return l(d,void 0,d,new Map,h)}function l(d,h,f,p=new Map,g=void 0){const w=g==null?void 0:g(d,h,f,p);if(w!==void 0)return w;if(i.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const y=new Array(d.length);p.set(d,y);for(let _=0;_<d.length;_++)y[_]=l(d[_],_,f,p,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;p.set(d,y);for(const[_,b]of d)y.set(_,l(b,_,f,p,g));return y}if(d instanceof Set){const y=new Set;p.set(d,y);for(const _ of d)y.add(l(_,void 0,f,p,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,y);for(let _=0;_<d.length;_++)y[_]=l(d[_],_,f,p,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,y),c(y,d,f,p,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return p.set(d,y),c(y,d,f,p,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return p.set(d,y),c(y,d,f,p,g),y}if(d instanceof Error){const y=new d.constructor;return p.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,f,p,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return p.set(d,y),c(y,d,f,p,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return p.set(d,y),c(y,d,f,p,g),y}if(d instanceof String){const y=new String(d.valueOf());return p.set(d,y),c(y,d,f,p,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return p.set(d,y),c(y,d,f,p,g),y}return d}function c(d,h,f=d,p,g){const w=[...Object.keys(h),...t.getSymbols(h)];for(let y=0;y<w.length;y++){const _=w[y],b=Object.getOwnPropertyDescriptor(d,_);(b==null||b.writable)&&(d[_]=l(h[_],_,f,p,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=l,e.copyProperties=c})($w);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow,r=OO;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(PO);var LO={},$O={},RO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$w,r=ep,n=Rw;function i(a,s){return t.cloneDeepWith(a,(l,c,u,d)=>{const h=s==null?void 0:s(l,c,u,d);if(h!==void 0)return h;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const f={};return d.set(a,f),t.copyProperties(f,a,u,d),f}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case n.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}}})}e.cloneDeepWith=i})(RO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($O);var MO={},Mw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Mw);var BO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ep;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ew,r=Mw,n=BO,i=Jm;function a(s,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(s==null?void 0:s[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const h=c[d];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}e.has=a})(MO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ow,r=Xm,n=$O,i=Ym,a=MO;function s(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?a.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(LO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aw,r=EO,n=PO,i=LO;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kO,r=jO,n=Aw,i=SO,a=TO;function s(l,c=n.identity){return i.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(bO);var Yhe=bO.uniqBy;const nj=ya(Yhe);function Xhe(e,t,r){return t===!0?nj(e,r):typeof t=="function"?nj(e,t):e}var FO={exports:{}},zO={},UO={exports:{}},WO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=m;function Jhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qhe=typeof Object.is=="function"?Object.is:Jhe,Zhe=yl.useState,efe=yl.useEffect,tfe=yl.useLayoutEffect,rfe=yl.useDebugValue;function nfe(e,t){var r=t(),n=Zhe({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return tfe(function(){i.value=r,i.getSnapshot=t,qv(i)&&a({inst:i})},[e,r,t]),efe(function(){return qv(i)&&a({inst:i}),e(function(){qv(i)&&a({inst:i})})},[e]),rfe(r),r}function qv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qhe(e,r)}catch{return!0}}function ife(e,t){return t()}var afe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ife:nfe;WO.useSyncExternalStore=yl.useSyncExternalStore!==void 0?yl.useSyncExternalStore:afe;UO.exports=WO;var sfe=UO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp=m,ofe=sfe;function lfe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cfe=typeof Object.is=="function"?Object.is:lfe,ufe=ofe.useSyncExternalStore,dfe=tp.useRef,hfe=tp.useEffect,ffe=tp.useMemo,mfe=tp.useDebugValue;zO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=dfe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=ffe(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,cfe(d,p))return g;var w=n(p);return i!==void 0&&i(g,w)?(d=p,g):(d=p,h=w)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,i]);var l=ufe(e,a[0],a[1]);return hfe(function(){s.hasValue=!0,s.value=l},[l]),mfe(l),l};FO.exports=zO;var pfe=FO.exports,Bw=m.createContext(null),vfe=e=>e,bt=()=>{var e=m.useContext(Bw);return e?e.store.dispatch:vfe},bh=()=>{},gfe=()=>bh,yfe=(e,t)=>e===t;function we(e){var t=m.useContext(Bw),r=m.useMemo(()=>t?n=>{if(n!=null)return e(n)}:bh,[t,e]);return pfe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:gfe,t?t.store.getState:bh,t?t.store.getState:bh,r,yfe)}function _fe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wfe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xfe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var ij=e=>Array.isArray(e)?e:[e];function bfe(e){const t=Array.isArray(e[0])?e[0]:e;return xfe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kfe(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var jfe=class{constructor(e){this.value=e}deref(){return this.value}},Sfe=typeof WeakRef<"u"?WeakRef:jfe,Cfe=0,aj=1;function Wd(){return{s:Cfe,v:void 0,o:null,p:null}}function HO(e,t={}){let r=Wd();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var h;let l=r;const{length:c}=arguments;for(let f=0,p=c;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=l.o;w===null&&(l.o=w=new WeakMap);const y=w.get(g);y===void 0?(l=Wd(),w.set(g,l)):l=y}else{let w=l.p;w===null&&(l.p=w=new Map);const y=w.get(g);y===void 0?(l=Wd(),w.set(g,l)):l=y}}const u=l;let d;if(l.s===aj)d=l.v;else if(d=e.apply(null,arguments),a++,n){const f=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;f!=null&&n(f,d)&&(d=f,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Sfe(d):d}return u.s=aj,u.v=d,d}return s.clearCache=()=>{r=Wd(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Nfe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),_fe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:h,memoizeOptions:f=[],argsMemoize:p=HO,argsMemoizeOptions:g=[]}=d,w=ij(f),y=ij(g),_=bfe(i),b=h(function(){return a++,u.apply(null,arguments)},...w),k=p(function(){s++;const C=kfe(_,arguments);return l=b.apply(null,C),l},...y);return Object.assign(k,{resultFunc:u,memoizedResultFunc:b,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:h,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var F=Nfe(HO),Tfe=Object.assign((e,t=F)=>{wfe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,l,c)=>(s[r[c]]=l,s),{}))},{withTypes:()=>Tfe}),qO={},VO={},KO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),l=t(i);if(s===l&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?l-s:s-l}return 0};e.compareValues=r})(KO);var GO={},Fw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Fw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(GO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KO,r=GO,n=Jm;function i(a,s,l,c){if(a==null)return[];l=c?void 0:l,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(p=>String(p));const u=(p,g)=>{let w=p;for(let y=0;y<g.length&&w!=null;++y)w=w[g[y]];return w},d=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,h=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:h.map(g=>d(g,p))})).slice().sort((p,g)=>{for(let w=0;w<h.length;w++){const y=t.compareValues(p.criteria[w],g.criteria[w],l[w]);if(y!==0)return y}return 0}).map(p=>p.original)}e.orderBy=i})(VO);var YO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(r,0),i}e.flatten=t})(YO);var zw={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mw,r=Zm,n=Iw,i=Lw;function a(s,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],s):!1}e.isIterateeCall=a})(zw);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,r=YO,n=zw;function i(a,...s){const l=s.length;return l>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:l>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(qO);var Efe=qO.sortBy;const rp=ya(Efe);var XO=e=>e.legend.settings,Pfe=e=>e.legend.size,Afe=e=>e.legend.payload;F([Afe,XO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?rp(n,r):n});var Hd=1;function Ofe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Hd||Math.abs(s.left-t.left)>Hd||Math.abs(s.top-t.top)>Hd||Math.abs(s.width-t.width)>Hd)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function br(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Ife=typeof Symbol=="function"&&Symbol.observable||"@@observable",sj=Ife,Vv=()=>Math.random().toString(36).substring(7).split("").join("."),Dfe={INIT:`@@redux/INIT${Vv()}`,REPLACE:`@@redux/REPLACE${Vv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Vv()}`},wf=Dfe;function Uw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function JO(e,t,r){if(typeof e!="function")throw new Error(br(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(br(1));return r(JO)(e,t)}let n=e,i=t,a=new Map,s=a,l=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((y,_)=>{s.set(_,y)}))}function d(){if(c)throw new Error(br(3));return i}function h(y){if(typeof y!="function")throw new Error(br(4));if(c)throw new Error(br(5));let _=!0;u();const b=l++;return s.set(b,y),function(){if(_){if(c)throw new Error(br(6));_=!1,u(),s.delete(b),a=null}}}function f(y){if(!Uw(y))throw new Error(br(7));if(typeof y.type>"u")throw new Error(br(8));if(typeof y.type!="string")throw new Error(br(17));if(c)throw new Error(br(9));try{c=!0,i=n(i,y)}finally{c=!1}return(a=s).forEach(b=>{b()}),y}function p(y){if(typeof y!="function")throw new Error(br(10));n=y,f({type:wf.REPLACE})}function g(){const y=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(br(11));function b(){const x=_;x.next&&x.next(d())}return b(),{unsubscribe:y(b)}},[sj](){return this}}}return f({type:wf.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:p,[sj]:g}}function Lfe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wf.INIT})>"u")throw new Error(br(12));if(typeof r(void 0,{type:wf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(br(13))})}function QO(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{Lfe(r)}catch(a){i=a}return function(s={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const h=n[d],f=r[h],p=s[h],g=f(p,l);if(typeof g>"u")throw l&&l.type,new Error(br(14));u[h]=g,c=c||g!==p}return c=c||n.length!==Object.keys(s).length,c?u:s}}function xf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function $fe(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(br(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},l=e.map(c=>c(s));return a=xf(...l)(i.dispatch),{...i,dispatch:a}}}function ZO(e){return Uw(e)&&"type"in e&&typeof e.type=="string"}var eI=Symbol.for("immer-nothing"),oj=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function ti(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wn=Object,_l=wn.getPrototypeOf,bf="constructor",np="prototype",Ky="configurable",kf="enumerable",kh="writable",gu="value",da=e=>!!e&&!!e[Wr];function fi(e){var t;return e?tI(e)||ap(e)||!!e[oj]||!!((t=e[bf])!=null&&t[oj])||sp(e)||op(e):!1}var Rfe=wn[np][bf].toString(),lj=new WeakMap;function tI(e){if(!e||!Ww(e))return!1;const t=_l(e);if(t===null||t===wn[np])return!0;const r=wn.hasOwnProperty.call(t,bf)&&t[bf];if(r===Object)return!0;if(!Oo(r))return!1;let n=lj.get(r);return n===void 0&&(n=Function.toString.call(r),lj.set(r,n)),n===Rfe}function ip(e,t,r=!0){Ku(e)===0?(r?Reflect.ownKeys(e):wn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Ku(e){const t=e[Wr];return t?t.type_:ap(e)?1:sp(e)?2:op(e)?3:0}var cj=(e,t,r=Ku(e))=>r===2?e.has(t):wn[np].hasOwnProperty.call(e,t),Gy=(e,t,r=Ku(e))=>r===2?e.get(t):e[t],jf=(e,t,r,n=Ku(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Mfe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ap=Array.isArray,sp=e=>e instanceof Map,op=e=>e instanceof Set,Ww=e=>typeof e=="object",Oo=e=>typeof e=="function",Kv=e=>typeof e=="boolean";function Bfe(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ki=e=>e.copy_||e.base_,Hw=e=>e.modified_?e.copy_:e.base_;function Yy(e,t){if(sp(e))return new Map(e);if(op(e))return new Set(e);if(ap(e))return Array[np].slice.call(e);const r=tI(e);if(t===!0||t==="class_only"&&!r){const n=wn.getOwnPropertyDescriptors(e);delete n[Wr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l[kh]===!1&&(l[kh]=!0,l[Ky]=!0),(l.get||l.set)&&(n[s]={[Ky]:!0,[kh]:!0,[kf]:l[kf],[gu]:e[s]})}return wn.create(_l(e),n)}else{const n=_l(e);if(n!==null&&r)return{...e};const i=wn.create(n);return wn.assign(i,e)}}function qw(e,t=!1){return lp(e)||da(e)||!fi(e)||(Ku(e)>1&&wn.defineProperties(e,{set:qd,add:qd,clear:qd,delete:qd}),wn.freeze(e),t&&ip(e,(r,n)=>{qw(n,!0)},!1)),e}function Ffe(){ti(2)}var qd={[gu]:Ffe};function lp(e){return e===null||!Ww(e)?!0:wn.isFrozen(e)}var Sf="MapSet",Xy="Patches",uj="ArrayMethods",rI={};function no(e){const t=rI[e];return t||ti(0,e),t}var dj=e=>!!rI[e],yu,nI=()=>yu,zfe=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dj(Sf)?no(Sf):void 0,arrayMethodsPlugin_:dj(uj)?no(uj):void 0});function hj(e,t){t&&(e.patchPlugin_=no(Xy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jy(e){Qy(e),e.drafts_.forEach(Ufe),e.drafts_=null}function Qy(e){e===yu&&(yu=e.parent_)}var fj=e=>yu=zfe(yu,e);function Ufe(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Wr].modified_&&(Jy(t),ti(4)),fi(e)&&(e=pj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Wr].base_,e,t)}else e=pj(t,r);return Wfe(t,e,!0),Jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eI?e:void 0}function pj(e,t){if(lp(t))return t;const r=t[Wr];if(!r)return Cf(t,e.handledSet_,e);if(!cp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);sI(r,e)}return r.copy_}function Wfe(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&qw(t,r)}function iI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var cp=(e,t)=>e.scope_===t,Hfe=[];function aI(e,t,r,n){const i=Ki(e),a=e.type_;if(n!==void 0&&Gy(i,n,a)===t){jf(i,n,r,a);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;ip(i,(c,u)=>{if(da(u)){const d=l.get(u)||[];d.push(c),l.set(u,d)}})}const s=e.draftLocations_.get(t)??Hfe;for(const l of s)jf(i,l,r,a)}function qfe(e,t,r){e.callbacks_.push(function(i){var l;const a=t;if(!a||!cp(a,i))return;(l=i.mapSetPlugin_)==null||l.fixSetContents(a);const s=Hw(a);aI(e,a.draft_??a,s,r),sI(a,i)})}function sI(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}iI(e)}}function Vfe(e,t,r){const{scope_:n}=e;if(da(r)){const i=r[Wr];cp(i,n)&&i.callbacks_.push(function(){jh(e);const s=Hw(i);aI(e,r,s,t)})}else fi(r)&&e.callbacks_.push(function(){const a=Ki(e);e.type_===3?a.has(r)&&Cf(r,n.handledSet_,n):Gy(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Cf(Gy(e.copy_,t,e.type_),n.handledSet_,n)})}function Cf(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||da(e)||t.has(e)||!fi(e)||lp(e)||(t.add(e),ip(e,(n,i)=>{if(da(i)){const a=i[Wr];if(cp(a,r)){const s=Hw(a);jf(e,n,s,e.type_),iI(a)}}else fi(i)&&Cf(i,t,r)})),e}function Kfe(e,t){const r=ap(e),n={type_:r?1:0,scope_:t?t.scope_:nI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Nf;r&&(i=[n],a=_u);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,[l,n]}var Nf={get(e,t){if(t===Wr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Ki(e);if(!cj(i,t,e.type_))return Gfe(e,i,t);const a=i[t];if(e.finalized_||!fi(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&Bfe(t))return a;if(a===Gv(e.base_,t)){jh(e);const s=e.type_===1?+t:t,l=e_(e.scope_,a,e,s);return e.copy_[s]=l}return a},has(e,t){return t in Ki(e)},ownKeys(e){return Reflect.ownKeys(Ki(e))},set(e,t,r){const n=oI(Ki(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Gv(Ki(e),t),a=i==null?void 0:i[Wr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Mfe(r,i)&&(r!==void 0||cj(e.base_,t,e.type_)))return!0;jh(e),Zy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Vfe(e,t,r)),!0},deleteProperty(e,t){return jh(e),Gv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Zy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ki(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[kh]:!0,[Ky]:e.type_!==1||t!=="length",[kf]:n[kf],[gu]:r[t]}},defineProperty(){ti(11)},getPrototypeOf(e){return _l(e.base_)},setPrototypeOf(){ti(12)}},_u={};for(let e in Nf){let t=Nf[e];_u[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}_u.deleteProperty=function(e,t){return _u.set.call(this,e,t,void 0)};_u.set=function(e,t,r){return Nf.set.call(this,e[0],t,r,e[0])};function Gv(e,t){const r=e[Wr];return(r?Ki(r):e)[t]}function Gfe(e,t,r){var i;const n=oI(t,r);return n?gu in n?n[gu]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function oI(e,t){if(!(t in e))return;let r=_l(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=_l(r)}}function Zy(e){e.modified_||(e.modified_=!0,e.parent_&&Zy(e.parent_))}function jh(e){e.copy_||(e.assigned_=new Map,e.copy_=Yy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Yfe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Oo(r)&&!Oo(n)){const s=n;n=r;const l=this;return function(u=s,...d){return l.produce(u,h=>n.call(this,h,...d))}}Oo(n)||ti(6),i!==void 0&&!Oo(i)&&ti(7);let a;if(fi(r)){const s=fj(this),l=e_(s,r,void 0);let c=!0;try{a=n(l),c=!1}finally{c?Jy(s):Qy(s)}return hj(s,i),mj(a,s)}else if(!r||!Ww(r)){if(a=n(r),a===void 0&&(a=r),a===eI&&(a=void 0),this.autoFreeze_&&qw(a,!0),i){const s=[],l=[];no(Xy).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:l}),i(s,l)}return a}else ti(1,r)},this.produceWithPatches=(r,n)=>{if(Oo(r))return(l,...c)=>this.produceWithPatches(l,u=>r(u,...c));let i,a;return[this.produce(r,n,(l,c)=>{i=l,a=c}),i,a]},Kv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Kv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Kv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fi(t)||ti(8),da(t)&&(t=oi(t));const r=fj(this),n=e_(r,t,void 0);return n[Wr].isManual_=!0,Qy(r),n}finishDraft(t,r){const n=t&&t[Wr];(!n||!n.isManual_)&&ti(9);const{scope_:i}=n;return hj(i,r),mj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=no(Xy).applyPatches_;return da(t)?i(t,r):this.produce(t,a=>i(a,r))}};function e_(e,t,r,n){const[i,a]=sp(t)?no(Sf).proxyMap_(t,r):op(t)?no(Sf).proxySet_(t,r):Kfe(t,r);return((r==null?void 0:r.scope_)??nI()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?qfe(r,a,n):a.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function oi(e){return da(e)||ti(10,e),lI(e)}function lI(e){if(!fi(e)||lp(e))return e;const t=e[Wr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Yy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Yy(e,!0);return ip(r,(i,a)=>{jf(r,i,lI(a))},n),t&&(t.finalized_=!1),r}var Xfe=new Yfe,cI=Xfe.produce;function uI(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var Jfe=uI(),Qfe=uI,Zfe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?xf:xf.apply(null,arguments)};function zn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(bn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ZO(n)&&n.type===e,r}var dI=class bc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bc.prototype)}static get[Symbol.species](){return bc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bc(...t[0].concat(this)):new bc(...t.concat(this))}};function vj(e){return fi(e)?cI(e,()=>{}):e}function Vd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function eme(e){return typeof e=="boolean"}var tme=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new dI;return r&&(eme(r)?s.push(Jfe):s.push(Qfe(r.extraArgument))),s},hI="RTK_autoBatch",_t=()=>e=>({payload:e,meta:{[hI]:!0}}),gj=e=>t=>{setTimeout(t,e)},fI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gj(10):e.type==="callback"?e.queueNotification:gj(e.timeout),u=()=>{s=!1,a&&(a=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const h=()=>i&&d(),f=n.subscribe(h);return l.add(d),()=>{f(),l.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[hI]),a=!i,a&&(s||(s=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},rme=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new dI(e);return n&&i.push(fI(typeof n=="object"?n:void 0)),i};function nme(e){const t=tme(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Uw(r))l=QO(r);else throw new Error(bn(1));let c;typeof n=="function"?c=n(t):c=t();let u=xf;i&&(u=Zfe({trace:!1,...typeof i=="object"&&i}));const d=$fe(...c),h=rme(d);let f=typeof s=="function"?s(h):h();const p=u(...f);return JO(l,a,p)}function mI(e){const t={},r=[];let n;const i={addCase(a,s){const l=typeof a=="string"?a:a.type;if(!l)throw new Error(bn(28));if(l in t)throw new Error(bn(29));return t[l]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function ime(e){return typeof e=="function"}function ame(e,t){let[r,n,i]=mI(t),a;if(ime(e))a=()=>vj(e());else{const l=vj(e);a=()=>l}function s(l=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,h)=>{if(h)if(da(d)){const p=h(d,c);return p===void 0?d:p}else{if(fi(d))return cI(d,f=>h(f,c));{const f=h(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},l)}return s.getInitialState=a,s}var sme="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ome=(e=21)=>{let t="",r=e;for(;r--;)t+=sme[Math.random()*64|0];return t},lme=Symbol.for("rtk-slice-createasyncthunk");function cme(e,t){return`${e}/${t}`}function ume({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lme];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(bn(11));const l=(typeof i.reducers=="function"?i.reducers(hme()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(x,C){const S=typeof x=="string"?x:x.type;if(!S)throw new Error(bn(12));if(S in u.sliceCaseReducersByType)throw new Error(bn(13));return u.sliceCaseReducersByType[S]=C,d},addMatcher(x,C){return u.sliceMatchers.push({matcher:x,reducer:C}),d},exposeAction(x,C){return u.actionCreators[x]=C,d},exposeCaseReducer(x,C){return u.sliceCaseReducersByName[x]=C,d}};c.forEach(x=>{const C=l[x],S={reducerName:x,type:cme(a,x),createNotation:typeof i.reducers=="function"};mme(C)?vme(S,C,d,t):fme(S,C,d)});function h(){const[x={},C=[],S=void 0]=typeof i.extraReducers=="function"?mI(i.extraReducers):[i.extraReducers],j={...x,...u.sliceCaseReducersByType};return ame(i.initialState,N=>{for(let T in j)N.addCase(T,j[T]);for(let T of u.sliceMatchers)N.addMatcher(T.matcher,T.reducer);for(let T of C)N.addMatcher(T.matcher,T.reducer);S&&N.addDefaultCase(S)})}const f=x=>x,p=new Map,g=new WeakMap;let w;function y(x,C){return w||(w=h()),w(x,C)}function _(){return w||(w=h()),w.getInitialState()}function b(x,C=!1){function S(N){let T=N[x];return typeof T>"u"&&C&&(T=Vd(g,S,_)),T}function j(N=f){const T=Vd(p,C,()=>new WeakMap);return Vd(T,N,()=>{const P={};for(const[I,E]of Object.entries(i.selectors??{}))P[I]=dme(E,N,()=>Vd(g,N,_),C);return P})}return{reducerPath:x,getSelectors:j,get selectors(){return j(S)},selectSlice:S}}const k={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...b(s),injectInto(x,{reducerPath:C,...S}={}){const j=C??s;return x.inject({reducerPath:j,reducer:y},S),{...k,...b(j,!0)}}};return k}}function dme(e,t,r,n){function i(a,...s){let l=t(a);return typeof l>"u"&&n&&(l=r()),e(l,...s)}return i.unwrapped=e,i}var ln=ume();function hme(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function fme({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!pme(n))throw new Error(bn(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?zn(e,s):zn(e))}function mme(e){return e._reducerDefinitionType==="asyncThunk"}function pme(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vme({type:e,reducerName:t},r,n,i){if(!i)throw new Error(bn(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=r,h=i(e,a,d);n.exposeAction(t,h),s&&n.addCase(h.fulfilled,s),l&&n.addCase(h.pending,l),c&&n.addCase(h.rejected,c),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Kd,pending:l||Kd,rejected:c||Kd,settled:u||Kd})}function Kd(){}var gme="task",pI="listener",vI="completed",Vw="cancelled",yme=`task-${Vw}`,_me=`task-${vI}`,t_=`${pI}-${Vw}`,wme=`${pI}-${vI}`,up=class{constructor(e){Gl(this,"name","TaskAbortError");Gl(this,"message");this.code=e,this.message=`${gme} ${Vw} (reason: ${e})`}},Kw=(e,t)=>{if(typeof e!="function")throw new TypeError(bn(32))},Tf=()=>{},gI=(e,t=Tf)=>(e.catch(t),e),yI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ws=e=>{if(e.aborted)throw new up(e.reason)};function _I(e,t){let r=Tf;return new Promise((n,i)=>{const a=()=>i(new up(e.reason));if(e.aborted){a();return}r=yI(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Tf})}var xme=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof up?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ef=e=>t=>gI(_I(e,t).then(r=>(Ws(e),r))),wI=e=>{const t=Ef(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:nl}=Object,yj={},dp="listenerMiddleware",bme=(e,t)=>{const r=n=>yI(e,()=>n.abort(e.reason));return(n,i)=>{Kw(n);const a=new AbortController;r(a);const s=xme(async()=>{Ws(e),Ws(a.signal);const l=await n({pause:Ef(a.signal),delay:wI(a.signal),signal:a.signal});return Ws(a.signal),l},()=>a.abort(_me));return i!=null&&i.autoJoin&&t.push(s.catch(Tf)),{result:Ef(e)(s),cancel(){a.abort(yme)}}}},kme=(e,t)=>{const r=async(n,i)=>{Ws(t);let a=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(h,f)=>{f.unsubscribe(),c([h,f.getState(),f.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await _I(t,Promise.race(l));return Ws(t),c}finally{a()}};return(n,i)=>gI(r(n,i))},xI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=zn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(bn(21));return Kw(a),{predicate:i,type:t,effect:a}},bI=nl(e=>{const{type:t,predicate:r,effect:n}=xI(e);return{id:ome(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bn(22))}}},{withTypes:()=>bI}),_j=(e,t)=>{const{type:r,effect:n,predicate:i}=xI(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},r_=e=>{e.pending.forEach(t=>{t.abort(t_)})},jme=(e,t)=>()=>{for(const r of t.keys())r_(r);e.clear()},wj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},kI=nl(zn(`${dp}/add`),{withTypes:()=>kI}),Sme=zn(`${dp}/removeAll`),jI=nl(zn(`${dp}/remove`),{withTypes:()=>jI}),Cme=(...e)=>{console.error(`${dp}/error`,...e)},Gu=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:a,onError:s=Cme}=e;Kw(s);const l=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&r_(p)}),c=p=>{const g=_j(t,p)??bI(p);return l(g)};nl(c,{withTypes:()=>c});const u=p=>{const g=_j(t,p);return g&&(g.unsubscribe(),p.cancelActive&&r_(g)),!!g};nl(u,{withTypes:()=>u});const d=async(p,g,w,y)=>{const _=new AbortController,b=kme(c,_.signal),k=[];try{p.pending.add(_),n(p),await Promise.resolve(p.effect(g,nl({},w,{getOriginalState:y,condition:(x,C)=>b(x,C).then(Boolean),take:b,delay:wI(_.signal),pause:Ef(_.signal),extra:a,signal:_.signal,fork:bme(_.signal,k),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((x,C,S)=>{x!==_&&(x.abort(t_),S.delete(x))})},cancel:()=>{_.abort(t_),p.pending.delete(_)},throwIfCancelled:()=>{Ws(_.signal)}})))}catch(x){x instanceof up||wj(s,x,{raisedBy:"effect"})}finally{await Promise.all(k),_.abort(wme),i(p),p.pending.delete(_)}},h=jme(t,r);return{middleware:p=>g=>w=>{if(!ZO(w))return g(w);if(kI.match(w))return c(w.payload);if(Sme.match(w)){h();return}if(jI.match(w))return u(w.payload);let y=p.getState();const _=()=>{if(y===yj)throw new Error(bn(23));return y};let b;try{if(b=g(w),t.size>0){const k=p.getState(),x=Array.from(t.values());for(const C of x){let S=!1;try{S=C.predicate(w,k,y)}catch(j){S=!1,wj(s,j,{raisedBy:"predicate"})}S&&d(C,w,p,_)}}}finally{y=yj}return b},startListening:c,stopListening:u,clearListeners:h}};function bn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nme={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},SI=ln({name:"chartLayout",initialState:Nme,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Tme,setLayout:Eme,setChartSize:Pme,setScale:Ame}=SI.actions,Ome=SI.reducer;function CI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function De(e){return Number.isFinite(e)}function Mi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xj(Object(r),!0).forEach(function(n){Ime(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ime(e,t,r){return(t=Dme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dme(e){var t=Lme(e,"string");return typeof t=="symbol"?t:t+""}function Lme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function et(e,t,r){return $t(e)||$t(t)?r:Ri(t)?to(e,t,r):typeof t=="function"?t(e):r}var $me=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:l}=t;if((l==="vertical"||l==="horizontal"&&s==="middle")&&a!=="center"&&me(e[a]))return Vo(Vo({},e),{},{[a]:e[a]+(n||0)});if((l==="horizontal"||l==="vertical"&&a==="center")&&s!=="middle"&&me(e[s]))return Vo(Vo({},e),{},{[s]:e[s]+(i||0)})}return e},zi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",NI=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,a,s=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(a=!0),l.coordinate));return i||s.push(t),a||s.push(r),s},TI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:h,niceTicks:f,axisType:p}=e;if(!s)return null;var g=l==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,w=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(w=p==="angleAxis"&&a&&a.length>=2?mr(a[0]-a[1])*2*w:w,h||f){var y=(h||f||[]).map((_,b)=>{var k=n?n.indexOf(_):_,x=s.map(k);return De(x)?{coordinate:x+w,value:_,offset:w,index:b}:null}).filter(Zr);return y}return c&&u?u.map((_,b)=>{var k=s.map(_);return De(k)?{coordinate:k+w,value:_,index:b,offset:w}:null}).filter(Zr):s.ticks&&d!=null?s.ticks(d).map((_,b)=>{var k=s.map(_);return De(k)?{coordinate:k+w,value:_,index:b,offset:w}:null}).filter(Zr):s.domain().map((_,b)=>{var k=s.map(_);return De(k)?{coordinate:k+w,value:n?n[_]:_,index:b,offset:w}:null}).filter(Zr)},Rme=(e,t)=>{if(!t||t.length!==2||!me(t[0])||!me(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!me(e[0])||e[0]<r)&&(i[0]=r),(!me(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},Mme=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,l=0;l<r;++l){var c=e[l],u=c==null?void 0:c[i];if(u!=null){var d=u[1],h=u[0],f=hi(d)?h:d;f>=0?(u[0]=a,a+=f,u[1]=a):(u[0]=s,s+=f,u[1]=s)}}}},Bme=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var l=e[s],c=l==null?void 0:l[i];if(c!=null){var u=hi(c[1])?c[0]:c[1];u>=0?(c[0]=a,a+=u,c[1]=a):(c[0]=0,c[1]=0)}}}},Fme={sign:Mme,expand:The,none:eo,silhouette:Ehe,wiggle:Phe,positive:Bme},zme=(e,t,r)=>{var n,i=(n=Fme[r])!==null&&n!==void 0?n:eo,a=Nhe().keys(t).value((l,c)=>Number(et(l,c,0))).order(qy).offset(i),s=a(e);return s.forEach((l,c)=>{l.forEach((u,d)=>{var h=et(e[d],t[c],0);Array.isArray(h)&&h.length===2&&me(h[0])&&me(h[1])&&(u[0]=h[0],u[1]=h[1])})}),s};function EI(e){return e==null?void 0:String(e)}function bj(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$t(i[t.dataKey])){var l=yO(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=et(i,$t(s)?t.dataKey:s),u=t.scale.map(c);return me(u)?u:null}var kj=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var l=et(a,t.dataKey,t.scale.domain()[s]);if($t(l))return null;var c=t.scale.map(l);return me(c)?c-i/2+n:null},Ume=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},Wme=e=>{var t=e.flat(2).filter(me);return[Math.min(...t),Math.max(...t)]},Hme=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qme=(e,t,r)=>{if(e!=null)return Hme(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,l=s.reduce((c,u)=>{var d=CI(u,t,r),h=Wme(d);return!De(h[0])||!De(h[1])?c:[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},jj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=rp(t,d=>d.coordinate),a=1/0,s=1,l=i.length;s<l;s++){var c=i[s],u=i[s-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Cj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Vo(Vo({},t),{},{dataKey:r,payload:n,value:i,name:a})}function $l(e,t){if(e)return String(e);if(typeof t=="string")return t}var Vme=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Kme=(e,t)=>t==="centric"?e.angle:e.radius,ba=e=>e.layout.width,ka=e=>e.layout.height,Gme=e=>e.layout.scale,PI=e=>e.layout.margin,hp=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fp=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AI="data-recharts-item-index",OI="data-recharts-item-id",Yu=60;function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){Yme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yme(e,t,r){return(t=Xme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e){var t=Jme(e,"string");return typeof t=="symbol"?t:t+""}function Jme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qme=e=>e.brush.height;function Zme(e){var t=fp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Yu;return r+i}return r},0)}function epe(e){var t=fp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Yu;return r+i}return r},0)}function tpe(e){var t=hp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function rpe(e){var t=hp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ir=F([ba,ka,PI,Qme,Zme,epe,tpe,rpe,XO,Pfe],(e,t,r,n,i,a,s,l,c,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+a},h={top:(r.top||0)+s,bottom:(r.bottom||0)+l},f=Gd(Gd({},h),d),p=f.bottom;f.bottom+=n,f=$me(f,c,u);var g=e-f.left-f.right,w=t-f.top-f.bottom;return Gd(Gd({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(w,0)})}),npe=F(ir,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gw=F(ba,ka,(e,t)=>({x:0,y:0,width:e,height:t})),ipe=m.createContext(null),Lr=()=>m.useContext(ipe)!=null,mp=e=>e.brush,pp=F([mp,ir,PI],(e,t,r)=>({height:e.height,x:me(e.x)?e.x:t.left,y:me(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:me(e.width)?e.width:t.width})),II={},DI={},LI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,l=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{l!==null&&(r.apply(s,l),s=void 0,l=null)},h=()=>{u&&d(),w()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},n)},g=()=>{f!==null&&(clearTimeout(f),f=null)},w=()=>{g(),s=void 0,l=null},y=()=>{d()},_=function(...b){if(i!=null&&i.aborted)return;s=this,l=b;const k=f==null;p(),c&&k&&d()};return _.schedule=p,_.cancel=w,_.flush=y,i==null||i.addEventListener("abort",w,{once:!0}),_}e.debounce=t})(LI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LI;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:l=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),l&&(u[1]="trailing");let d,h=null;const f=t.debounce(function(...w){d=n.apply(this,w),h=null},i,{edges:u}),p=function(...w){return c!=null&&(h===null&&(h=Date.now()),Date.now()-h>=c)?(d=n.apply(this,w),h=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,w),d)},g=()=>(f.flush(),d);return p.cancel=f.cancel,p.flush=g,p}e.debounce=r})(DI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI;function r(n,i=0,a={}){const{leading:s=!0,trailing:l=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:l})}e.throttle=r})(II);var ape=II.throttle;const spe=ya(ape);var Pf=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},Ai={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$I=(e,t,r)=>{var{width:n=Ai.width,height:i=Ai.height,aspect:a,maxHeight:s}=r,l=ro(n)?e:Number(n),c=ro(i)?t:Number(i);return a&&a>0&&(l?c=l/a:c&&(l=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:l,calculatedHeight:c}},ope={width:0,height:0,overflow:"visible"},lpe={width:0,overflowX:"visible"},cpe={height:0,overflowY:"visible"},upe={},dpe=e=>{var{width:t,height:r}=e,n=ro(t),i=ro(r);return n&&i?ope:n?lpe:i?cpe:upe};function hpe(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i=Ai.width,a=Ai.height):i===void 0?i=n&&n>0?void 0:Ai.width:a===void 0&&(a=n&&n>0?void 0:Ai.height),{width:i,height:a}}function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n_.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){fpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fpe(e,t,r){return(t=mpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mpe(e){var t=ppe(e,"string");return typeof t=="symbol"?t:t+""}function ppe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RI=m.createContext(Ai.initialDimension);function vpe(e){return Mi(e.width)&&Mi(e.height)}function MI(e){var{children:t,width:r,height:n}=e,i=m.useMemo(()=>({width:r,height:n}),[r,n]);return vpe(i)?m.createElement(RI.Provider,{value:i},t):null}var Yw=()=>m.useContext(RI),gpe=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ai.initialDimension,width:i,height:a,minWidth:s=Ai.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=Ai.debounce,id:h,className:f,onResize:p,style:g={}}=e,w=m.useRef(null),y=m.useRef();y.current=p,m.useImperativeHandle(t,()=>w.current);var[_,b]=m.useState({containerWidth:n.width,containerHeight:n.height}),k=m.useCallback((N,T)=>{b(P=>{var I=Math.round(N),E=Math.round(T);return P.containerWidth===I&&P.containerHeight===E?P:{containerWidth:I,containerHeight:E}})},[]);m.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return uo;var N=E=>{var B,K=E[0];if(K!=null){var{width:R,height:te}=K.contentRect;k(R,te),(B=y.current)===null||B===void 0||B.call(y,R,te)}};d>0&&(N=spe(N,d,{trailing:!0,leading:!1}));var T=new ResizeObserver(N),{width:P,height:I}=w.current.getBoundingClientRect();return k(P,I),T.observe(w.current),()=>{T.disconnect()}},[k,d]);var{containerWidth:x,containerHeight:C}=_;Pf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:j}=$I(x,C,{width:i,height:a,aspect:r,maxHeight:c});return Pf(S!=null&&S>0||j!=null&&j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,j,i,a,s,l,r),m.createElement("div",{id:h?"".concat(h):void 0,className:Ke("recharts-responsive-container",f),style:Ej(Ej({},g),{},{width:i,height:a,minWidth:s,minHeight:l,maxHeight:c}),ref:w},m.createElement("div",{style:dpe({width:i,height:a})},m.createElement(MI,{width:S,height:j},u)))}),Yd=m.forwardRef((e,t)=>{var r=Yw();if(Mi(r.width)&&Mi(r.height))return e.children;var{width:n,height:i}=hpe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=$I(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return me(a)&&me(s)?m.createElement(MI,{width:a,height:s},e.children):m.createElement(gpe,n_({},e,{width:n,height:i,ref:t}))});function Xw(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var vp=()=>{var e,t=Lr(),r=we(npe),n=we(pp),i=(e=we(mp))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ype={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BI=()=>{var e;return(e=we(ir))!==null&&e!==void 0?e:ype},FI=()=>we(ba),zI=()=>we(ka),Fe=e=>e.layout.layoutType,ho=()=>we(Fe),Jw=()=>{var e=ho();if(e==="horizontal"||e==="vertical")return e},UI=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},_pe=()=>{var e=ho();return e!==void 0},Xu=e=>{var t=bt(),r=Lr(),{width:n,height:i}=e,a=Yw(),s=n,l=i;return a&&(s=a.width>0?a.width:n,l=a.height>0?a.height:i),m.useEffect(()=>{!r&&Mi(s)&&Mi(l)&&t(Pme({width:s,height:l}))},[t,r,s,l]),null},WI=Symbol.for("immer-nothing"),Pj=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function ri(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wu=Object.getPrototypeOf;function xl(e){return!!e&&!!e[jn]}function io(e){var t;return e?HI(e)||Array.isArray(e)||!!e[Pj]||!!((t=e.constructor)!=null&&t[Pj])||Ju(e)||yp(e):!1}var wpe=Object.prototype.constructor.toString(),Aj=new WeakMap;function HI(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Aj.get(r);return n===void 0&&(n=Function.toString.call(r),Aj.set(r,n)),n===wpe}function Af(e,t,r=!0){gp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function gp(e){const t=e[jn];return t?t.type_:Array.isArray(e)?1:Ju(e)?2:yp(e)?3:0}function i_(e,t){return gp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qI(e,t,r){const n=gp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function xpe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ju(e){return e instanceof Map}function yp(e){return e instanceof Set}function Ns(e){return e.copy_||e.base_}function a_(e,t){if(Ju(e))return new Map(e);if(yp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=HI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],l=n[s];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[s]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[s]})}return Object.create(wu(e),n)}else{const n=wu(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Qw(e,t=!1){return _p(e)||xl(e)||!io(e)||(gp(e)>1&&Object.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Qw(r,!0))),e}function bpe(){ri(2)}var Xd={value:bpe};function _p(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var kpe={};function ao(e){const t=kpe[e];return t||ri(0,e),t}var xu;function VI(){return xu}function jpe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Oj(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function s_(e){o_(e),e.drafts_.forEach(Spe),e.drafts_=null}function o_(e){e===xu&&(xu=e.parent_)}function Ij(e){return xu=jpe(xu,e)}function Spe(e){const t=e[jn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Dj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jn].modified_&&(s_(t),ri(4)),io(e)&&(e=Of(t,e),t.parent_||If(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[jn].base_,e,t.patches_,t.inversePatches_)):e=Of(t,r,[]),s_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==WI?e:void 0}function Of(e,t,r){if(_p(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[jn];if(!i)return Af(t,(a,s)=>Lj(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return If(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,l=!1;i.type_===3&&(s=new Set(a),a.clear(),l=!0),Af(s,(c,u)=>Lj(e,i,a,c,u,r,l),n),If(e,a,!1),r&&e.patches_&&ao("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function Lj(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const l=_p(i);if(!(l&&!s)){if(xl(i)){const c=a&&t&&t.type_!==3&&!i_(t.assigned_,n)?a.concat(n):void 0,u=Of(e,i,c);if(qI(r,n,u),xl(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(io(i)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&l)return;Of(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ju(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&If(e,i)}}}function If(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qw(t,r)}function Cpe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:VI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=Zw;r&&(i=[n],a=bu);const{revoke:s,proxy:l}=Proxy.revocable(i,a);return n.draft_=l,n.revoke_=s,l}var Zw={get(e,t){if(t===jn)return e;const r=Ns(e);if(!i_(r,t))return Npe(e,r,t);const n=r[t];return e.finalized_||!io(n)?n:n===Yv(e.base_,t)?(Xv(e),e.copy_[t]=c_(n,e)):n},has(e,t){return t in Ns(e)},ownKeys(e){return Reflect.ownKeys(Ns(e))},set(e,t,r){const n=KI(Ns(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Yv(Ns(e),t),a=i==null?void 0:i[jn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(xpe(r,i)&&(r!==void 0||i_(e.base_,t)))return!0;Xv(e),l_(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xv(e),l_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ns(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ri(11)},getPrototypeOf(e){return wu(e.base_)},setPrototypeOf(){ri(12)}},bu={};Af(Zw,(e,t)=>{bu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bu.deleteProperty=function(e,t){return bu.set.call(this,e,t,void 0)};bu.set=function(e,t,r){return Zw.set.call(this,e[0],t,r,e[0])};function Yv(e,t){const r=e[jn];return(r?Ns(r):e)[t]}function Npe(e,t,r){var i;const n=KI(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function KI(e,t){if(!(t in e))return;let r=wu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=wu(r)}}function l_(e){e.modified_||(e.modified_=!0,e.parent_&&l_(e.parent_))}function Xv(e){e.copy_||(e.copy_=a_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Tpe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(c=a,...u){return s.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&ri(6),n!==void 0&&typeof n!="function"&&ri(7);let i;if(io(t)){const a=Ij(this),s=c_(t,void 0);let l=!0;try{i=r(s),l=!1}finally{l?s_(a):o_(a)}return Oj(a,n),Dj(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===WI&&(i=void 0),this.autoFreeze_&&Qw(i,!0),n){const a=[],s=[];ao("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else ri(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...l)=>this.produceWithPatches(s,c=>t(c,...l));let n,i;return[this.produce(t,r,(s,l)=>{n=s,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){io(e)||ri(8),xl(e)&&(e=Epe(e));const t=Ij(this),r=c_(e,void 0);return r[jn].isManual_=!0,o_(t),r}finishDraft(e,t){const r=e&&e[jn];(!r||!r.isManual_)&&ri(9);const{scope_:n}=r;return Oj(n,t),Dj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ao("Patches").applyPatches_;return xl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function c_(e,t){const r=Ju(e)?ao("MapSet").proxyMap_(e,t):yp(e)?ao("MapSet").proxySet_(e,t):Cpe(e,t);return(t?t.scope_:VI()).drafts_.push(r),r}function Epe(e){return xl(e)||ri(10,e),GI(e)}function GI(e){if(!io(e)||_p(e))return e;const t=e[jn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=a_(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=a_(e,!0);return Af(r,(i,a)=>{qI(r,i,GI(a))},n),t&&(t.finalized_=!1),r}var Ppe=new Tpe;Ppe.produce;var Ape={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YI=ln({name:"legend",initialState:Ape,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:_t()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oi(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:_t()},removeLegendPayload:{reducer(e,t){var r=oi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:_t()}}}),{setLegendSize:OEe,setLegendSettings:IEe,addLegendPayload:XI,replaceLegendPayload:JI,removeLegendPayload:QI}=YI.actions,Ope=YI.reducer;function u_(){return u_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u_.apply(null,arguments)}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){Ipe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ipe(e,t,r){return(t=Dpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dpe(e){var t=Lpe(e,"string");return typeof t=="symbol"?t:t+""}function Lpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $pe(e){return Array.isArray(e)&&Ri(e[0])&&Ri(e[1])?e.join(" ~ "):e}var So={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Rpe=e=>{var{separator:t=So.separator,contentStyle:r,itemStyle:n,labelStyle:i=So.labelStyle,payload:a,formatter:s,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=So.accessibilityLayer}=e,p=()=>{if(a&&a.length){var C={padding:0,margin:0},S=(l?rp(a,l):a).map((j,N)=>{if(j.type==="none")return null;var T=j.formatter||s||$pe,{value:P,name:I}=j,E=P,B=I;if(T){var K=T(P,I,j,N,a);if(Array.isArray(K))[E,B]=K;else if(K!=null)E=K;else return null}var R=oc(oc({},So.itemStyle),{},{color:j.color||So.itemStyle.color},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:R},Ri(B)?m.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ri(B)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},E),m.createElement("span",{className:"recharts-tooltip-item-unit"},j.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:C},S)}return null},g=oc(oc({},So.contentStyle),r),w=oc({margin:0},i),y=!$t(d),_=y?d:"",b=Ke("recharts-default-tooltip",c),k=Ke("recharts-tooltip-label",u);y&&h&&a!==void 0&&a!==null&&(_=h(d,a));var x=f?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",u_({className:b,style:g},x),m.createElement("p",{className:k,style:w},m.isValidElement(_)?_:"".concat(_)),p())},lc="recharts-tooltip-wrapper",Mpe={visibility:"hidden"};function Bpe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ke(lc,{["".concat(lc,"-right")]:me(r)&&t&&me(t.x)&&r>=t.x,["".concat(lc,"-left")]:me(r)&&t&&me(t.x)&&r<t.x,["".concat(lc,"-bottom")]:me(n)&&t&&me(t.y)&&n>=t.y,["".concat(lc,"-top")]:me(n)&&t&&me(t.y)&&n<t.y})}function Rj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(a&&me(a[n]))return a[n];var d=r[n]-l-(i>0?i:0),h=r[n]+i;if(t[n])return s[n]?d:h;var f=c[n];if(f==null)return 0;if(s[n]){var p=d,g=f;return p<g?Math.max(h,f):Math.max(d,f)}if(u==null)return 0;var w=h+l,y=f+u;return w>y?Math.max(d,f):Math.max(h,f)}function Fpe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function zpe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:l,useTranslate3d:c,viewBox:u}=e,d,h,f;return l.height>0&&l.width>0&&r?(h=Rj({allowEscapeViewBox:t,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),f=Rj({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),d=Fpe({translateX:h,translateY:f,useTranslate3d:c})):d=Mpe,{cssProperties:d,cssClasses:Bpe({translateX:h,translateY:f,coordinate:r})}}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){d_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d_(e,t,r){return(t=Upe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Upe(e){var t=Wpe(e,"string");return typeof t=="symbol"?t:t+""}function Wpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Hpe extends m.PureComponent{constructor(){super(...arguments),d_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),d_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:h,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:w,innerRef:y,hasPortalFromProps:_}=this.props,b=typeof u=="number"?u:u.x,k=typeof u=="number"?u:u.y,{cssClasses:x,cssProperties:C}=zpe({allowEscapeViewBox:r,coordinate:s,offsetLeft:b,offsetTop:k,position:d,reverseDirection:h,tooltipBox:{height:w.height,width:w.width},useTranslate3d:f,viewBox:p}),S=_?{}:Jd(Jd({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=Jd(Jd({},S),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:y},a)}}var ZI=()=>{var e;return(e=we(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function h_(){return h_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h_.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qpe(e,t,r){return(t=Vpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpe(e){var t=Kpe(e,"string");return typeof t=="symbol"?t:t+""}function Kpe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zj={curveBasisClosed:vhe,curveBasisOpen:ghe,curveBasis:phe,curveBumpX:the,curveBumpY:rhe,curveLinearClosed:yhe,curveLinear:Km,curveMonotoneX:_he,curveMonotoneY:whe,curveNatural:xhe,curveStep:bhe,curveStepAfter:jhe,curveStepBefore:khe},Df=e=>De(e.x)&&De(e.y),Uj=e=>e.base!=null&&Df(e.base)&&Df(e),cc=e=>e.x,uc=e=>e.y,Gpe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Vu(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=zj["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return zj[r]||Km},Wj={connectNulls:!1,type:"linear"},Ype=e=>{var{type:t=Wj.type,points:r=[],baseLine:n,layout:i,connectNulls:a=Wj.connectNulls}=e,s=Gpe(t,i),l=a?r.filter(Df):r;if(Array.isArray(n)){var c,u=r.map((g,w)=>Fj(Fj({},g),{},{base:n[w]}));i==="vertical"?c=Ud().y(uc).x1(cc).x0(g=>g.base.x):c=Ud().x(cc).y1(uc).y0(g=>g.base.y);var d=c.defined(Uj).curve(s),h=a?u.filter(Uj):u;return d(h)}var f;i==="vertical"&&me(n)?f=Ud().y(uc).x1(cc).x0(n):me(n)?f=Ud().x(cc).y1(uc).y0(n):f=iO().x(cc).y(uc);var p=f.defined(Df).curve(s);return p(l)},il=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=ho();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},l=r&&r.length?Ype(s):n;return m.createElement("path",h_({},on(e),Pw(e),{className:Ke("recharts-curve",t),d:l===null?void 0:l,ref:i}))},Xpe=["x","y","top","left","width","height","className"];function f_(){return f_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f_.apply(null,arguments)}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Qpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qpe(e,t,r){return(t=Zpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zpe(e){var t=eve(e,"string");return typeof t=="symbol"?t:t+""}function eve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tve(e,t){if(e==null)return{};var r,n,i=rve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nve=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),ive=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:l}=e,c=tve(e,Xpe),u=Jpe({x:t,y:r,top:n,left:i,width:a,height:s},c);return!me(t)||!me(r)||!me(a)||!me(s)||!me(n)||!me(i)?null:m.createElement("path",f_({},Ur(u),{className:Ke("recharts-cross",l),d:nve(t,r,a,s,n,i)}))};function ave(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){sve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sve(e,t,r){return(t=ove(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ove(e){var t=lve(e,"string");return typeof t=="symbol"?t:t+""}function lve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cve=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),eD=(e,t,r)=>e.map(n=>"".concat(cve(n)," ").concat(t,"ms ").concat(r)).join(","),uve=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ku=(e,t)=>Object.keys(t).reduce((r,n)=>Vj(Vj({},r),{},{[n]:e(n,t[n])}),{});function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){dve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dve(e,t,r){return(t=hve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=fve(e,"string");return typeof t=="symbol"?t:t+""}function fve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lf=(e,t,r)=>e+(t-e)*r,m_=e=>{var{from:t,to:r}=e;return t!==r},tD=(e,t,r)=>{var n=ku((i,a)=>{if(m_(a)){var[s,l]=e(a.from,a.to,a.velocity);return er(er({},a),{},{from:s,velocity:l})}return a},t);return r<1?ku((i,a)=>m_(a)&&n[i]!=null?er(er({},a),{},{velocity:Lf(a.velocity,n[i].velocity,r),from:Lf(a.from,n[i].from,r)}):a,t):tD(e,n,r-1)};function mve(e,t,r,n,i,a){var s,l=n.reduce((f,p)=>er(er({},f),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),c=()=>ku((f,p)=>p.from,l),u=()=>!Object.values(l).filter(m_).length,d=null,h=f=>{s||(s=f);var p=f-s,g=p/r.dt;l=tD(r,l,g),i(er(er(er({},e),t),c())),s=f,u()||(d=a.setTimeout(h))};return()=>(d=a.setTimeout(h),()=>{var f;(f=d)===null||f===void 0||f()})}function pve(e,t,r,n,i,a,s){var l=null,c=i.reduce((h,f)=>{var p=e[f],g=t[f];return p==null||g==null?h:er(er({},h),{},{[f]:[p,g]})},{}),u,d=h=>{u||(u=h);var f=(h-u)/n,p=ku((w,y)=>Lf(...y,r(f)),c);if(a(er(er(er({},e),t),p)),f<1)l=s.setTimeout(d);else{var g=ku((w,y)=>Lf(...y,r(1)),c);a(er(er(er({},e),t),g))}};return()=>(l=s.setTimeout(d),()=>{var h;(h=l)===null||h===void 0||h()})}const vve=(e,t,r,n,i,a)=>{var s=uve(e,t);return r==null?()=>(i(er(er({},e),t)),()=>{}):r.isStepper===!0?mve(e,t,r,s,i,a):pve(e,t,r,n,s,i,a)};var $f=1e-4,rD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nD=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Gj=(e,t)=>r=>{var n=rD(e,t);return nD(n,r)},gve=(e,t)=>r=>{var n=rD(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return nD(i,r)},yve=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},_ve=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=yve(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},wve=(e,t,r,n)=>{var i=Gj(e,r),a=Gj(t,n),s=gve(e,r),l=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,h=d,f=0;f<8;++f){var p=i(h)-d,g=s(h);if(Math.abs(p-d)<$f||g<$f)return a(h);h=l(h-p/g)}return a(h)};return c.isStepper=!1,c},Yj=function(){return wve(..._ve(...arguments))},xve=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,l,c)=>{var u=-(s-l)*r,d=c*n,h=c+(u-d)*i/1e3,f=c*i/1e3+s;return Math.abs(f-l)<$f&&Math.abs(h)<$f?[l,0]:[f,h]};return a.isStepper=!0,a.dt=i,a},bve=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Yj(e);case"spring":return xve();default:if(e.split("(")[0]==="cubic-bezier")return Yj(e)}return typeof e=="function"?e:null};function kve(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class jve{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sve(){return kve(new jve)}var Cve=m.createContext(Sve);function Nve(e,t){var r=m.useContext(Cve);return m.useMemo(()=>t??r(e),[e,t,r])}var Tve=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qu={isSsr:Tve()},Eve={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Xj={t:0},Jv={t:1};function Zu(e){var t=gr(e,Eve),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=r==="auto"?!Qu.isSsr:r,h=Nve(t.animationId,t.animationManager),[f,p]=m.useState(d?Xj:Jv),g=m.useRef(null);return m.useEffect(()=>{d||p(Jv)},[d]),m.useEffect(()=>{if(!d||!n)return uo;var w=vve(Xj,Jv,bve(a),i,p,h.getTimeoutController()),y=()=>{g.current=w()};return h.start([c,s,y,i,l]),()=>{h.stop(),g.current&&g.current(),l()}},[d,n,i,a,s,c,l,h]),u(f.t)}function ed(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(vu(t)),n=m.useRef(e);return n.current!==e&&(r.current=vu(t),n.current=e),r.current}var Pve=["radius"],Ave=["radius"],Jj,Qj,Zj,eS,tS,rS,nS,iS,aS,sS;function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){Ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ove(e,t,r){return(t=Ive(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ive(e){var t=Dve(e,"string");return typeof t=="symbol"?t:t+""}function Dve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(null,arguments)}function cS(e,t){if(e==null)return{};var r,n,i=Lve(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ki(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var uS=(e,t,r,n,i)=>{var a=qa(r),s=qa(n),l=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,h;if(l>0&&Array.isArray(i)){for(var f=[0,0,0,0],p=0,g=4;p<g;p++){var w,y=(w=i[p])!==null&&w!==void 0?w:0;f[p]=y>l?l:y}h=It(Jj||(Jj=ki(["M",",",""])),e,t+c*f[0]),f[0]>0&&(h+=It(Qj||(Qj=ki(["A ",",",",0,0,",",",",",""])),f[0],f[0],d,e+u*f[0],t)),h+=It(Zj||(Zj=ki(["L ",",",""])),e+r-u*f[1],t),f[1]>0&&(h+=It(eS||(eS=ki(["A ",",",",0,0,",`,
        `,",",""])),f[1],f[1],d,e+r,t+c*f[1])),h+=It(tS||(tS=ki(["L ",",",""])),e+r,t+n-c*f[2]),f[2]>0&&(h+=It(rS||(rS=ki(["A ",",",",0,0,",`,
        `,",",""])),f[2],f[2],d,e+r-u*f[2],t+n)),h+=It(nS||(nS=ki(["L ",",",""])),e+u*f[3],t+n),f[3]>0&&(h+=It(iS||(iS=ki(["A ",",",",0,0,",`,
        `,",",""])),f[3],f[3],d,e,t+n-c*f[3])),h+="Z"}else if(l>0&&i===+i&&i>0){var _=Math.min(l,i);h=It(aS||(aS=ki(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*_,_,_,d,e+u*_,t,e+r-u*_,t,_,_,d,e+r,t+c*_,e+r,t+n-c*_,_,_,d,e+r-u*_,t+n,e+u*_,t+n,_,_,d,e,t+n-c*_)}else h=It(sS||(sS=ki(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return h},dS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iD=e=>{var t=gr(e,dS),r=m.useRef(null),[n,i]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:a,y:s,width:l,height:c,radius:u,className:d}=t,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:w}=t,y=m.useRef(l),_=m.useRef(c),b=m.useRef(a),k=m.useRef(s),x=m.useMemo(()=>({x:a,y:s,width:l,height:c,radius:u}),[a,s,l,c,u]),C=ed(x,"rectangle-");if(a!==+a||s!==+s||l!==+l||c!==+c||l===0||c===0)return null;var S=Ke("recharts-rectangle",d);if(!w){var j=Ur(t),{radius:N}=j,T=cS(j,Pve);return m.createElement("path",Rf({},T,{x:qa(a),y:qa(s),width:qa(l),height:qa(c),radius:typeof u=="number"?u:void 0,className:S,d:uS(a,s,l,c,u)}))}var P=y.current,I=_.current,E=b.current,B=k.current,K="0px ".concat(n===-1?1:n,"px"),R="".concat(n,"px 0px"),te=eD(["strokeDasharray"],f,typeof h=="string"?h:dS.animationEasing);return m.createElement(Zu,{animationId:C,key:C,canBegin:n>0,duration:f,easing:h,isActive:w,begin:p},A=>{var U=ut(P,l,A),z=ut(I,c,A),Q=ut(E,a,A),W=ut(B,s,A);r.current&&(y.current=U,_.current=z,b.current=Q,k.current=W);var re;g?A>0?re={transition:te,strokeDasharray:R}:re={strokeDasharray:K}:re={strokeDasharray:R};var O=Ur(t),{radius:$}=O,Z=cS(O,Ave);return m.createElement("path",Rf({},Z,{radius:typeof u=="number"?u:void 0,className:S,d:uS(Q,W,U,z,u),ref:r,style:lS(lS({},re),t.style)}))})};function hS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hS(Object(r),!0).forEach(function(n){$ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ve(e,t,r){return(t=Rve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rve(e){var t=Mve(e,"string");return typeof t=="symbol"?t:t+""}function Mve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mf=Math.PI/180,Bve=e=>e*180/Math.PI,qt=(e,t,r,n)=>({x:e+Math.cos(-Mf*n)*r,y:t+Math.sin(-Mf*n)*r}),aD=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fve=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},zve=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=Fve({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var l=(r-i)/s,c=Math.acos(l);return n>a&&(c=2*Math.PI-c),{radius:s,angle:Bve(c),angleInRadian:c}},Uve=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},Wve=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},Hve=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=zve({x:r,y:n},t),{innerRadius:s,outerRadius:l}=t;if(i<s||i>l||i===0)return null;var{startAngle:c,endAngle:u}=Uve(t),d=a,h;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;h=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;h=d>=u&&d<=c}return h?fS(fS({},t),{},{radius:i,angle:Wve(d,t)}):null};function sD(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=qt(t,r,n,i),l=qt(t,r,n,a);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var mS,pS,vS,gS,yS,_S,wS;function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(null,arguments)}function $s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qve=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Qd=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:l,cornerIsExternal:c}=e,u=l*(s?1:-1)+n,d=Math.asin(l/u)/Mf,h=c?i:i+a*d,f=qt(t,r,u,h),p=qt(t,r,n,h),g=c?i-a*d:i,w=qt(t,r,u*Math.cos(d*Mf),g);return{center:f,circleTangency:p,lineTangency:w,theta:d}},oD=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,l=qve(a,s),c=a+l,u=qt(t,r,i,a),d=qt(t,r,i,c),h=It(mS||(mS=$s(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(l)>180),+(a>c),d.x,d.y);if(n>0){var f=qt(t,r,n,a),p=qt(t,r,n,c);h+=It(pS||(pS=$s(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(l)>180),+(a<=c),f.x,f.y)}else h+=It(vS||(vS=$s(["L ",","," Z"])),t,r);return h},Vve=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=mr(u-c),{circleTangency:h,lineTangency:f,theta:p}=Qd({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),{circleTangency:g,lineTangency:w,theta:y}=Qd({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),_=l?Math.abs(c-u):Math.abs(c-u)-p-y;if(_<0)return s?It(gS||(gS=$s(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),f.x,f.y,a,a,a*2,a,a,-a*2):oD({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var b=It(yS||(yS=$s(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),f.x,f.y,a,a,+(d<0),h.x,h.y,i,i,+(_>180),+(d<0),g.x,g.y,a,a,+(d<0),w.x,w.y);if(n>0){var{circleTangency:k,lineTangency:x,theta:C}=Qd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),{circleTangency:S,lineTangency:j,theta:N}=Qd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),T=l?Math.abs(c-u):Math.abs(c-u)-C-N;if(T<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+=It(_S||(_S=$s(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),j.x,j.y,a,a,+(d<0),S.x,S.y,n,n,+(T>180),+(d>0),k.x,k.y,a,a,+(d<0),x.x,x.y)}else b+=It(wS||(wS=$s(["L",",","Z"])),t,r);return b},Kve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lD=e=>{var t=gr(e,Kve),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=t;if(a<i||u===d)return null;var f=Ke("recharts-sector",h),p=a-i,g=Ir(s,p,0,!0),w;return g>0&&Math.abs(u-d)<360?w=Vve({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):w=oD({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),m.createElement("path",p_({},Ur(t),{className:f,d:w}))};function Gve(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(xO(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:l}=t,c=qt(n,i,a,l),u=qt(n,i,s,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return sD(t)}}var cD={},uD={},dD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fw;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(dD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dD;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(uD);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zw,r=uD;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const l=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=s;return c}e.range=n})(cD);var Yve=cD.range;const hD=ya(Yve);function ts(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xve(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ex(e){let t,r,n;e.length!==2?(t=ts,r=(l,c)=>ts(e(l),c),n=(l,c)=>e(l)-c):(t=e===ts||e===Xve?e:Jve,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:s,right:a}}function Jve(){return 0}function fD(e){return e===null?NaN:+e}function*Qve(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Zve=ex(ts),td=Zve.right;ex(fD).center;class xS extends Map{constructor(t,r=rge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(bS(this,t))}has(t){return super.has(bS(this,t))}set(t,r){return super.set(ege(this,t),r)}delete(t){return super.delete(tge(this,t))}}function bS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ege({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function tge({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function rge(e){return e!==null&&typeof e=="object"?e.valueOf():e}function nge(e=ts){if(e===ts)return mD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function mD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ige=Math.sqrt(50),age=Math.sqrt(10),sge=Math.sqrt(2);function Bf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=ige?10:a>=age?5:a>=sge?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Bf(e,t,r*2):[l,c,u]}function v_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Bf(t,e,r):Bf(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(a-u)/-s;else for(let u=0;u<l;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(i+u)/-s;else for(let u=0;u<l;++u)c[u]=(i+u)*s;return c}function g_(e,t,r){return t=+t,e=+e,r=+r,Bf(e,t,r)[2]}function y_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?g_(t,e,r):g_(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function kS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function jS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function pD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?mD:nge(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*h/c+f)),g=Math.min(n,Math.floor(t+(c-u)*h/c+f));pD(e,t,p,g,i)}const a=e[t];let s=r,l=n;for(dc(e,r,t),i(e[n],a)>0&&dc(e,r,n);s<l;){for(dc(e,s,l),++s,--l;i(e[s],a)<0;)++s;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?dc(e,r,l):(++l,dc(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function dc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function oge(e,t,r){if(e=Float64Array.from(Qve(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return jS(e);if(t>=1)return kS(e);var n,i=(n-1)*t,a=Math.floor(i),s=kS(pD(e,a).subarray(0,a+1)),l=jS(e.subarray(a+1));return s+(l-s)*(i-a)}}function lge(e,t,r=fD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return s+(l-s)*(i-a)}}function cge(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Hn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ja(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const __=Symbol("implicit");function tx(){var e=new xS,t=[],r=[],n=__;function i(a){let s=e.get(a);if(s===void 0){if(n!==__)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new xS;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return tx(t,r).unknown(n)},Hn.apply(i,arguments),i}function rx(){var e=tx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var f=t().length,p=i<n,g=p?i:n,w=p?n:i;a=(w-g)/Math.max(1,f-c+u*2),l&&(a=Math.floor(a)),g+=(w-g-a*(f-c))*d,s=a*(1-c),l&&(g=Math.round(g),s=Math.round(s));var y=cge(f).map(function(_){return g+a*_});return r(p?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),h()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(f){return arguments.length?(l=!!f,h()):l},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),h()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},e.copy=function(){return rx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Hn.apply(h(),arguments)}function vD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vD(t())},e}function uge(){return vD(rx.apply(null,arguments).paddingInner(1))}function nx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rd(){}var ju=.7,Ff=1/ju,al="\\s*([+-]?\\d+)\\s*",Su="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dge=/^#([0-9a-f]{3,8})$/,hge=new RegExp(`^rgb\\(${al},${al},${al}\\)$`),fge=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),mge=new RegExp(`^rgba\\(${al},${al},${al},${Su}\\)$`),pge=new RegExp(`^rgba\\(${Li},${Li},${Li},${Su}\\)$`),vge=new RegExp(`^hsl\\(${Su},${Li},${Li}\\)$`),gge=new RegExp(`^hsla\\(${Su},${Li},${Li},${Su}\\)$`),SS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nx(rd,Cu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CS,formatHex:CS,formatHex8:yge,formatHsl:_ge,formatRgb:NS,toString:NS});function CS(){return this.rgb().formatHex()}function yge(){return this.rgb().formatHex8()}function _ge(){return yD(this).formatHsl()}function NS(){return this.rgb().formatRgb()}function Cu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=dge.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?TS(t):r===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hge.exec(e))?new en(t[1],t[2],t[3],1):(t=fge.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=mge.exec(e))?Zd(t[1],t[2],t[3],t[4]):(t=pge.exec(e))?Zd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vge.exec(e))?AS(t[1],t[2]/100,t[3]/100,1):(t=gge.exec(e))?AS(t[1],t[2]/100,t[3]/100,t[4]):SS.hasOwnProperty(e)?TS(SS[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function TS(e){return new en(e>>16&255,e>>8&255,e&255,1)}function Zd(e,t,r,n){return n<=0&&(e=t=r=NaN),new en(e,t,r,n)}function wge(e){return e instanceof rd||(e=Cu(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function w_(e,t,r,n){return arguments.length===1?wge(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nx(en,w_,gD(rd,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Hs(this.r),Hs(this.g),Hs(this.b),zf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ES,formatHex:ES,formatHex8:xge,formatRgb:PS,toString:PS}));function ES(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}`}function xge(){return`#${Rs(this.r)}${Rs(this.g)}${Rs(this.b)}${Rs((isNaN(this.opacity)?1:this.opacity)*255)}`}function PS(){const e=zf(this.opacity);return`${e===1?"rgb(":"rgba("}${Hs(this.r)}, ${Hs(this.g)}, ${Hs(this.b)}${e===1?")":`, ${e})`}`}function zf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rs(e){return e=Hs(e),(e<16?"0":"")+e.toString(16)}function AS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ni(e,t,r,n)}function yD(e){if(e instanceof ni)return new ni(e.h,e.s,e.l,e.opacity);if(e instanceof rd||(e=Cu(e)),!e)return new ni;if(e instanceof ni)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,l=a-i,c=(a+i)/2;return l?(t===a?s=(r-n)/l+(r<n)*6:r===a?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?a+i:2-a-i,s*=60):l=c>0&&c<1?0:s,new ni(s,l,c,e.opacity)}function bge(e,t,r,n){return arguments.length===1?yD(e):new ni(e,t,r,n??1)}function ni(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nx(ni,bge,gD(rd,{brighter(e){return e=e==null?Ff:Math.pow(Ff,e),new ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ju:Math.pow(ju,e),new ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new en(Qv(e>=240?e-240:e+120,i,n),Qv(e,i,n),Qv(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ni(OS(this.h),eh(this.s),eh(this.l),zf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zf(this.opacity);return`${e===1?"hsl(":"hsla("}${OS(this.h)}, ${eh(this.s)*100}%, ${eh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function OS(e){return e=(e||0)%360,e<0?e+360:e}function eh(e){return Math.max(0,Math.min(1,e||0))}function Qv(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ix=e=>()=>e;function kge(e,t){return function(r){return e+r*t}}function jge(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Sge(e){return(e=+e)==1?_D:function(t,r){return r-t?jge(t,r,e):ix(isNaN(t)?r:t)}}function _D(e,t){var r=t-e;return r?kge(e,r):ix(isNaN(e)?t:e)}const IS=function e(t){var r=Sge(t);function n(i,a){var s=r((i=w_(i)).r,(a=w_(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=_D(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function Cge(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function Nge(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Tge(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Rl(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(l){for(s=0;s<n;++s)a[s]=i[s](l);return a}}function Ege(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Pge(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Rl(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var x_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zv=new RegExp(x_.source,"g");function Age(e){return function(){return e}}function Oge(e){return function(t){return e(t)+""}}function Ige(e,t){var r=x_.lastIndex=Zv.lastIndex=0,n,i,a,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=x_.exec(e))&&(i=Zv.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[s]?l[s]+=a:l[++s]=a),(n=n[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:Uf(n,i)})),r=Zv.lastIndex;return r<t.length&&(a=t.slice(r),l[s]?l[s]+=a:l[++s]=a),l.length<2?c[0]?Oge(c[0].x):Age(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function Rl(e,t){var r=typeof t,n;return t==null||r==="boolean"?ix(t):(r==="number"?Uf:r==="string"?(n=Cu(t))?(t=n,IS):Ige:t instanceof Cu?IS:t instanceof Date?Ege:Nge(t)?Cge:Array.isArray(t)?Tge:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pge:Uf)(e,t)}function ax(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Dge(e,t){t===void 0&&(t=e,e=Rl);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[l](s-l)}}function Lge(e){return function(){return e}}function Wf(e){return+e}var DS=[0,1];function Fr(e){return e}function b_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Lge(isNaN(t)?NaN:.5)}function $ge(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Rge(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=b_(i,n),a=r(s,a)):(n=b_(n,i),a=r(a,s)),function(l){return a(n(l))}}function Mge(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=b_(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(l){var c=td(e,l,1,n)-1;return a[c](i[c](l))}}function nd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wp(){var e=DS,t=DS,r=Rl,n,i,a,s=Fr,l,c,u;function d(){var f=Math.min(e.length,t.length);return s!==Fr&&(s=$ge(e[0],e[f-1])),l=f>2?Mge:Rge,c=u=null,h}function h(f){return f==null||isNaN(f=+f)?a:(c||(c=l(e.map(n),t,r)))(n(s(f)))}return h.invert=function(f){return s(i((u||(u=l(t,e.map(n),Uf)))(f)))},h.domain=function(f){return arguments.length?(e=Array.from(f,Wf),d()):e.slice()},h.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},h.rangeRound=function(f){return t=Array.from(f),r=ax,d()},h.clamp=function(f){return arguments.length?(s=f?!0:Fr,d()):s!==Fr},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(a=f,h):a},function(f,p){return n=f,i=p,d()}}function sx(){return wp()(Fr,Fr)}function Bge(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Hf(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bl(e){return e=Hf(Math.abs(e)),e?e[1]:NaN}function Fge(e,t){return function(r,n){for(var i=r.length,a=[],s=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function zge(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Uge=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Nu(e){if(!(t=Uge.exec(e)))throw new Error("invalid format: "+e);var t;return new ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Nu.prototype=ox.prototype;function ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wge(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var qf;function Hge(e,t){var r=Hf(e,t);if(!r)return qf=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(qf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Hf(e,Math.max(0,t+a-1))[0]}function LS(e,t){var r=Hf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const $S={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Bge,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LS(e*100,t),r:LS,s:Hge,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RS(e){return e}var MS=Array.prototype.map,BS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qge(e){var t=e.grouping===void 0||e.thousands===void 0?RS:Fge(MS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?RS:zge(MS.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h,f){h=Nu(h);var p=h.fill,g=h.align,w=h.sign,y=h.symbol,_=h.zero,b=h.width,k=h.comma,x=h.precision,C=h.trim,S=h.type;S==="n"?(k=!0,S="g"):$S[S]||(x===void 0&&(x=12),C=!0,S="g"),(_||p==="0"&&g==="=")&&(_=!0,p="0",g="=");var j=(f&&f.prefix!==void 0?f.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),N=(y==="$"?n:/[%p]/.test(S)?s:"")+(f&&f.suffix!==void 0?f.suffix:""),T=$S[S],P=/[defgprs%]/.test(S);x=x===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function I(E){var B=j,K=N,R,te,A;if(S==="c")K=T(E)+K,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?c:T(Math.abs(E),x),C&&(E=Wge(E)),U&&+E==0&&w!=="+"&&(U=!1),B=(U?w==="("?w:l:w==="-"||w==="("?"":w)+B,K=(S==="s"&&!isNaN(E)&&qf!==void 0?BS[8+qf/3]:"")+K+(U&&w==="("?")":""),P){for(R=-1,te=E.length;++R<te;)if(A=E.charCodeAt(R),48>A||A>57){K=(A===46?i+E.slice(R+1):E.slice(R))+K,E=E.slice(0,R);break}}}k&&!_&&(E=t(E,1/0));var z=B.length+E.length+K.length,Q=z<b?new Array(b-z+1).join(p):"";switch(k&&_&&(E=t(Q+E,Q.length?b-K.length:1/0),Q=""),g){case"<":E=B+E+K+Q;break;case"=":E=B+Q+E+K;break;case"^":E=Q.slice(0,z=Q.length>>1)+B+E+K+Q.slice(z);break;default:E=Q+B+E+K;break}return a(E)}return I.toString=function(){return h+""},I}function d(h,f){var p=Math.max(-8,Math.min(8,Math.floor(bl(f)/3)))*3,g=Math.pow(10,-p),w=u((h=Nu(h),h.type="f",h),{suffix:BS[8+p/3]});return function(y){return w(g*y)}}return{format:u,formatPrefix:d}}var th,lx,wD;Vge({thousands:",",grouping:[3],currency:["$",""]});function Vge(e){return th=qge(e),lx=th.format,wD=th.formatPrefix,th}function Kge(e){return Math.max(0,-bl(Math.abs(e)))}function Gge(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(t)/3)))*3-bl(Math.abs(e)))}function Yge(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bl(t)-bl(e))+1}function xD(e,t,r,n){var i=y_(e,t,r),a;switch(n=Nu(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Gge(i,s))&&(n.precision=a),wD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Yge(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Kge(i))&&(n.precision=a-(n.type==="%")*2);break}}return lx(n)}function ms(e){var t=e.domain;return e.ticks=function(r){var n=t();return v_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return xD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],l=n[a],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=g_(s,l,r),u===c)return n[i]=s,n[a]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function bD(){var e=sx();return e.copy=function(){return nd(e,bD())},Hn.apply(e,arguments),ms(e)}function kD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kD(e).unknown(t)},e=arguments.length?Array.from(e,Wf):[0,1],ms(r)}function jD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function FS(e){return Math.log(e)}function zS(e){return Math.exp(e)}function Xge(e){return-Math.log(-e)}function Jge(e){return-Math.exp(-e)}function Qge(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Zge(e){return e===10?Qge:e===Math.E?Math.exp:t=>Math.pow(e,t)}function eye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function US(e){return(t,r)=>-e(-t,r)}function cx(e){const t=e(FS,zS),r=t.domain;let n=10,i,a;function s(){return i=eye(n),a=Zge(n),r()[0]<0?(i=US(i),a=US(a),e(Xge,Jge)):e(FS,zS),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),g,w;const y=l==null?10:+l;let _=[];if(!(n%1)&&p-f<y){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<n;++g)if(w=f<0?g/a(-f):g*a(f),!(w<u)){if(w>d)break;_.push(w)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(w=f>0?g/a(-f):g*a(f),!(w<u)){if(w>d)break;_.push(w)}_.length*2<y&&(_=v_(u,d,y))}else _=v_(f,p,Math.min(p-f,y)).map(a);return h?_.reverse():_},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Nu(c)).precision==null&&(c.trim=!0),c=lx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let h=d/a(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},t.nice=()=>r(jD(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function SD(){const e=cx(wp()).domain([1,10]);return e.copy=()=>nd(e,SD()).base(e.base()),Hn.apply(e,arguments),e}function WS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function HS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ux(e){var t=1,r=e(WS(t),HS(t));return r.constant=function(n){return arguments.length?e(WS(t=+n),HS(t)):t},ms(r)}function CD(){var e=ux(wp());return e.copy=function(){return nd(e,CD()).constant(e.constant())},Hn.apply(e,arguments)}function qS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rye(e){return e<0?-e*e:e*e}function dx(e){var t=e(Fr,Fr),r=1;function n(){return r===1?e(Fr,Fr):r===.5?e(tye,rye):e(qS(r),qS(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ms(t)}function hx(){var e=dx(wp());return e.copy=function(){return nd(e,hx()).exponent(e.exponent())},Hn.apply(e,arguments),e}function nye(){return hx.apply(null,arguments).exponent(.5)}function VS(e){return Math.sign(e)*e*e}function iye(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ND(){var e=sx(),t=[0,1],r=!1,n;function i(a){var s=iye(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(VS(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Wf)).map(VS)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ND(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hn.apply(i,arguments),ms(i)}function TD(){var e=[],t=[],r=[],n;function i(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=lge(e,s/l);return a}function a(s){return s==null||isNaN(s=+s)?n:t[td(r,s)]}return a.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ts),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return TD().domain(e).range(t).unknown(n)},Hn.apply(a,arguments)}function ED(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[td(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ED().domain([e,t]).range(i).unknown(a)},Hn.apply(ms(s),arguments)}function PD(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[td(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return PD().domain(e).range(t).unknown(r)},Hn.apply(i,arguments)}const eg=new Date,tg=new Date;function ar(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),l=i.ceil(a);return a-s<l-a?s:l},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<s)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<s);return c},i.filter=a=>ar(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!a(s););else for(;--l>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(eg.setTime(+a),tg.setTime(+s),e(eg),e(tg),Math.floor(r(eg,tg))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Vf=ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Vf);Vf.range;const Ji=1e3,Rn=Ji*60,Qi=Rn*60,ha=Qi*24,fx=ha*7,KS=ha*30,rg=ha*365,Ms=ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCSeconds());Ms.range;const mx=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getMinutes());mx.range;const px=ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rn)},(e,t)=>(t-e)/Rn,e=>e.getUTCMinutes());px.range;const vx=ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji-e.getMinutes()*Rn)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getHours());vx.range;const gx=ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCHours());gx.range;const id=ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/ha,e=>e.getDate()-1);id.range;const xp=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>e.getUTCDate()-1);xp.range;const AD=ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ha,e=>Math.floor(e/ha));AD.range;function fo(e){return ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rn)/fx)}const bp=fo(0),Kf=fo(1),aye=fo(2),sye=fo(3),kl=fo(4),oye=fo(5),lye=fo(6);bp.range;Kf.range;aye.range;sye.range;kl.range;oye.range;lye.range;function mo(e){return ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fx)}const kp=mo(0),Gf=mo(1),cye=mo(2),uye=mo(3),jl=mo(4),dye=mo(5),hye=mo(6);kp.range;Gf.range;cye.range;uye.range;jl.range;dye.range;hye.range;const yx=ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yx.range;const _x=ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_x.range;const fa=ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fa.range;const ma=ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ma.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ma.range;function OD(e,t,r,n,i,a){const s=[[Ms,1,Ji],[Ms,5,5*Ji],[Ms,15,15*Ji],[Ms,30,30*Ji],[a,1,Rn],[a,5,5*Rn],[a,15,15*Rn],[a,30,30*Rn],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[n,1,ha],[n,2,2*ha],[r,1,fx],[t,1,KS],[t,3,3*KS],[e,1,rg]];function l(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:c(u,d,h),g=p?p.range(u,+d+1):[];return f?g.reverse():g}function c(u,d,h){const f=Math.abs(d-u)/h,p=ex(([,,y])=>y).right(s,f);if(p===s.length)return e.every(y_(u/rg,d/rg,h));if(p===0)return Vf.every(Math.max(y_(u,d,h),1));const[g,w]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return g.every(w)}return[l,c]}const[fye,mye]=OD(ma,_x,kp,AD,gx,px),[pye,vye]=OD(fa,yx,bp,id,vx,mx);function ng(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ig(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gye(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=fc(i),d=mc(i),h=fc(a),f=mc(a),p=fc(s),g=mc(s),w=fc(l),y=mc(l),_=fc(c),b=mc(c),k={a:A,A:U,b:z,B:Q,c:null,d:ZS,e:ZS,f:Fye,g:Xye,G:Qye,H:Rye,I:Mye,j:Bye,L:ID,m:zye,M:Uye,p:W,q:re,Q:rC,s:nC,S:Wye,u:Hye,U:qye,V:Vye,w:Kye,W:Gye,x:null,X:null,y:Yye,Y:Jye,Z:Zye,"%":tC},x={a:O,A:$,b:Z,B:X,c:null,d:eC,e:eC,f:n_e,g:f_e,G:p_e,H:e_e,I:t_e,j:r_e,L:LD,m:i_e,M:a_e,p:ce,q:le,Q:rC,s:nC,S:s_e,u:o_e,U:l_e,V:c_e,w:u_e,W:d_e,x:null,X:null,y:h_e,Y:m_e,Z:v_e,"%":tC},C={a:P,A:I,b:E,B,c:K,d:JS,e:JS,f:Iye,g:XS,G:YS,H:QS,I:QS,j:Eye,L:Oye,m:Tye,M:Pye,p:T,q:Nye,Q:Lye,s:$ye,S:Aye,u:bye,U:kye,V:jye,w:xye,W:Sye,x:R,X:te,y:XS,Y:YS,Z:Cye,"%":Dye};k.x=S(r,k),k.X=S(n,k),k.c=S(t,k),x.x=S(r,x),x.X=S(n,x),x.c=S(t,x);function S(L,G){return function(de){var V=[],Se=-1,ue=0,he=L.length,Oe,Ge,mt;for(de instanceof Date||(de=new Date(+de));++Se<he;)L.charCodeAt(Se)===37&&(V.push(L.slice(ue,Se)),(Ge=GS[Oe=L.charAt(++Se)])!=null?Oe=L.charAt(++Se):Ge=Oe==="e"?" ":"0",(mt=G[Oe])&&(Oe=mt(de,Ge)),V.push(Oe),ue=Se+1);return V.push(L.slice(ue,Se)),V.join("")}}function j(L,G){return function(de){var V=hc(1900,void 0,1),Se=N(V,L,de+="",0),ue,he;if(Se!=de.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(V.s*1e3+("L"in V?V.L:0));if(G&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+V.p*12),V.m===void 0&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(ue=ig(hc(V.y,0,1)),he=ue.getUTCDay(),ue=he>4||he===0?Gf.ceil(ue):Gf(ue),ue=xp.offset(ue,(V.V-1)*7),V.y=ue.getUTCFullYear(),V.m=ue.getUTCMonth(),V.d=ue.getUTCDate()+(V.w+6)%7):(ue=ng(hc(V.y,0,1)),he=ue.getDay(),ue=he>4||he===0?Kf.ceil(ue):Kf(ue),ue=id.offset(ue,(V.V-1)*7),V.y=ue.getFullYear(),V.m=ue.getMonth(),V.d=ue.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),he="Z"in V?ig(hc(V.y,0,1)).getUTCDay():ng(hc(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+V.W*7-(he+5)%7:V.w+V.U*7-(he+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,ig(V)):ng(V)}}function N(L,G,de,V){for(var Se=0,ue=G.length,he=de.length,Oe,Ge;Se<ue;){if(V>=he)return-1;if(Oe=G.charCodeAt(Se++),Oe===37){if(Oe=G.charAt(Se++),Ge=C[Oe in GS?G.charAt(Se++):Oe],!Ge||(V=Ge(L,de,V))<0)return-1}else if(Oe!=de.charCodeAt(V++))return-1}return V}function T(L,G,de){var V=u.exec(G.slice(de));return V?(L.p=d.get(V[0].toLowerCase()),de+V[0].length):-1}function P(L,G,de){var V=p.exec(G.slice(de));return V?(L.w=g.get(V[0].toLowerCase()),de+V[0].length):-1}function I(L,G,de){var V=h.exec(G.slice(de));return V?(L.w=f.get(V[0].toLowerCase()),de+V[0].length):-1}function E(L,G,de){var V=_.exec(G.slice(de));return V?(L.m=b.get(V[0].toLowerCase()),de+V[0].length):-1}function B(L,G,de){var V=w.exec(G.slice(de));return V?(L.m=y.get(V[0].toLowerCase()),de+V[0].length):-1}function K(L,G,de){return N(L,t,G,de)}function R(L,G,de){return N(L,r,G,de)}function te(L,G,de){return N(L,n,G,de)}function A(L){return s[L.getDay()]}function U(L){return a[L.getDay()]}function z(L){return c[L.getMonth()]}function Q(L){return l[L.getMonth()]}function W(L){return i[+(L.getHours()>=12)]}function re(L){return 1+~~(L.getMonth()/3)}function O(L){return s[L.getUTCDay()]}function $(L){return a[L.getUTCDay()]}function Z(L){return c[L.getUTCMonth()]}function X(L){return l[L.getUTCMonth()]}function ce(L){return i[+(L.getUTCHours()>=12)]}function le(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var G=S(L+="",k);return G.toString=function(){return L},G},parse:function(L){var G=j(L+="",!1);return G.toString=function(){return L},G},utcFormat:function(L){var G=S(L+="",x);return G.toString=function(){return L},G},utcParse:function(L){var G=j(L+="",!0);return G.toString=function(){return L},G}}}var GS={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,yye=/^%/,_ye=/[\\^$*+?|[\]().{}]/g;function He(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function wye(e){return e.replace(_ye,"\\$&")}function fc(e){return new RegExp("^(?:"+e.map(wye).join("|")+")","i")}function mc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function xye(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bye(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function kye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Sye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function YS(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function XS(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Cye(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Nye(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Tye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function JS(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Eye(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function QS(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Pye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Aye(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Oye(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Iye(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dye(e,t,r){var n=yye.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Lye(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $ye(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ZS(e,t){return He(e.getDate(),t,2)}function Rye(e,t){return He(e.getHours(),t,2)}function Mye(e,t){return He(e.getHours()%12||12,t,2)}function Bye(e,t){return He(1+id.count(fa(e),e),t,3)}function ID(e,t){return He(e.getMilliseconds(),t,3)}function Fye(e,t){return ID(e,t)+"000"}function zye(e,t){return He(e.getMonth()+1,t,2)}function Uye(e,t){return He(e.getMinutes(),t,2)}function Wye(e,t){return He(e.getSeconds(),t,2)}function Hye(e){var t=e.getDay();return t===0?7:t}function qye(e,t){return He(bp.count(fa(e)-1,e),t,2)}function DD(e){var t=e.getDay();return t>=4||t===0?kl(e):kl.ceil(e)}function Vye(e,t){return e=DD(e),He(kl.count(fa(e),e)+(fa(e).getDay()===4),t,2)}function Kye(e){return e.getDay()}function Gye(e,t){return He(Kf.count(fa(e)-1,e),t,2)}function Yye(e,t){return He(e.getFullYear()%100,t,2)}function Xye(e,t){return e=DD(e),He(e.getFullYear()%100,t,2)}function Jye(e,t){return He(e.getFullYear()%1e4,t,4)}function Qye(e,t){var r=e.getDay();return e=r>=4||r===0?kl(e):kl.ceil(e),He(e.getFullYear()%1e4,t,4)}function Zye(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+He(t/60|0,"0",2)+He(t%60,"0",2)}function eC(e,t){return He(e.getUTCDate(),t,2)}function e_e(e,t){return He(e.getUTCHours(),t,2)}function t_e(e,t){return He(e.getUTCHours()%12||12,t,2)}function r_e(e,t){return He(1+xp.count(ma(e),e),t,3)}function LD(e,t){return He(e.getUTCMilliseconds(),t,3)}function n_e(e,t){return LD(e,t)+"000"}function i_e(e,t){return He(e.getUTCMonth()+1,t,2)}function a_e(e,t){return He(e.getUTCMinutes(),t,2)}function s_e(e,t){return He(e.getUTCSeconds(),t,2)}function o_e(e){var t=e.getUTCDay();return t===0?7:t}function l_e(e,t){return He(kp.count(ma(e)-1,e),t,2)}function $D(e){var t=e.getUTCDay();return t>=4||t===0?jl(e):jl.ceil(e)}function c_e(e,t){return e=$D(e),He(jl.count(ma(e),e)+(ma(e).getUTCDay()===4),t,2)}function u_e(e){return e.getUTCDay()}function d_e(e,t){return He(Gf.count(ma(e)-1,e),t,2)}function h_e(e,t){return He(e.getUTCFullYear()%100,t,2)}function f_e(e,t){return e=$D(e),He(e.getUTCFullYear()%100,t,2)}function m_e(e,t){return He(e.getUTCFullYear()%1e4,t,4)}function p_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jl(e):jl.ceil(e),He(e.getUTCFullYear()%1e4,t,4)}function v_e(){return"+0000"}function tC(){return"%"}function rC(e){return+e}function nC(e){return Math.floor(+e/1e3)}var Co,RD,MD;g_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function g_e(e){return Co=gye(e),RD=Co.format,Co.parse,MD=Co.utcFormat,Co.utcParse,Co}function y_e(e){return new Date(e)}function __e(e){return e instanceof Date?+e:+new Date(+e)}function wx(e,t,r,n,i,a,s,l,c,u){var d=sx(),h=d.invert,f=d.domain,p=u(".%L"),g=u(":%S"),w=u("%I:%M"),y=u("%I %p"),_=u("%a %d"),b=u("%b %d"),k=u("%B"),x=u("%Y");function C(S){return(c(S)<S?p:l(S)<S?g:s(S)<S?w:a(S)<S?y:n(S)<S?i(S)<S?_:b:r(S)<S?k:x)(S)}return d.invert=function(S){return new Date(h(S))},d.domain=function(S){return arguments.length?f(Array.from(S,__e)):f().map(y_e)},d.ticks=function(S){var j=f();return e(j[0],j[j.length-1],S??10)},d.tickFormat=function(S,j){return j==null?C:u(j)},d.nice=function(S){var j=f();return(!S||typeof S.range!="function")&&(S=t(j[0],j[j.length-1],S??10)),S?f(jD(j,S)):d},d.copy=function(){return nd(d,wx(e,t,r,n,i,a,s,l,c,u))},d}function w_e(){return Hn.apply(wx(pye,vye,fa,yx,bp,id,vx,mx,Ms,RD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function x_e(){return Hn.apply(wx(fye,mye,ma,_x,kp,xp,gx,px,Ms,MD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jp(){var e=0,t=1,r,n,i,a,s=Fr,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:s(i===0?.5:(h=(a(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(s=h,u):s};function d(h){return function(f){var p,g;return arguments.length?([p,g]=f,s=h(p,g),u):[s(0),s(1)]}}return u.range=d(Rl),u.rangeRound=d(ax),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,r=h(e),n=h(t),i=r===n?0:1/(n-r),u}}function ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BD(){var e=ms(jp()(Fr));return e.copy=function(){return ps(e,BD())},ja.apply(e,arguments)}function FD(){var e=cx(jp()).domain([1,10]);return e.copy=function(){return ps(e,FD()).base(e.base())},ja.apply(e,arguments)}function zD(){var e=ux(jp());return e.copy=function(){return ps(e,zD()).constant(e.constant())},ja.apply(e,arguments)}function xx(){var e=dx(jp());return e.copy=function(){return ps(e,xx()).exponent(e.exponent())},ja.apply(e,arguments)}function b_e(){return xx.apply(null,arguments).exponent(.5)}function UD(){var e=[],t=Fr;function r(n){if(n!=null&&!isNaN(n=+n))return t((td(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ts),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>oge(e,a/n))},r.copy=function(){return UD(t).domain(e)},ja.apply(r,arguments)}function Sp(){var e=0,t=.5,r=1,n=1,i,a,s,l,c,u=Fr,d,h=!1,f;function p(w){return isNaN(w=+w)?f:(w=.5+((w=+d(w))-a)*(n*w<n*a?l:c),u(h?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([e,t,r]=w,i=d(e=+e),a=d(t=+t),s=d(r=+r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(w){return arguments.length?(h=!!w,p):h},p.interpolator=function(w){return arguments.length?(u=w,p):u};function g(w){return function(y){var _,b,k;return arguments.length?([_,b,k]=y,u=Dge(w,[_,b,k]),p):[u(0),u(.5),u(1)]}}return p.range=g(Rl),p.rangeRound=g(ax),p.unknown=function(w){return arguments.length?(f=w,p):f},function(w){return d=w,i=w(e),a=w(t),s=w(r),l=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function WD(){var e=ms(Sp()(Fr));return e.copy=function(){return ps(e,WD())},ja.apply(e,arguments)}function HD(){var e=cx(Sp()).domain([.1,1,10]);return e.copy=function(){return ps(e,HD()).base(e.base())},ja.apply(e,arguments)}function qD(){var e=ux(Sp());return e.copy=function(){return ps(e,qD()).constant(e.constant())},ja.apply(e,arguments)}function bx(){var e=dx(Sp());return e.copy=function(){return ps(e,bx()).exponent(e.exponent())},ja.apply(e,arguments)}function k_e(){return bx.apply(null,arguments).exponent(.5)}const kc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rx,scaleDiverging:WD,scaleDivergingLog:HD,scaleDivergingPow:bx,scaleDivergingSqrt:k_e,scaleDivergingSymlog:qD,scaleIdentity:kD,scaleImplicit:__,scaleLinear:bD,scaleLog:SD,scaleOrdinal:tx,scalePoint:uge,scalePow:hx,scaleQuantile:TD,scaleQuantize:ED,scaleRadial:ND,scaleSequential:BD,scaleSequentialLog:FD,scaleSequentialPow:xx,scaleSequentialQuantile:UD,scaleSequentialSqrt:b_e,scaleSequentialSymlog:zD,scaleSqrt:nye,scaleSymlog:CD,scaleThreshold:PD,scaleTime:w_e,scaleUtc:x_e,tickFormat:xD},Symbol.toStringTag,{value:"Module"}));var Sa=e=>e.chartData,Cp=F([Sa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),VD=(e,t,r,n)=>n?Cp(e):Sa(e),KD=(e,t,r)=>r?Cp(e):Sa(e);function pa(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(De(t)&&De(r))return!0}return!1}function iC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(De(r))i=r;else if(typeof r=="function")return;if(De(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(pa(s))return s}}function j_e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(pa(n))return iC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,l;if(i==="auto")t!=null&&(s=Math.min(...t));else if(me(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&jj.test(i)){var c=jj.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(l=Math.max(...t));else if(me(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Sj.test(a)){var d=Sj.exec(a);if(d==null||d[1]==null||t==null)l=void 0;else{var h=+d[1];l=t[1]+h}}else l=t==null?void 0:t[1];var f=[s,l];if(pa(f))return t==null?f:iC(f,t,r)}}}var Ml=1e9,S_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jx,xt=!0,Un="[DecimalError] ",qs=Un+"Invalid argument: ",kx=Un+"Exponent out of range: ",Bl=Math.floor,Ts=Math.pow,C_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gn,dr=1e7,ct=7,YD=9007199254740991,Yf=Bl(YD/ct),ge={};ge.absoluteValue=ge.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ge.comparedTo=ge.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ct;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ge.dividedBy=ge.div=function(e){return na(this,new this.constructor(e))};ge.dividedToIntegerBy=ge.idiv=function(e){var t=this,r=t.constructor;return tt(na(t,new r(e),0,1),r.precision)};ge.equals=ge.eq=function(e){return!this.cmp(e)};ge.exponent=function(){return Kt(this)};ge.greaterThan=ge.gt=function(e){return this.cmp(e)>0};ge.greaterThanOrEqualTo=ge.gte=function(e){return this.cmp(e)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(e){return this.cmp(e)<0};ge.lessThanOrEqualTo=ge.lte=function(e){return this.cmp(e)<1};ge.logarithm=ge.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gn))throw Error(Un+"NaN");if(r.s<1)throw Error(Un+(r.s?"NaN":"-Infinity"));return r.eq(gn)?new n(0):(xt=!1,t=na(Tu(r,a),Tu(e,a),a),xt=!0,tt(t,i))};ge.minus=ge.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QD(t,e):XD(t,(e.s=-e.s,e))};ge.modulo=ge.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Un+"NaN");return r.s?(xt=!1,t=na(r,e,0,1).times(e),xt=!0,r.minus(t)):tt(new n(r),i)};ge.naturalExponential=ge.exp=function(){return JD(this)};ge.naturalLogarithm=ge.ln=function(){return Tu(this)};ge.negated=ge.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ge.plus=ge.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XD(t,e):QD(t,(e.s=-e.s,e))};ge.precision=ge.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qs+e);if(t=Kt(i)+1,n=i.d.length-1,r=n*ct+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ge.squareRoot=ge.sqrt=function(){var e,t,r,n,i,a,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Un+"NaN")}for(e=Kt(l),xt=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Oi(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Bl((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(na(l,a,s+2)).times(.5),Oi(a.d).slice(0,s)===(t=Oi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(tt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;s+=4}return xt=!0,tt(n,r)};ge.times=ge.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,p=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=p.length,c<u&&(a=f,f=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+p[n]*f[i-n-1]+t,a[i--]=l%dr|0,t=l/dr|0;a[i]=(a[i]+t)%dr|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,xt?tt(e,h.precision):e};ge.toDecimalPlaces=ge.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bi(e,0,Ml),t===void 0?t=n.rounding:Bi(t,0,8),tt(r,e+Kt(r)+1,t))};ge.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=so(n,!0):(Bi(e,0,Ml),t===void 0?t=i.rounding:Bi(t,0,8),n=tt(new i(n),e+1,t),r=so(n,!0,e+1)),r};ge.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?so(i):(Bi(e,0,Ml),t===void 0?t=a.rounding:Bi(t,0,8),n=tt(new a(i),e+Kt(i)+1,t),r=so(n.abs(),!1,e+Kt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ge.toInteger=ge.toint=function(){var e=this,t=e.constructor;return tt(new t(e),Kt(e)+1,t.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(e){var t,r,n,i,a,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Un+"Infinity");return l}if(l.eq(gn))return l;if(n=c.precision,e.eq(gn))return tt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=l.s,s){if((r=d<0?-d:d)<=YD){for(i=new c(gn),t=Math.ceil(n/ct+4),xt=!1;r%2&&(i=i.times(l),sC(i.d,t)),r=Bl(r/2),r!==0;)l=l.times(l),sC(l.d,t);return xt=!0,e.s<0?new c(gn).div(i):tt(i,n)}}else if(a<0)throw Error(Un+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,xt=!1,i=e.times(Tu(l,n+u)),xt=!0,i=JD(i),i.s=a,i};ge.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Kt(i),n=so(i,r<=a.toExpNeg||r>=a.toExpPos)):(Bi(e,1,Ml),t===void 0?t=a.rounding:Bi(t,0,8),i=tt(new a(i),e,t),r=Kt(i),n=so(i,e<=r||r<=a.toExpNeg,e)),n};ge.toSignificantDigits=ge.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bi(e,1,Ml),t===void 0?t=n.rounding:Bi(t,0,8)),tt(new n(r),e,t)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Kt(e),r=e.constructor;return so(e,t<=r.toExpNeg||t>=r.toExpPos)};function XD(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),xt?tt(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),s=Math.ceil(h/ct),l=s>l?s+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/dr|0,c[a]%=dr;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,xt?tt(t,h):t}function Bi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qs+e)}function Oi(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=ct-n.length,r&&(a+=$a(r)),a+=n;s=e[t],n=s+"",r=ct-n.length,r&&(a+=$a(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var na=function(){function e(n,i){var a,s=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+s,n[l]=a%dr|0,s=a/dr|0;return s&&n.unshift(s),n}function t(n,i,a,s){var l,c;if(a!=s)c=a>s?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*dr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var l,c,u,d,h,f,p,g,w,y,_,b,k,x,C,S,j,N,T=n.constructor,P=n.s==i.s?1:-1,I=n.d,E=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Un+"Division by zero");for(c=n.e-i.e,j=E.length,C=I.length,p=new T(P),g=p.d=[],u=0;E[u]==(I[u]||0);)++u;if(E[u]>(I[u]||0)&&--c,a==null?b=a=T.precision:s?b=a+(Kt(n)-Kt(i))+1:b=a,b<0)return new T(0);if(b=b/ct+2|0,u=0,j==1)for(d=0,E=E[0],b++;(u<C||d)&&b--;u++)k=d*dr+(I[u]||0),g[u]=k/E|0,d=k%E|0;else{for(d=dr/(E[0]+1)|0,d>1&&(E=e(E,d),I=e(I,d),j=E.length,C=I.length),x=j,w=I.slice(0,j),y=w.length;y<j;)w[y++]=0;N=E.slice(),N.unshift(0),S=E[0],E[1]>=dr/2&&++S;do d=0,l=t(E,w,j,y),l<0?(_=w[0],j!=y&&(_=_*dr+(w[1]||0)),d=_/S|0,d>1?(d>=dr&&(d=dr-1),h=e(E,d),f=h.length,y=w.length,l=t(h,w,f,y),l==1&&(d--,r(h,j<f?N:E,f))):(d==0&&(l=d=1),h=E.slice()),f=h.length,f<y&&h.unshift(0),r(w,h,y),l==-1&&(y=w.length,l=t(E,w,j,y),l<1&&(d++,r(w,j<y?N:E,y))),y=w.length):l===0&&(d++,w=[0]),g[u++]=d,l&&w[0]?w[y++]=I[x]||0:(w=[I[x]],y=1);while((x++<C||w[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,tt(p,s?a+Kt(p)+1:a)}}();function JD(e,t){var r,n,i,a,s,l,c=0,u=0,d=e.constructor,h=d.precision;if(Kt(e)>16)throw Error(kx+Kt(e));if(!e.s)return new d(gn);for(xt=!1,l=h,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ts(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(gn),d.precision=l;;){if(i=tt(i.times(e),l),r=r.times(++c),s=a.plus(na(i,r,l)),Oi(s.d).slice(0,l)===Oi(a.d).slice(0,l)){for(;u--;)a=tt(a.times(a),l);return d.precision=h,t==null?(xt=!0,tt(a,h)):a}a=s}}function Kt(e){for(var t=e.e*ct,r=e.d[0];r>=10;r/=10)t++;return t}function ag(e,t,r){if(t>e.LN10.sd())throw xt=!0,r&&(e.precision=r),Error(Un+"LN10 precision limit exceeded");return tt(new e(e.LN10),t)}function $a(e){for(var t="";e--;)t+="0";return t}function Tu(e,t){var r,n,i,a,s,l,c,u,d,h=1,f=10,p=e,g=p.d,w=p.constructor,y=w.precision;if(p.s<1)throw Error(Un+(p.s?"NaN":"-Infinity"));if(p.eq(gn))return new w(0);if(t==null?(xt=!1,u=y):u=t,p.eq(10))return t==null&&(xt=!0),ag(w,u);if(u+=f,w.precision=u,r=Oi(g),n=r.charAt(0),a=Kt(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Oi(p.d),n=r.charAt(0),h++;a=Kt(p),n>1?(p=new w("0."+r),a++):p=new w(n+"."+r.slice(1))}else return c=ag(w,u+2,y).times(a+""),p=Tu(new w(n+"."+r.slice(1)),u-f).plus(c),w.precision=y,t==null?(xt=!0,tt(p,y)):p;for(l=s=p=na(p.minus(gn),p.plus(gn),u),d=tt(p.times(p),u),i=3;;){if(s=tt(s.times(d),u),c=l.plus(na(s,new w(i),u)),Oi(c.d).slice(0,u)===Oi(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(ag(w,u+2,y).times(a+""))),l=na(l,new w(h),u),w.precision=y,t==null?(xt=!0,tt(l,y)):l;l=c,i+=2}}function aC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Bl(r/ct),e.d=[],n=(r+1)%ct,r<0&&(n+=ct),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ct;n<i;)e.d.push(+t.slice(n,n+=ct));t=t.slice(n),n=ct-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),xt&&(e.e>Yf||e.e<-Yf))throw Error(kx+r)}else e.s=0,e.e=0,e.d=[0];return e}function tt(e,t,r){var n,i,a,s,l,c,u,d,h=e.d;for(s=1,a=h[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=ct,i=t,u=h[d=0];else{if(d=Math.ceil((n+1)/ct),a=h.length,d>=a)return e;for(u=a=h[d],s=1;a>=10;a/=10)s++;n%=ct,i=n-ct+s}if(r!==void 0&&(a=Ts(10,s-i-1),l=u/a%10|0,c=t<0||h[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Ts(10,s-i):0:h[d-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return c?(a=Kt(e),h.length=1,t=t-a-1,h[0]=Ts(10,(ct-t%ct)%ct),e.e=Bl(-t/ct)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(n==0?(h.length=d,a=1,d--):(h.length=d+1,a=Ts(10,ct-n),h[d]=i>0?(u/Ts(10,s-i)%Ts(10,i)|0)*a:0),c)for(;;)if(d==0){(h[0]+=a)==dr&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=dr)break;h[d--]=0,a=1}for(n=h.length;h[--n]===0;)h.pop();if(xt&&(e.e>Yf||e.e<-Yf))throw Error(kx+Kt(e));return e}function QD(e,t){var r,n,i,a,s,l,c,u,d,h,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),xt?tt(t,p):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(p/ct),l)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=dr-1;--c[a],c[i]+=dr}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,xt?tt(t,p):t):new f(0)}function so(e,t,r){var n,i=Kt(e),a=Oi(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+$a(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+$a(-i-1)+a,r&&(n=r-s)>0&&(a+=$a(n))):i>=s?(a+=$a(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+$a(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=$a(n))),e.s<0?"-"+a:a}function sC(e,t){if(e.length>t)return e.length=t,!0}function ZD(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(qs+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return aC(s,a.toString())}else if(typeof a!="string")throw Error(qs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,C_e.test(a))aC(s,a);else throw Error(qs+a)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ZD,i.config=i.set=N_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function N_e(e){if(!e||typeof e!="object")throw Error(Un+"Object expected");var t,r,n,i=["precision",1,Ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Bl(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(qs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qs+r+": "+n);return this}var jx=ZD(S_e);gn=new jx(1);const Qe=jx;function eL(e){var t;return e===0?t=1:t=Math.floor(new Qe(e).abs().log(10).toNumber())+1,t}function tL(e,t,r){for(var n=new Qe(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var rL=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},nL=(e,t,r)=>{if(e.lte(0))return new Qe(0);var n=eL(e.toNumber()),i=new Qe(10).pow(n),a=e.div(i),s=n!==1?.05:.1,l=new Qe(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=l.mul(i);return t?new Qe(c.toNumber()):new Qe(Math.ceil(c.toNumber()))},T_e=(e,t,r)=>{var n=new Qe(1),i=new Qe(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Qe(10).pow(eL(e)-1),i=new Qe(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Qe(Math.floor(e)))}else e===0?i=new Qe(Math.floor((t-1)/2)):r||(i=new Qe(Math.floor(e)));for(var s=Math.floor((t-1)/2),l=[],c=0;c<t;c++)l.push(i.add(new Qe(c-s).mul(n)).toNumber());return l},iL=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Qe(0),tickMin:new Qe(0),tickMax:new Qe(0)};var s=nL(new Qe(r).sub(t).div(n-1),i,a),l;t<=0&&r>=0?l=new Qe(0):(l=new Qe(t).add(r).div(2),l=l.sub(new Qe(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),u=Math.ceil(new Qe(r).sub(l).div(s).toNumber()),d=c+u+1;return d>n?iL(t,r,n,i,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:s,tickMin:l.sub(new Qe(c).mul(s)),tickMax:l.add(new Qe(u).mul(s))})},E_e=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[l,c]=rL([r,n]);if(l===-1/0||c===1/0){var u=c===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?u.reverse():u}if(l===c)return T_e(l,i,a);var{step:d,tickMin:h,tickMax:f}=iL(l,c,s,a,0),p=tL(h,f.add(new Qe(.1).mul(d)),d);return r>n?p.reverse():p},P_e=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=rL([n,i]);if(s===-1/0||l===1/0)return[n,i];if(s===l)return[s];var c=Math.max(r,2),u=nL(new Qe(l).sub(s).div(c-1),a,0),d=[...tL(new Qe(s),new Qe(l),u),l];return a===!1&&(d=d.map(h=>Math.round(h))),n>i?d.reverse():d},aL=e=>e.rootProps.maxBarSize,A_e=e=>e.rootProps.barGap,sL=e=>e.rootProps.barCategoryGap,O_e=e=>e.rootProps.barSize,ad=e=>e.rootProps.stackOffset,oL=e=>e.rootProps.reverseStackOrder,Sx=e=>e.options.chartName,Cx=e=>e.rootProps.syncId,lL=e=>e.rootProps.syncMethod,Nx=e=>e.options.eventEmitter,I_e=e=>e.rootProps.baseValue,Vt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},bs={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ji={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Np=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Tp(e,t,r){if(r!=="auto")return r;if(e!=null)return zi(e,t)?"category":"number"}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){D_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D_e(e,t,r){return(t=L_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L_e(e){var t=$_e(e,"string");return typeof t=="symbol"?t:t+""}function $_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lC={allowDataOverflow:bs.allowDataOverflow,allowDecimals:bs.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:bs.angleAxisId,includeHidden:!1,name:void 0,reversed:bs.reversed,scale:bs.scale,tick:bs.tick,tickCount:void 0,ticks:void 0,type:bs.type,unit:void 0},cC={allowDataOverflow:ji.allowDataOverflow,allowDecimals:ji.allowDecimals,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:ji.includeHidden,name:void 0,reversed:ji.reversed,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},R_e=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Tx=F([R_e,UI],(e,t)=>{var r;if(e!=null)return e;var n=(r=Tp(t,"angleAxis",lC.type))!==null&&r!==void 0?r:"category";return Xf(Xf({},lC),{},{type:n})}),M_e=(e,t)=>e.polarAxis.radiusAxis[t],Ex=F([M_e,UI],(e,t)=>{var r;if(e!=null)return e;var n=(r=Tp(t,"radiusAxis",cC.type))!==null&&r!==void 0?r:"category";return Xf(Xf({},cC),{},{type:n})}),Ep=e=>e.polarOptions,Px=F([ba,ka,ir],aD),cL=F([Ep,Px],(e,t)=>{if(e!=null)return Ir(e.innerRadius,t,0)}),uL=F([Ep,Px],(e,t)=>{if(e!=null)return Ir(e.outerRadius,t,t*.8)}),B_e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dL=F([Ep],B_e);F([Tx,dL],Np);var hL=F([Px,cL,uL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});F([Ex,hL],Np);var fL=F([Fe,Ep,cL,uL,ba,ka],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:l,startAngle:c,endAngle:u}=t;return{cx:Ir(s,i,i/2),cy:Ir(l,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Et=(e,t)=>t,sd=(e,t,r)=>r;function Pp(e){return e==null?void 0:e.id}function mL(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Pp(l);u.forEach((h,f)=>{var p=a==null||i?f:String(et(h,a,null)),g=et(h,l.dataKey,0),w;s.has(p)?w=s.get(p):w={},Object.assign(w,{[d]:g}),s.set(p,w)})}}),Array.from(s.values())}function Ap(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Op=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ip(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function F_e(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var _r=e=>{var t=Fe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fl=e=>e.tooltip.settings.axisId;function z_e(e){if(e in kc)return kc[e]();var t="scale".concat(Vu(e));if(t in kc)return kc[t]()}function uC(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],l=i[1];return s<=l?a>=s&&a<=l:a>=l&&a<=s},bandwidth:r?()=>r.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,s)=>{var l=e(a);if(l!=null){if(e.bandwidth&&s!==null&&s!==void 0&&s.position){var c=e.bandwidth();switch(s.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function dC(e,t,r){if(typeof e=="function")return uC(e.copy().domain(t).range(r));if(e!=null){var n=z_e(e);if(n!=null)return n.domain(t).range(r),uC(n)}}var pL=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!pa(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];De(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){U_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U_e(e,t,r){return(t=W_e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_e(e){var t=H_e(e,"string");return typeof t=="symbol"?t:t+""}function H_e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k_=[0,"auto"],cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},vL=(e,t)=>e.cartesianAxis.xAxis[t],Ca=(e,t)=>{var r=vL(e,t);return r??cr},ur={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:k_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Yu},gL=(e,t)=>e.cartesianAxis.yAxis[t],Na=(e,t)=>{var r=gL(e,t);return r??ur},q_e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ax=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??q_e},Rt=(e,t,r)=>{switch(t){case"xAxis":return Ca(e,r);case"yAxis":return Na(e,r);case"zAxis":return Ax(e,r);case"angleAxis":return Tx(e,r);case"radiusAxis":return Ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},V_e=(e,t,r)=>{switch(t){case"xAxis":return Ca(e,r);case"yAxis":return Na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zl=(e,t,r)=>{switch(t){case"xAxis":return Ca(e,r);case"yAxis":return Na(e,r);case"angleAxis":return Tx(e,r);case"radiusAxis":return Ex(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ox(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Dp=e=>e.graphicalItems.cartesianItems,K_e=F([Et,sd],Ox),Ix=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),od=F([Dp,Rt,K_e],Ix,{memoizeOptions:{resultEqualityCheck:Ip}}),_L=F([od],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ap)),wL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),G_e=F([od],wL),Dx=e=>e.map(t=>t.data).filter(Boolean).flat(1),Y_e=F([od],Dx,{memoizeOptions:{resultEqualityCheck:Ip}}),Lx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},$x=F([Y_e,VD],Lx),Rx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:et(i,n)}))):e.map(n=>({value:n})),Lp=F([$x,Rt,od],Rx);function xL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Sh(e){if(Ri(e)||e instanceof Date){var t=Number(e);if(De(t))return t}}function fC(e){if(Array.isArray(e)){var t=[Sh(e[0]),Sh(e[1])];return pa(t)?t:void 0}var r=Sh(e);if(r!=null)return[r,r]}function va(e){return e.map(Sh).filter(Zr)}function X_e(e,t,r){return!r||typeof t!="number"||hi(t)?[]:r.length?va(r.flatMap(n=>{var i=et(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!De(a)||!De(s)))return[t-a,t+s]})):[]}var sr=e=>{var t=_r(e),r=Fl(e);return zl(e,t,r)},ld=F([sr],e=>e==null?void 0:e.dataKey),J_e=F([_L,VD,sr],mL),bL=(e,t,r,n)=>{var i={},a=t.reduce((s,l)=>{if(l.stackId==null)return s;var c=s[l.stackId];return c==null&&(c=[]),c.push(l),s[l.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[l,c]=s,u=n?[...c].reverse():c,d=u.map(Pp);return[l,{stackedData:zme(e,d,r),graphicalItems:u}]}))},Qf=F([J_e,_L,ad,oL],bL),kL=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=qme(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Q_e=F([Rt],e=>e.allowDataOverflow),Mx=e=>{var t;if(e==null||!("domain"in e))return k_;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=va(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:k_},Bx=F([Rt],Mx),Fx=F([Bx,Q_e],GD),Z_e=F([Qf,Sa,Et,Fx],kL,{memoizeOptions:{resultEqualityCheck:Op}}),$p=e=>e.errorBars,e0e=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>xL(r,n)),Zf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),l=Math.max(...a);return[s,l]}},zx=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(l=>{r.forEach(c=>{var u,d,h=(u=n[c.id])===null||u===void 0?void 0:u.filter(_=>xL(i,_)),f=et(l,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),p=X_e(l,f,h);if(p.length>=2){var g=Math.min(...p),w=Math.max(...p);(a==null||g<a)&&(a=g),(s==null||w>s)&&(s=w)}var y=fC(f);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var c=fC(et(l,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),De(a)&&De(s))return[a,s]},t0e=F([$x,Rt,G_e,$p,Et],zx,{memoizeOptions:{resultEqualityCheck:Op}});function r0e(e){var{value:t}=e;if(Ri(t)||t instanceof Date)return t}var n0e=(e,t,r)=>{var n=e.map(r0e).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&gO(n))?hD(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},jL=e=>e.referenceElements.dots,Ul=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),i0e=F([jL,Et,sd],Ul),SL=e=>e.referenceElements.areas,a0e=F([SL,Et,sd],Ul),CL=e=>e.referenceElements.lines,s0e=F([CL,Et,sd],Ul),NL=(e,t)=>{if(e!=null){var r=va(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},o0e=F(i0e,Et,NL),TL=(e,t)=>{if(e!=null){var r=va(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},l0e=F([a0e,Et],TL);function c0e(e){var t;if(e.x!=null)return va([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:va(r)}function u0e(e){var t;if(e.y!=null)return va([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:va(r)}var EL=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?c0e(n):u0e(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},d0e=F([s0e,Et],EL),h0e=F(o0e,d0e,l0e,(e,t,r)=>Zf(e,r,t)),Ux=(e,t,r,n,i,a,s,l)=>{if(r!=null)return r;var c=s==="vertical"&&l==="xAxis"||s==="horizontal"&&l==="yAxis",u=c?Zf(n,a,i):Zf(a,i);return j_e(t,u,e.allowDataOverflow)},f0e=F([Rt,Bx,Fx,Z_e,t0e,h0e,Fe,Et],Ux,{memoizeOptions:{resultEqualityCheck:Op}}),m0e=[0,1],Wx=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:l,type:c}=e,u=zi(t,a);if(u&&l==null){var d;return hD(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?n0e(n,e,u):i==="expand"?m0e:s}},Hx=F([Rt,Fe,$x,Lp,ad,Et,f0e],Wx);function p0e(e){return e in kc}var PL=(e,t,r)=>{if(e!=null){var{scale:n,type:i}=e;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(Vu(n));return p0e(a)?a:"point"}}},vs=F([Rt,yL,Sx],PL);function qx(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?dC(e.scale,r,n):dC(t,r,n)}var Vx=(e,t,r)=>{var n=Mx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&pa(e))return E_e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pa(e))return P_e(e,t.tickCount,t.allowDecimals)}},Kx=F([Hx,zl,vs],Vx),Gx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pa(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],l=(i=r[0])!==null&&i!==void 0?i:0,c=t[1],u=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,l),Math.max(c,u)]}return t},v0e=F([Rt,Hx,Kx,Et],Gx),g0e=F(Lp,Rt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(va(e.map(h=>h.value))).sort((h,f)=>h-f),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var l=0;l<n.length-1;l++){var c=n[l],u=n[l+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/s}}),AL=F(g0e,Fe,sL,ir,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!De(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ir(r,e*a),l=e*a/2;return l-s-(l-s)/a*s}return 0}),y0e=(e,t,r)=>{var n=Ca(e,t);return n==null||typeof n.padding!="string"?0:AL(e,"xAxis",t,r,n.padding)},_0e=(e,t,r)=>{var n=Na(e,t);return n==null||typeof n.padding!="string"?0:AL(e,"yAxis",t,r,n.padding)},w0e=F(Ca,y0e,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),x0e=F(Na,_0e,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),b0e=F([ir,w0e,pp,mp,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),k0e=F([ir,Fe,x0e,pp,mp,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),cd=(e,t,r,n)=>{var i;switch(t){case"xAxis":return b0e(e,r,n);case"yAxis":return k0e(e,r,n);case"zAxis":return(i=Ax(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return dL(e);case"radiusAxis":return hL(e,r);default:return}},OL=F([Rt,cd],Np),j0e=F([vs,v0e],pL),Rp=F([Rt,vs,j0e,OL],qx);F([od,$p,Et],e0e);function IL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Mp=(e,t)=>t,Bp=(e,t,r)=>r,S0e=F(hp,Mp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IL)),C0e=F(fp,Mp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IL)),DL=(e,t)=>({width:e.width,height:t.height}),N0e=(e,t)=>{var r=typeof t.width=="number"?t.width:Yu;return{width:r,height:e.height}},LL=F(ir,Ca,DL),T0e=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},E0e=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},P0e=F(ka,ir,S0e,Mp,Bp,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=DL(t,l);s==null&&(s=T0e(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[l.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),A0e=F(ba,ir,C0e,Mp,Bp,(e,t,r,n,i)=>{var a={},s;return r.forEach(l=>{var c=N0e(t,l);s==null&&(s=E0e(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[l.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),O0e=(e,t)=>{var r=Ca(e,t);if(r!=null)return P0e(e,r.orientation,r.mirror)},I0e=F([ir,Ca,O0e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),D0e=(e,t)=>{var r=Na(e,t);if(r!=null)return A0e(e,r.orientation,r.mirror)},L0e=F([ir,Na,D0e,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),$L=F(ir,Na,(e,t)=>{var r=typeof t.width=="number"?t.width:Yu;return{width:r,height:e.height}}),mC=(e,t,r)=>{switch(t){case"xAxis":return LL(e,r).width;case"yAxis":return $L(e,r).height;default:return}},RL=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,l=zi(e,n),c=t.map(u=>u.value);if(s&&l&&a==="category"&&i&&gO(c))return c}},Yx=F([Fe,Lp,Rt,Et],RL),ML=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=zi(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(l=>l.value)}},Xx=F([Fe,Lp,zl,Et],ML),pC=F([Fe,V_e,vs,Rp,Yx,Xx,cd,Kx,Et],(e,t,r,n,i,a,s,l,c)=>{if(t!=null){var u=zi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:l,range:s,realScaleType:r,scale:n}}}),$0e=(e,t,r,n,i,a,s,l,c)=>{if(!(t==null||n==null)){var u=zi(e,c),{type:d,ticks:h,tickCount:f}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/p:0;g=c==="angleAxis"&&a!=null&&a.length>=2?mr(a[0]-a[1])*2*g:g;var w=h||i;return w?w.map((y,_)=>{var b=s?s.indexOf(y):y,k=n.map(b);return De(k)?{index:_,coordinate:k+g,value:y,offset:g}:null}).filter(Zr):u&&l?l.map((y,_)=>{var b=n.map(y);return De(b)?{coordinate:b+g,value:y,index:_,offset:g}:null}).filter(Zr):n.ticks?n.ticks(f).map((y,_)=>{var b=n.map(y);return De(b)?{coordinate:b+g,value:y,index:_,offset:g}:null}).filter(Zr):n.domain().map((y,_)=>{var b=n.map(y);return De(b)?{coordinate:b+g,value:s?s[y]:y,index:_,offset:g}:null}).filter(Zr)}},BL=F([Fe,zl,vs,Rp,Kx,cd,Yx,Xx,Et],$0e),R0e=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=zi(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?mr(n[0]-n[1])*2*u:u,l&&a?a.map((d,h)=>{var f=r.map(d);return De(f)?{coordinate:f+u,value:d,index:h,offset:u}:null}).filter(Zr):r.ticks?r.ticks(c).map((d,h)=>{var f=r.map(d);return De(f)?{coordinate:f+u,value:d,index:h,offset:u}:null}).filter(Zr):r.domain().map((d,h)=>{var f=r.map(d);return De(f)?{coordinate:f+u,value:i?i[d]:d,index:h,offset:u}:null}).filter(Zr)}},ss=F([Fe,zl,Rp,cd,Yx,Xx,Et],R0e),os=F(Rt,Rp,(e,t)=>{if(!(e==null||t==null))return Jf(Jf({},e),{},{scale:t})}),M0e=F([Rt,vs,Hx,OL],qx);F((e,t,r)=>Ax(e,r),M0e,(e,t)=>{if(!(e==null||t==null))return Jf(Jf({},e),{},{scale:t})});var B0e=F([Fe,hp,fp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),FL=e=>e.options.defaultTooltipEventType,zL=e=>e.options.validateTooltipEventTypes;function UL(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Jx(e,t){var r=FL(e),n=zL(e);return UL(t,r,n)}function F0e(e){return we(t=>Jx(t,e))}var WL=(e,t)=>{var r,n=Number(t);if(!(hi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},z0e=e=>e.tooltip.settings,za={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},U0e={itemInteraction:{click:za,hover:za},axisInteraction:{click:za,hover:za},keyboardInteraction:za,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},HL=ln({name:"tooltip",initialState:U0e,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:_t()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oi(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:_t()},removeTooltipEntrySettings:{reducer(e,t){var r=oi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:_t()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:W0e,replaceTooltipEntrySettings:H0e,removeTooltipEntrySettings:q0e,setTooltipSettingsState:V0e,setActiveMouseOverItemIndex:qL,mouseLeaveItem:K0e,mouseLeaveChart:VL,setActiveClickItemIndex:G0e,setMouseOverAxisIndex:KL,setMouseClickAxisIndex:Y0e,setSyncInteraction:j_,setKeyboardInteraction:S_}=HL.actions,X0e=HL.reducer;function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){J0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J0e(e,t,r){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q0e(e){var t=Z0e(e,"string");return typeof t=="symbol"?t:t+""}function Z0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ewe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function twe(e){return e.index!=null}var GL=(e,t,r,n)=>{if(t==null)return za;var i=ewe(e,t,r);if(i==null)return za;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(twe(i)){if(a)return rh(rh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return rh(rh({},za),{},{coordinate:i.coordinate})};function rwe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function nwe(e,t){var r=rwe(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function iwe(e,t,r){if(r==null||t==null)return!0;var n=et(e,t);return n==null||!pa(r)?!0:nwe(n,r)}var Qx=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!De(a))return i;var s=0,l=1/0;t.length>0&&(l=t.length-1);var c=Math.max(s,Math.min(a,l)),u=t[c];return u==null||iwe(u,r,n)?String(c):null},YL=(e,t,r,n,i,a,s)=>{if(a!=null){var l=s[0],c=l==null?void 0:l.getPosition(a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},XL=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},JL=e=>e.options.tooltipPayloadSearcher,Wl=e=>e.tooltip;function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){awe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function awe(e,t,r){return(t=swe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function swe(e){var t=owe(e,"string");return typeof t=="symbol"?t:t+""}function owe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lwe(e,t){return e??t}var QL=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,h=[];return e.reduce((f,p)=>{var g,{dataDefinedOnItem:w,settings:y}=p,_=lwe(w,l),b=Array.isArray(_)?CI(_,u,d):_,k=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,x=y==null?void 0:y.nameKey,C;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?C=yO(b,n,i):C=a(b,t,c,x),Array.isArray(C))C.forEach(j=>{var N=yC(yC({},y),{},{name:j.name,unit:j.unit,color:void 0,fill:void 0});f.push(Cj({tooltipEntrySettings:N,dataKey:j.dataKey,payload:j.payload,value:et(j.payload,j.dataKey),name:j.name}))});else{var S;f.push(Cj({tooltipEntrySettings:y,dataKey:k,payload:C,value:et(C,k),name:(S=et(C,x))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return f},h)}},Zx=F([sr,yL,Sx],PL),cwe=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),uwe=F([_r,Fl],Ox),Hl=F([cwe,sr,uwe],Ix,{memoizeOptions:{resultEqualityCheck:Ip}}),dwe=F([Hl],e=>e.filter(Ap)),hwe=F([Hl],Dx,{memoizeOptions:{resultEqualityCheck:Ip}}),ql=F([hwe,Sa],Lx),fwe=F([dwe,Sa,sr],mL),eb=F([ql,sr,Hl],Rx),ZL=F([sr],Mx),mwe=F([sr],e=>e.allowDataOverflow),e$=F([ZL,mwe],GD),pwe=F([Hl],e=>e.filter(Ap)),vwe=F([fwe,pwe,ad,oL],bL),gwe=F([vwe,Sa,_r,e$],kL),ywe=F([Hl],wL),_we=F([ql,sr,ywe,$p,_r],zx,{memoizeOptions:{resultEqualityCheck:Op}}),wwe=F([jL,_r,Fl],Ul),xwe=F([wwe,_r],NL),bwe=F([SL,_r,Fl],Ul),kwe=F([bwe,_r],TL),jwe=F([CL,_r,Fl],Ul),Swe=F([jwe,_r],EL),Cwe=F([xwe,Swe,kwe],Zf),Nwe=F([sr,ZL,e$,gwe,_we,Cwe,Fe,_r],Ux),ud=F([sr,Fe,ql,eb,ad,_r,Nwe],Wx),Twe=F([ud,sr,Zx],Vx),Ewe=F([sr,ud,Twe,_r],Gx),t$=e=>{var t=_r(e),r=Fl(e),n=!1;return cd(e,t,r,n)},r$=F([sr,t$],Np),n$=F([sr,Zx,Ewe,r$],qx),Pwe=F([Fe,eb,sr,_r],RL),Awe=F([Fe,eb,sr,_r],ML),Owe=(e,t,r,n,i,a,s,l)=>{if(t){var{type:c}=t,u=zi(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return h=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mr(i[0]-i[1])*2*h:h,u&&s?s.map((f,p)=>{var g=n.map(f);return De(g)?{coordinate:g+h,value:f,index:p,offset:h}:null}).filter(Zr):n.domain().map((f,p)=>{var g=n.map(f);return De(g)?{coordinate:g+h,value:a?a[f]:f,index:p,offset:h}:null}).filter(Zr)}}},Ta=F([Fe,sr,Zx,n$,t$,Pwe,Awe,_r],Owe),tb=F([FL,zL,z0e],(e,t,r)=>UL(r.shared,e,t)),i$=e=>e.tooltip.settings.trigger,rb=e=>e.tooltip.settings.defaultIndex,dd=F([Wl,tb,i$,rb],GL),ls=F([dd,ql,ld,ud],Qx),a$=F([Ta,ls],WL),nb=F([dd],e=>{if(e)return e.dataKey}),Iwe=F([dd],e=>{if(e)return e.graphicalItemId}),s$=F([Wl,tb,i$,rb],XL),Dwe=F([ba,ka,Fe,ir,Ta,rb,s$],YL),Lwe=F([dd,Dwe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),$we=F([dd],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Rwe=F([s$,ls,Sa,ld,a$,JL,tb],QL),Mwe=F([Rwe],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){Bwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bwe(e,t,r){return(t=Fwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fwe(e){var t=zwe(e,"string");return typeof t=="symbol"?t:t+""}function zwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uwe=()=>we(sr),Wwe=()=>{var e=Uwe(),t=we(Ta),r=we(n$);return wl(!e||!r?void 0:wC(wC({},e),{},{scale:r}),t)};function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){Hwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hwe(e,t,r){return(t=qwe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qwe(e){var t=Vwe(e,"string");return typeof t=="symbol"?t:t+""}function Vwe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kwe=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Gwe=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return No(No(No({},n),qt(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var l=i.coordinate,{angle:c}=n;return No(No(No({},n),qt(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ywe(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var o$=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<s;l++){var c,u,d,h,f,p=l>0?(c=r[l-1])===null||c===void 0?void 0:c.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,w=l>=s-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(f=r[l+1])===null||f===void 0?void 0:f.coordinate,y=void 0;if(!(p==null||g==null||w==null))if(mr(g-p)!==mr(w-g)){var _=[];if(mr(w-g)===mr(i[1]-i[0])){y=w;var b=g+i[1]-i[0];_[0]=Math.min(b,(b+p)/2),_[1]=Math.max(b,(b+p)/2)}else{y=p;var k=w+i[1]-i[0];_[0]=Math.min(g,(k+g)/2),_[1]=Math.max(g,(k+g)/2)}var x=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>x[0]&&e<=x[1]||e>=_[0]&&e<=_[1]){var C;return(C=r[l])===null||C===void 0?void 0:C.index}}else{var S=Math.min(p,w),j=Math.max(p,w);if(e>(S+g)/2&&e<=(j+g)/2){var N;return(N=r[l])===null||N===void 0?void 0:N.index}}}else if(t)for(var T=0;T<s;T++){var P=t[T];if(P!=null){var I=t[T+1],E=t[T-1];if(T===0&&I!=null&&e<=(P.coordinate+I.coordinate)/2||T===s-1&&E!=null&&e>(P.coordinate+E.coordinate)/2||T>0&&T<s-1&&E!=null&&I!=null&&e>(P.coordinate+E.coordinate)/2&&e<=(P.coordinate+I.coordinate)/2)return P.index}}return-1},l$=()=>we(Sx),ib=(e,t)=>t,c$=(e,t,r)=>r,ab=(e,t,r,n)=>n,Xwe=F(Ta,e=>rp(e,t=>t.coordinate)),sb=F([Wl,ib,c$,ab],GL),ob=F([sb,ql,ld,ud],Qx),Jwe=(e,t,r)=>{if(t!=null){var n=Wl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},u$=F([Wl,ib,c$,ab],XL),em=F([ba,ka,Fe,ir,Ta,ab,u$],YL),Qwe=F([sb,em],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),d$=F([Ta,ob],WL),Zwe=F([u$,ob,Sa,ld,d$,JL,ib],QL),exe=F([sb,ob],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),txe=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&Ywe(e,s)){var l=Vme(e,t),c=o$(l,a,i,r,n),u=Kwe(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},rxe=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var l=Hve(e,r);if(l){var c=Kme(l,t),u=o$(c,s,a,n,i),d=Gwe(t,a,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},nxe=(e,t,r,n,i,a,s,l)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?txe(e,t,n,i,a,s,l):rxe(e,t,r,n,i,a,s)},ixe=F(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),axe=F(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:F_e}});function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){sxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sxe(e,t,r){return(t=oxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return typeof t=="symbol"?t:t+""}function lxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cxe={},uxe={zIndexMap:Object.values(Vt).reduce((e,t)=>kC(kC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),cxe)},dxe=new Set(Object.values(Vt));function hxe(e){return dxe.has(e)}var h$=ln({name:"zIndex",initialState:uxe,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:_t()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!hxe(r)&&delete e.zIndexMap[r])},prepare:_t()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:_t()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:_t()}}}),{registerZIndexPortal:fxe,unregisterZIndexPortal:mxe,registerZIndexPortalElement:pxe,unregisterZIndexPortalElement:vxe}=h$.actions,gxe=h$.reducer;function cn(e){var{zIndex:t,children:r}=e,n=_pe(),i=n&&t!==void 0&&t!==0,a=Lr(),s=bt();m.useLayoutEffect(()=>i?(s(fxe({zIndex:t})),()=>{s(mxe({zIndex:t}))}):uo,[s,t,i]);var l=we(c=>ixe(c,t,a));return i?l?Ha.createPortal(r,l):null:r}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(null,arguments)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){yxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=wxe(e,"string");return typeof t=="symbol"?t:t+""}function wxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xxe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function bxe(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:l,cursor:c,tooltipEventType:u,chartName:d}=e,h=r,f=n,p=i;if(!c||!h||d!=="ScatterChart"&&u!=="axis")return null;var g,w,y;if(d==="ScatterChart")g=h,w=ive,y=Vt.cursorLine;else if(d==="BarChart")g=ave(l,h,a,s),w=iD,y=Vt.cursorRectangle;else if(l==="radial"&&xO(h)){var{cx:_,cy:b,radius:k,startAngle:x,endAngle:C}=sD(h);g={cx:_,cy:b,startAngle:x,endAngle:C,innerRadius:k,outerRadius:k},w=lD,y=Vt.cursorLine}else g={points:Gve(l,h,a)},w=il,y=Vt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,j=nh(nh(nh(nh({stroke:"#ccc",pointerEvents:"none"},a),g),Zs(c)),{},{payload:f,payloadIndex:p,className:Ke("recharts-tooltip-cursor",S)});return m.createElement(cn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},m.createElement(xxe,{cursor:c,cursorComp:w,cursorProps:j}))}function kxe(e){var t=Wwe(),r=BI(),n=ho(),i=l$();return t==null||r==null||n==null||i==null?null:m.createElement(bxe,C_({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var f$=m.createContext(null),jxe=()=>m.useContext(f$),m$={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||c,f),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)t.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,f,p,g){var w=r?r+u:u;if(!this._events[w])return!1;var y=this._events[w],_=arguments.length,b,k;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),_){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,h),!0;case 4:return y.fn.call(y.context,d,h,f),!0;case 5:return y.fn.call(y.context,d,h,f,p),!0;case 6:return y.fn.call(y.context,d,h,f,p,g),!0}for(k=1,b=new Array(_-1);k<_;k++)b[k-1]=arguments[k];y.fn.apply(y.context,b)}else{var x=y.length,C;for(k=0;k<x;k++)switch(y[k].once&&this.removeListener(u,y[k].fn,void 0,!0),_){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,d);break;case 3:y[k].fn.call(y[k].context,d,h);break;case 4:y[k].fn.call(y[k].context,d,h,f);break;default:if(!b)for(C=1,b=new Array(_-1);C<_;C++)b[C-1]=arguments[C];y[k].fn.apply(y[k].context,b)}}return!0},l.prototype.on=function(u,d,h){return a(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return a(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&s(this,p);else{for(var w=0,y=[],_=g.length;w<_;w++)(g[w].fn!==d||f&&!g[w].once||h&&g[w].context!==h)&&y.push(g[w]);y.length?this._events[p]=y.length===1?y[0]:y:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(m$);var Sxe=m$.exports;const Cxe=ya(Sxe);var Eu=new Cxe,N_="recharts.syncEvent.tooltip",SC="recharts.syncEvent.brush",lb=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!hi(r))return e[r]}},Nxe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},p$=ln({name:"options",initialState:Nxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Txe=p$.reducer,{createEventEmitter:Exe}=p$.actions;function Pxe(e){return e.tooltip.syncInteraction}var Axe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},v$=ln({name:"chartData",initialState:Axe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:CC,setDataStartEndIndexes:Oxe,setComputedData:DEe}=v$.actions,Ixe=v$.reducer,Dxe=["x","y"];function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){Lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lxe(e,t,r){return(t=$xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Rxe(e,"string");return typeof t=="symbol"?t:t+""}function Rxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mxe(e,t){if(e==null)return{};var r,n,i=Bxe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bxe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fxe(){var e=we(Cx),t=we(Nx),r=bt(),n=we(lL),i=we(Ta),a=ho(),s=vp(),l=we(c=>c.rootProps.className);m.useEffect(()=>{if(e==null)return uo;var c=(u,d,h)=>{if(t!==h&&e===u){if(n==="index"){var f;if(s&&d!==null&&d!==void 0&&(f=d.payload)!==null&&f!==void 0&&f.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:g,y:w}=p,y=Mxe(p,Dxe),{x:_,y:b,width:k,height:x}=d.payload.sourceViewBox,C=To(To({},y),{},{x:s.x+(k?(g-_)/k:0)*s.width,y:s.y+(x?(w-b)/x:0)*s.height});r(To(To({},d),{},{payload:To(To({},d.payload),{},{coordinate:C})}))}else r(d);return}if(i!=null){var S;if(typeof n=="function"){var j={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},N=n(i,j);S=i[N]}else n==="value"&&(S=i.find(te=>String(te.value)===d.payload.label));var{coordinate:T}=d.payload;if(S==null||d.payload.active===!1||T==null||s==null){r(j_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:P,y:I}=T,E=Math.min(P,s.x+s.width),B=Math.min(I,s.y+s.height),K={x:a==="horizontal"?S.coordinate:E,y:a==="horizontal"?B:S.coordinate},R=j_({active:d.payload.active,coordinate:K,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(R)}}};return Eu.on(N_,c),()=>{Eu.off(N_,c)}},[l,r,t,e,n,i,a,s])}function zxe(){var e=we(Cx),t=we(Nx),r=bt();m.useEffect(()=>{if(e==null)return uo;var n=(i,a,s)=>{t!==s&&e===i&&r(Oxe(a))};return Eu.on(SC,n),()=>{Eu.off(SC,n)}},[r,t,e])}function Uxe(){var e=bt();m.useEffect(()=>{e(Exe())},[e]),Fxe(),zxe()}function Wxe(e,t,r,n,i,a){var s=we(p=>Jwe(p,e,t)),l=we(Nx),c=we(Cx),u=we(lL),d=we(Pxe),h=d==null?void 0:d.active,f=vp();m.useEffect(()=>{if(!h&&c!=null&&l!=null){var p=j_({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:f,graphicalItemId:void 0});Eu.emit(N_,c,p,l)}},[h,r,s,i,n,l,c,u,a,f])}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hxe(e,t,r){return(t=qxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qxe(e){var t=Vxe(e,"string");return typeof t=="symbol"?t:t+""}function Vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kxe(e){return e.dataKey}function Gxe(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(Rpe,t)}var PC=[],Yxe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ih(e){var t,r,n=gr(e,Yxe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:w,wrapperStyle:y,cursor:_,shared:b,trigger:k,defaultIndex:x,portal:C,axisId:S}=n,j=bt(),N=typeof x=="number"?String(x):x;m.useEffect(()=>{j(V0e({shared:b,trigger:k,axisId:S,active:i,defaultIndex:N}))},[j,b,k,S,i,N]);var T=vp(),P=ZI(),I=F0e(b),{activeIndex:E,isActive:B}=(t=we(ce=>exe(ce,I,k,N)))!==null&&t!==void 0?t:{},K=we(ce=>Zwe(ce,I,k,N)),R=we(ce=>d$(ce,I,k,N)),te=we(ce=>Qwe(ce,I,k,N)),A=K,U=jxe(),z=(r=i??B)!==null&&r!==void 0?r:!1,[Q,W]=Ofe([A,z]),re=I==="axis"?R:void 0;Wxe(I,k,te,re,E,z);var O=C??U;if(O==null||T==null||I==null)return null;var $=A??PC;z||($=PC),u&&$.length&&($=Xhe($.filter(ce=>ce.value!=null&&(ce.hide!==!0||n.includeHidden)),f,Kxe));var Z=$.length>0,X=m.createElement(Hpe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:d,active:z,coordinate:te,hasPayload:Z,offset:h,position:p,reverseDirection:g,useTranslate3d:w,viewBox:T,wrapperStyle:y,lastBoundingBox:Q,innerRef:W,hasPortalFromProps:!!C},Gxe(c,EC(EC({},n),{},{payload:$,label:re,active:z,activeIndex:E,coordinate:te,accessibilityLayer:P})));return m.createElement(m.Fragment,null,Ha.createPortal(X,O),z&&m.createElement(kxe,{cursor:_,tooltipEventType:I,coordinate:te,payload:$,index:E}))}var Sl=e=>null;Sl.displayName="Cell";function Xxe(e,t,r){return(t=Jxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jxe(e){var t=Qxe(e,"string");return typeof t=="symbol"?t:t+""}function Qxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zxe{constructor(t){Xxe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ebe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){tbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tbe(e,t,r){return(t=rbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ibe={cacheSize:2e3,enableCache:!0},g$=ebe({},ibe),OC=new Zxe(g$.cacheSize),abe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IC="recharts_measurement_span";function sbe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l)}var DC=(e,t)=>{try{var r=document.getElementById(IC);r||(r=document.createElement("span"),r.setAttribute("id",IC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,abe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},zc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qu.isSsr)return{width:0,height:0};if(!g$.enableCache)return DC(t,r);var n=sbe(t,r),i=OC.get(n);if(i)return i;var a=DC(t,r);return OC.set(n,a),a},y$;function obe(e,t,r){return(t=lbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lbe(e){var t=cbe(e,"string");return typeof t=="symbol"?t:t+""}function cbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ube=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,hbe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fbe=["cm","mm","pt","pc","in","Q","px"];function mbe(e){return fbe.includes(e)}var Ko="NaN";function pbe(e,t){return e*hbe[t]}class jr{static parse(t){var r,[,n,i]=(r=dbe.exec(t))!==null&&r!==void 0?r:[];return n==null?jr.NaN:new jr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,hi(t)&&(this.unit=""),r!==""&&!ube.test(r)&&(this.num=NaN,this.unit=""),mbe(r)&&(this.num=pbe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new jr(NaN,""):new jr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new jr(NaN,""):new jr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jr(NaN,""):new jr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new jr(NaN,""):new jr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return hi(this.num)}}y$=jr;obe(jr,"NaN",new y$(NaN,""));function _$(e){if(e==null||e.includes(Ko))return Ko;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=LC.exec(t))!==null&&r!==void 0?r:[],s=jr.parse(n??""),l=jr.parse(a??""),c=i==="*"?s.multiply(l):s.divide(l);if(c.isNaN())return Ko;t=t.replace(LC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,h,f]=(u=$C.exec(t))!==null&&u!==void 0?u:[],p=jr.parse(d??""),g=jr.parse(f??""),w=h==="+"?p.add(g):p.subtract(g);if(w.isNaN())return Ko;t=t.replace($C,w.toString())}return t}var RC=/\(([^()]*)\)/;function vbe(e){for(var t=e,r;(r=RC.exec(t))!=null;){var[,n]=r;t=t.replace(RC,_$(n))}return t}function gbe(e){var t=e.replace(/\s+/g,"");return t=vbe(t),t=_$(t),t}function ybe(e){try{return gbe(e)}catch{return Ko}}function sg(e){var t=ybe(e.slice(5,-1));return t===Ko?"":t}var _be=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],wbe=["dx","dy","angle","className","breakAll"];function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}function MC(e,t){if(e==null)return{};var r,n,i=xbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w$=/[ \f\n\r\t\v\u2028\u2029]+/,x$=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];$t(t)||(r?i=t.toString().split(""):i=t.toString().split(w$));var a=i.map(l=>({word:l,width:zc(l,n).width})),s=r?0:zc("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function bbe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var b$=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:l}=a,c=i[i.length-1];if(c&&l!=null&&(t==null||n||c.width+l+r<Number(t)))c.words.push(s),c.width+=l+r;else{var u={words:[s],width:l};i.push(u)}return i},[]),k$=e=>e.reduce((t,r)=>t.width>r.width?t:r),kbe="",BC=(e,t,r,n,i,a,s,l)=>{var c=e.slice(0,t),u=x$({breakAll:r,style:n,children:c+kbe});if(!u)return[!1,[]];var d=b$(u.wordsWithComputedWidth,a,s,l),h=d.length>i||k$(d).width>Number(a);return[h,d]},jbe=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:l,breakAll:c}=e,u=me(a),d=String(s),h=b$(t,n,r,i);if(!u||i)return h;var f=h.length>a||k$(h).width>Number(n);if(!f)return h;for(var p=0,g=d.length-1,w=0,y;p<=g&&w<=d.length-1;){var _=Math.floor((p+g)/2),b=_-1,[k,x]=BC(d,b,c,l,a,n,r,i),[C]=BC(d,_,c,l,a,n,r,i);if(!k&&!C&&(p=_+1),k&&C&&(g=_-1),!k&&C){y=x;break}w++}return y||h},FC=e=>{var t=$t(e)?[]:e.toString().split(w$);return[{words:t,width:void 0}]},Sbe=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Qu.isSsr){var l,c,u=x$({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:h}=u;l=d,c=h}else return FC(n);return jbe({breakAll:a,children:n,maxLines:s,style:i},l,c,t,!!r)}return FC(n)},j$="#808080",Cbe={angle:0,breakAll:!1,capHeight:"0.71em",fill:j$,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Fp=m.forwardRef((e,t)=>{var r=gr(e,Cbe),{x:n,y:i,lineHeight:a,capHeight:s,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,h=MC(r,_be),f=m.useMemo(()=>Sbe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:g,angle:w,className:y,breakAll:_}=h,b=MC(h,wbe);if(!Ri(n)||!Ri(i)||f.length===0)return null;var k=Number(n)+(me(p)?p:0),x=Number(i)+(me(g)?g:0);if(!De(k)||!De(x))return null;var C;switch(d){case"start":C=sg("calc(".concat(s,")"));break;case"middle":C=sg("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:C=sg("calc(".concat(f.length-1," * -").concat(a,")"));break}var S=[],j=f[0];if(c&&j!=null){var N=j.width,{width:T}=h;S.push("scale(".concat(me(T)&&me(N)?T/N:1,")"))}return w&&S.push("rotate(".concat(w,", ").concat(k,", ").concat(x,")")),S.length&&(b.transform=S.join(" ")),m.createElement("text",T_({},Ur(b),{ref:t,x:k,y:x,className:Ke("recharts-text",y),textAnchor:u,fill:l.includes("url")?j$:l}),f.map((P,I)=>{var E=P.words.join(_?"":" ");return m.createElement("tspan",{x:k,dy:I===0?C:a,key:"".concat(E,"-").concat(I)},E)}))});Fp.displayName="Text";function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){Nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nbe(e,t,r){return(t=Tbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tbe(e){var t=Ebe(e,"string");return typeof t=="symbol"?t:t+""}function Ebe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pbe=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i}=e,{x:a,y:s,height:l,upperWidth:c,lowerWidth:u}=Xw(t),d=a,h=a+(c-u)/2,f=(d+h)/2,p=(c+u)/2,g=d+c/2,w=l>=0?1:-1,y=w*n,_=w>0?"end":"start",b=w>0?"start":"end",k=c>=0?1:-1,x=k*n,C=k>0?"end":"start",S=k>0?"start":"end",j=i;if(r==="top"){var N={x:d+c/2,y:s-y,horizontalAnchor:"middle",verticalAnchor:_};return j&&(N.height=Math.max(s-j.y,0),N.width=c),N}if(r==="bottom"){var T={x:h+u/2,y:s+l+y,horizontalAnchor:"middle",verticalAnchor:b};return j&&(T.height=Math.max(j.y+j.height-(s+l),0),T.width=u),T}if(r==="left"){var P={x:f-x,y:s+l/2,horizontalAnchor:C,verticalAnchor:"middle"};return j&&(P.width=Math.max(P.x-j.x,0),P.height=l),P}if(r==="right"){var I={x:f+p+x,y:s+l/2,horizontalAnchor:S,verticalAnchor:"middle"};return j&&(I.width=Math.max(j.x+j.width-I.x,0),I.height=l),I}var E=j?{width:p,height:l}:{};return r==="insideLeft"?Si({x:f+x,y:s+l/2,horizontalAnchor:S,verticalAnchor:"middle"},E):r==="insideRight"?Si({x:f+p-x,y:s+l/2,horizontalAnchor:C,verticalAnchor:"middle"},E):r==="insideTop"?Si({x:d+c/2,y:s+y,horizontalAnchor:"middle",verticalAnchor:b},E):r==="insideBottom"?Si({x:h+u/2,y:s+l-y,horizontalAnchor:"middle",verticalAnchor:_},E):r==="insideTopLeft"?Si({x:d+x,y:s+y,horizontalAnchor:S,verticalAnchor:b},E):r==="insideTopRight"?Si({x:d+c-x,y:s+y,horizontalAnchor:C,verticalAnchor:b},E):r==="insideBottomLeft"?Si({x:h+x,y:s+l-y,horizontalAnchor:S,verticalAnchor:_},E):r==="insideBottomRight"?Si({x:h+u-x,y:s+l-y,horizontalAnchor:C,verticalAnchor:_},E):r&&typeof r=="object"&&(me(r.x)||ro(r.x))&&(me(r.y)||ro(r.y))?Si({x:a+Ir(r.x,p),y:s+Ir(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},E):Si({x:g,y:s+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},E)},Abe=["labelRef"],Obe=["content"];function UC(e,t){if(e==null)return{};var r,n,i=Ibe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ibe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){Dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t,r){return(t=Lbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e){var t=$be(e,"string");return typeof t=="symbol"?t:t+""}function $be(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gi(){return Gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gi.apply(null,arguments)}var S$=m.createContext(null),Rbe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:l}=e,c=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return m.createElement(S$.Provider,{value:c},l)},C$=()=>{var e=m.useContext(S$),t=vp();return e||(t?Xw(t):void 0)},Mbe=m.createContext(null),Bbe=()=>{var e=m.useContext(Mbe),t=we(fL);return e||t},Fbe=e=>{var{value:t,formatter:r}=e,n=$t(e.children)?t:e.children;return typeof r=="function"?r(n):n},cb=e=>e!=null&&typeof e=="function",zbe=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ube=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:h,endAngle:f,clockWise:p}=i,g=(u+d)/2,w=zbe(h,f),y=w>=0?1:-1,_,b;switch(t){case"insideStart":_=h+y*a,b=p;break;case"insideEnd":_=f-y*a,b=!p;break;case"end":_=f+y*a,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=w<=0?b:!b;var k=qt(l,c,g,_),x=qt(l,c,g,_+(b?1:-1)*359),C="M".concat(k.x,",").concat(k.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(x.x,",").concat(x.y),S=$t(e.id)?vu("recharts-radial-line-"):e.id;return m.createElement("text",Gi({},n,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",s)}),m.createElement("defs",null,m.createElement("path",{id:S,d:C})),m.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Wbe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:h}=qt(n,i,s+t,u);return{x:d,y:h,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(a+s)/2,{x:p,y:g}=qt(n,i,f,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Ch=e=>e!=null&&"cx"in e&&me(e.cx),Hbe={angle:0,offset:5,zIndex:Vt.label,position:"middle",textBreakAll:!1};function qbe(e){if(!Ch(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=n*2;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function Ra(e){var t=gr(e,Hbe),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:l,className:c="",textBreakAll:u,labelRef:d}=t,h=Bbe(),f=C$(),p=i==="center"?f:h??f,g,w,y;r==null?g=p:Ch(r)?g=r:g=Xw(r);var _=qbe(g);if(!g||$t(a)&&$t(s)&&!m.isValidElement(l)&&typeof l!="function")return null;var b=jc(jc({},t),{},{viewBox:g});if(m.isValidElement(l)){var{labelRef:k}=b,x=UC(b,Abe);return m.cloneElement(l,x)}if(typeof l=="function"){var{content:C}=b,S=UC(b,Obe);if(w=m.createElement(l,S),m.isValidElement(w))return w}else w=Fbe(t);var j=Ur(t);if(Ch(g)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Ube(t,i,w,j,g);y=Wbe(g,t.offset,t.position)}else{if(!_)return null;var N=Pbe({viewBox:_,position:i,offset:t.offset,parentViewBox:Ch(n)?void 0:n});y=jc(jc({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return m.createElement(cn,{zIndex:t.zIndex},m.createElement(Fp,Gi({ref:d,className:Ke("recharts-label",c)},j,y,{textAnchor:bbe(j.textAnchor)?j.textAnchor:y.textAnchor,breakAll:u}),w))}Ra.displayName="Label";var Vbe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(Ra,Gi({key:"label-implicit"},n)):Ri(e)?m.createElement(Ra,Gi({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===Ra?m.cloneElement(e,jc({key:"label-implicit"},n)):m.createElement(Ra,Gi({key:"label-implicit",content:e},n)):cb(e)?m.createElement(Ra,Gi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(Ra,Gi({},e,{key:"label-implicit"},n)):null};function Kbe(e){var{label:t,labelRef:r}=e,n=C$();return Vbe(t,n,r)||null}var N$={},T$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(T$);var E$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(E$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T$,r=E$,n=Zm;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(N$);var Gbe=N$.last;const Ybe=ya(Gbe);var Xbe=["valueAccessor"],Jbe=["dataKey","clockWise","id","textBreakAll","zIndex"];function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(null,arguments)}function HC(e,t){if(e==null)return{};var r,n,i=Qbe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zbe=e=>Array.isArray(e.value)?Ybe(e.value):e.value,P$=m.createContext(void 0),A$=P$.Provider,O$=m.createContext(void 0),e1e=O$.Provider;function t1e(){return m.useContext(P$)}function r1e(){return m.useContext(O$)}function Nh(e){var{valueAccessor:t=Zbe}=e,r=HC(e,Xbe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:l}=r,c=HC(r,Jbe),u=t1e(),d=r1e(),h=u||d;return!h||!h.length?null:m.createElement(cn,{zIndex:l??Vt.label},m.createElement(Ft,{className:"recharts-label-list"},h.map((f,p)=>{var g,w=$t(n)?t(f,p):et(f.payload,n),y=$t(a)?{}:{id:"".concat(a,"-").concat(p)};return m.createElement(Ra,tm({key:"label-".concat(p)},Ur(f),c,y,{fill:(g=r.fill)!==null&&g!==void 0?g:f.fill,parentViewBox:f.parentViewBox,value:w,textBreakAll:s,viewBox:f.viewBox,index:p,zIndex:0}))})))}Nh.displayName="LabelList";function ub(e){var{label:t}=e;return t?t===!0?m.createElement(Nh,{key:"labelList-implicit"}):m.isValidElement(t)||cb(t)?m.createElement(Nh,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(Nh,tm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function E_(){return E_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E_.apply(null,arguments)}var I$=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Ke("recharts-dot",i);return me(t)&&me(r)&&me(n)?m.createElement("circle",E_({},on(e),Pw(e),{className:a,cx:t,cy:r,r:n})):null},D$=e=>e.graphicalItems.polarItems,n1e=F([Et,sd],Ox),zp=F([D$,Rt,n1e],Ix),i1e=F([zp],Dx),Up=F([i1e,Cp],Lx),a1e=F([Up,Rt,zp],Rx);F([Up,Rt,zp],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=et(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:et(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var qC=()=>{},s1e=F([Up,Rt,zp,$p,Et],zx),o1e=F([Rt,Bx,Fx,qC,s1e,qC,Fe,Et],Ux),L$=F([Rt,Fe,Up,a1e,ad,Et,o1e],Wx),l1e=F([L$,zl,vs],Vx),c1e=F([Rt,L$,l1e,Et],Gx);F([vs,c1e],pL);var u1e={radiusAxis:{},angleAxis:{}},$$=ln({name:"polarAxis",initialState:u1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:LEe,removeRadiusAxis:$Ee,addAngleAxis:REe,removeAngleAxis:MEe}=$$.actions,d1e=$$.reducer;function R$(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){h1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h1e(e,t,r){return(t=f1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f1e(e){var t=m1e(e,"string");return typeof t=="symbol"?t:t+""}function m1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p1e=(e,t)=>t,db=F([D$,p1e],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),v1e=[],hb=(e,t,r)=>(r==null?void 0:r.length)===0?v1e:r,M$=F([Cp,db,hb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>KC(KC({},t.presentationProps),a.props))),i!=null)return i}}),g1e=F([M$,db,hb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=et(n,t.nameKey,t.name),l;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:$l(s,t.dataKey),color:l,payload:n,type:t.legendType}})}),y1e=F([M$,db,hb,ir],(e,t,r,n)=>{if(!(t==null||e==null))return gke({offset:n,pieSettings:t,displayedData:e,cells:r})}),B$={exports:{}},rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=Symbol.for("react.transitional.element"),mb=Symbol.for("react.portal"),Wp=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Vp=Symbol.for("react.consumer"),Kp=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Yp=Symbol.for("react.suspense"),Xp=Symbol.for("react.suspense_list"),Jp=Symbol.for("react.memo"),Qp=Symbol.for("react.lazy"),_1e=Symbol.for("react.view_transition"),w1e=Symbol.for("react.client.reference");function qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case fb:switch(e=e.type,e){case Wp:case qp:case Hp:case Yp:case Xp:case _1e:return e;default:switch(e=e&&e.$$typeof,e){case Kp:case Gp:case Qp:case Jp:return e;case Vp:return e;default:return t}}case mb:return t}}}rt.ContextConsumer=Vp;rt.ContextProvider=Kp;rt.Element=fb;rt.ForwardRef=Gp;rt.Fragment=Wp;rt.Lazy=Qp;rt.Memo=Jp;rt.Portal=mb;rt.Profiler=qp;rt.StrictMode=Hp;rt.Suspense=Yp;rt.SuspenseList=Xp;rt.isContextConsumer=function(e){return qn(e)===Vp};rt.isContextProvider=function(e){return qn(e)===Kp};rt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fb};rt.isForwardRef=function(e){return qn(e)===Gp};rt.isFragment=function(e){return qn(e)===Wp};rt.isLazy=function(e){return qn(e)===Qp};rt.isMemo=function(e){return qn(e)===Jp};rt.isPortal=function(e){return qn(e)===mb};rt.isProfiler=function(e){return qn(e)===qp};rt.isStrictMode=function(e){return qn(e)===Hp};rt.isSuspense=function(e){return qn(e)===Yp};rt.isSuspenseList=function(e){return qn(e)===Xp};rt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wp||e===qp||e===Hp||e===Yp||e===Xp||typeof e=="object"&&e!==null&&(e.$$typeof===Qp||e.$$typeof===Jp||e.$$typeof===Kp||e.$$typeof===Vp||e.$$typeof===Gp||e.$$typeof===w1e||e.getModuleId!==void 0)};rt.typeOf=qn;B$.exports=rt;var x1e=B$.exports,GC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",YC=null,og=null,F$=e=>{if(e===YC&&Array.isArray(og))return og;var t=[];return m.Children.forEach(e,r=>{$t(r)||(x1e.isFragment(r)?t=t.concat(F$(r.props.children)):t.push(r))}),og=t,YC=e,t};function pb(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>GC(i)):n=[GC(t)],F$(e).forEach(i=>{var a=to(i,"type.displayName")||to(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var z$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,U$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(U$);var b1e=U$.isPlainObject;const k1e=ya(b1e);var XC,JC,QC,ZC,e2;function t2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t2(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return(t=S1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rm(){return rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rm.apply(null,arguments)}function pc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var n2=(e,t,r,n,i)=>{var a=r-n,s;return s=It(XC||(XC=pc(["M ",",",""])),e,t),s+=It(JC||(JC=pc(["L ",",",""])),e+r,t),s+=It(QC||(QC=pc(["L ",",",""])),e+r-a/2,t+i),s+=It(ZC||(ZC=pc(["L ",",",""])),e+r-a/2-n,t+i),s+=It(e2||(e2=pc(["L ",","," Z"])),e,t),s},N1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T1e=e=>{var t=gr(e,N1e),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:l}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=t,f=m.useRef(null),[p,g]=m.useState(-1),w=m.useRef(i),y=m.useRef(a),_=m.useRef(s),b=m.useRef(r),k=m.useRef(n),x=ed(e,"trapezoid-");if(m.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var K=f.current.getTotalLength();K&&g(K)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var C=Ke("recharts-trapezoid",l);if(!h)return m.createElement("g",null,m.createElement("path",rm({},Ur(t),{className:C,d:n2(r,n,i,a,s)})));var S=w.current,j=y.current,N=_.current,T=b.current,P=k.current,I="0px ".concat(p===-1?1:p,"px"),E="".concat(p,"px 0px"),B=eD(["strokeDasharray"],u,c);return m.createElement(Zu,{animationId:x,key:x,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},K=>{var R=ut(S,i,K),te=ut(j,a,K),A=ut(N,s,K),U=ut(T,r,K),z=ut(P,n,K);f.current&&(w.current=R,y.current=te,_.current=A,b.current=U,k.current=z);var Q=K>0?{transition:B,strokeDasharray:E}:{strokeDasharray:I};return m.createElement("path",rm({},Ur(t),{className:C,d:n2(U,z,R,te,A),ref:f,style:r2(r2({},Q),t.style)}))})},E1e=["option","shapeType","activeClassName"];function P1e(e,t){if(e==null)return{};var r,n,i=A1e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A1e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i2(Object(r),!0).forEach(function(n){O1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O1e(e,t,r){return(t=I1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1e(e){var t=D1e(e,"string");return typeof t=="symbol"?t:t+""}function D1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L1e(e,t){return nm(nm({},t),e)}function $1e(e,t){return e==="symbols"}function a2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(iD,r);case"trapezoid":return m.createElement(T1e,r);case"sector":return m.createElement(lD,r);case"symbols":if($1e(t))return m.createElement(wO,r);break;case"curve":return m.createElement(il,r);default:return null}}function R1e(e){return m.isValidElement(e)?e.props:e}function W$(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=P1e(e,E1e),a;if(m.isValidElement(t))a=m.cloneElement(t,nm(nm({},i),R1e(t)));else if(typeof t=="function")a=t(i,i.index);else if(k1e(t)&&typeof t!="boolean"){var s=L1e(t,i);a=m.createElement(a2,{shapeType:r,elementProps:s})}else{var l=i;a=m.createElement(a2,{shapeType:r,elementProps:l})}return i.isActive?m.createElement(Ft,{className:n},a):a}var vb=(e,t,r)=>{var n=bt();return(i,a)=>s=>{e==null||e(i,a,s),n(qL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},gb=e=>{var t=bt();return(r,n)=>i=>{e==null||e(r,n,i),t(K0e())}},yb=(e,t,r)=>{var n=bt();return(i,a)=>s=>{e==null||e(i,a,s),n(G0e({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function _b(e){var{tooltipEntrySettings:t}=e,r=bt(),n=Lr(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(W0e(t)):i.current!==t&&r(H0e({prev:i.current,next:t})),i.current=t)},[t,r,n]),m.useLayoutEffect(()=>()=>{i.current&&(r(q0e(i.current)),i.current=null)},[r]),null}function H$(e){var{legendPayload:t}=e,r=bt(),n=Lr(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(XI(t)):i.current!==t&&r(JI({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(QI(i.current)),i.current=null)},[r]),null}function M1e(e){var{legendPayload:t}=e,r=bt(),n=we(Fe),i=m.useRef(null);return m.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(XI(t)):i.current!==t&&r(JI({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(QI(i.current)),i.current=null)},[r]),null}var lg,B1e=()=>{var[e]=m.useState(()=>vu("uid-"));return e},F1e=(lg=QR.useId)!==null&&lg!==void 0?lg:B1e;function z1e(e,t){var r=F1e();return t||(e?"".concat(e,"-").concat(r):r)}var U1e=m.createContext(void 0),wb=e=>{var{id:t,type:r,children:n}=e,i=z1e("recharts-".concat(r),t);return m.createElement(U1e.Provider,{value:i},n(i))},W1e={cartesianItems:[],polarItems:[]},q$=ln({name:"graphicalItems",initialState:W1e,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:_t()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=oi(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:_t()},removeCartesianGraphicalItem:{reducer(e,t){var r=oi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:_t()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:_t()},removePolarGraphicalItem:{reducer(e,t){var r=oi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:_t()}}}),{addCartesianGraphicalItem:H1e,replaceCartesianGraphicalItem:q1e,removeCartesianGraphicalItem:V1e,addPolarGraphicalItem:K1e,removePolarGraphicalItem:G1e}=q$.actions,Y1e=q$.reducer,X1e=e=>{var t=bt(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(H1e(e)):r.current!==e&&t(q1e({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(V1e(r.current)),r.current=null)},[t]),null},V$=m.memo(X1e);function J1e(e){var t=bt();return m.useLayoutEffect(()=>(t(K1e(e)),()=>{t(G1e(e))}),[t,e]),null}var Q1e=["key"],Z1e=["onMouseEnter","onClick","onMouseLeave"],eke=["id"],tke=["id"];function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){rke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rke(e,t,r){return(t=nke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nke(e){var t=ike(e,"string");return typeof t=="symbol"?t:t+""}function ike(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cs.apply(null,arguments)}function Zp(e,t){if(e==null)return{};var r,n,i=ake(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ake(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ske(e){var t=m.useMemo(()=>pb(e.children,Sl),[e.children]),r=we(n=>g1e(n,e.id,t));return r==null?null:m.createElement(M1e,{legendPayload:r})}var oke=m.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:l,hide:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n.map(f=>f.tooltipPayload),getPosition:f=>{var p;return(p=n[Number(f)])===null||p===void 0?void 0:p.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:$l(l,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return m.createElement(_b,{tooltipEntrySettings:h})}),lke=(e,t)=>e>t?"start":e<t?"end":"middle",cke=(e,t,r)=>Ir(typeof t=="function"?t(e):t,r,r*.8),uke=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,l=aD(a,s),c=i+Ir(e.cx,a,a/2),u=n+Ir(e.cy,s,s/2),d=Ir(e.innerRadius,l,0),h=cke(r,e.outerRadius,l),f=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:h,maxRadius:f}},dke=(e,t)=>{var r=mr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hke=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ke("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Zp(t,Q1e);return m.createElement(il,cs({},i,{type:"linear",className:r}))},fke=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var i=Ke("recharts-pie-label-text",R$(e));return m.createElement(Fp,cs({},t,{alignmentBaseline:"middle",className:i}),n)};function mke(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var l=on(r),c=Zs(i),u=Zs(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=t.map((f,p)=>{var g=(f.startAngle+f.endAngle)/2,w=qt(f.cx,f.cy,f.outerRadius+d,g),y=Lt(Lt(Lt(Lt({},l),f),{},{stroke:"none"},c),{},{index:p,textAnchor:lke(w.x,f.cx)},w),_=Lt(Lt(Lt(Lt({},l),f),{},{fill:"none",stroke:f.fill},u),{},{index:p,points:[qt(f.cx,f.cy,f.outerRadius,g),w],key:"line"});return m.createElement(cn,{zIndex:Vt.label,key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(p)},m.createElement(Ft,null,a&&hke(a,_),fke(i,y,et(f,s))))});return m.createElement(Ft,{className:"recharts-pie-labels"},h)}function pke(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?m.createElement(ub,{label:i}):m.createElement(mke,{sectors:t,props:r,showLabels:n})}function vke(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,l=we(ls),c=we(nb),u=we(Iwe),{onMouseEnter:d,onClick:h,onMouseLeave:f}=i,p=Zp(i,Z1e),g=vb(d,i.dataKey,s),w=gb(f),y=yb(h,i.dataKey,s);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((_,b)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&t.length!==1)return null;var k=u==null||u===s,x=String(b)===l&&(c==null||i.dataKey===c)&&k,C=l?n:null,S=r&&x?r:C,j=Lt(Lt({},_),{},{stroke:_.stroke,tabIndex:-1,[AI]:b,[OI]:s});return m.createElement(Ft,cs({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Qm(p,_,b),{onMouseEnter:g(_,b),onMouseLeave:w(_,b),onClick:y(_,b)}),m.createElement(W$,cs({option:a??S,index:b,shapeType:"sector",isActive:x},j)))}))}function gke(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:h}=r,f=Math.abs(r.minAngle),p=dke(l,c),g=Math.abs(p),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(S=>et(S,u,0)!==0).length,_=(g>=360?y:y-1)*w,b=g-y*f-_,k=n.reduce((S,j)=>{var N=et(j,u,0);return S+(me(N)?N:0)},0),x;if(k>0){var C;x=n.map((S,j)=>{var N=et(S,u,0),T=et(S,d,j),P=uke(r,a,S),I=(me(N)?N:0)/k,E,B=Lt(Lt({},S),i&&i[j]&&i[j].props);j?E=C.endAngle+mr(p)*w*(N!==0?1:0):E=l;var K=E+mr(p)*((N!==0?f:0)+I*b),R=(E+K)/2,te=(P.innerRadius+P.outerRadius)/2,A=[{name:T,value:N,payload:B,dataKey:u,type:h,graphicalItemId:r.id}],U=qt(P.cx,P.cy,te,R);return C=Lt(Lt(Lt(Lt({},r.presentationProps),{},{percent:I,cornerRadius:typeof s=="string"?parseFloat(s):s,name:T,tooltipPayload:A,midAngle:R,middleRadius:te,tooltipPosition:U},B),P),{},{value:N,dataKey:u,startAngle:E,endAngle:K,payload:B,paddingAngle:mr(p)*w}),C})}return x}function yke(e){var{showLabels:t,sectors:r,children:n}=e,i=m.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return m.createElement(e1e,{value:t?i:void 0},n)}function _ke(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:f}=t,p=ed(t,"recharts-pie-"),g=r.current,[w,y]=m.useState(!1),_=m.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),b=m.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return m.createElement(yke,{showLabels:!w,sectors:i},m.createElement(Zu,{animationId:p,begin:s,duration:l,isActive:a,easing:c,onAnimationStart:b,onAnimationEnd:_,key:p},k=>{var x,C=[],S=i&&i[0],j=(x=S==null?void 0:S.startAngle)!==null&&x!==void 0?x:0;return i==null||i.forEach((N,T)=>{var P=g&&g[T],I=T>0?to(N,"paddingAngle",0):0;if(P){var E=ut(P.endAngle-P.startAngle,N.endAngle-N.startAngle,k),B=Lt(Lt({},N),{},{startAngle:j+I,endAngle:j+E+I});C.push(B),j=B.endAngle}else{var{endAngle:K,startAngle:R}=N,te=ut(0,K-R,k),A=Lt(Lt({},N),{},{startAngle:j+I,endAngle:j+te+I});C.push(A),j=A.endAngle}}),r.current=C,m.createElement(Ft,null,m.createElement(vke,{sectors:C,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:n}))}),m.createElement(pke,{showLabels:!w,sectors:i,props:t}),t.children)}var wke={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Vt.area};function xke(e){var{id:t}=e,r=Zp(e,eke),{hide:n,className:i,rootTabIndex:a}=e,s=m.useMemo(()=>pb(e.children,Sl),[e.children]),l=we(d=>y1e(d,t,s)),c=m.useRef(null),u=Ke("recharts-pie",i);return n||l==null?(c.current=null,m.createElement(Ft,{tabIndex:a,className:u})):m.createElement(cn,{zIndex:e.zIndex},m.createElement(oke,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),m.createElement(Ft,{tabIndex:a,className:u},m.createElement(_ke,{props:Lt(Lt({},r),{},{sectors:l}),previousSectorsRef:c,id:t})))}function P_(e){var t=gr(e,wke),{id:r}=t,n=Zp(t,tke),i=on(n);return m.createElement(wb,{id:r,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(J1e,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),m.createElement(ske,cs({},n,{id:a})),m.createElement(xke,cs({},n,{id:a}))))}P_.displayName="Pie";var bke=["points"];function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){kke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kke(e,t,r){return(t=jke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=Ske(e,"string");return typeof t=="symbol"?t:t+""}function Ske(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function im(){return im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},im.apply(null,arguments)}function Cke(e,t){if(e==null)return{};var r,n,i=Nke(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tke(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Ke(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,l=Cke(a,bke);return m.createElement(I$,im({},l,{className:i}))}function Eke(e,t){return e==null?!1:t?!0:e.length===1}function Pke(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:l,clipPathId:c,zIndex:u=Vt.scatter}=e;if(!Eke(t,r))return null;var d=z$(r),h=Hde(r),f=t.map((g,w)=>{var y,_,b=cg(cg(cg({r:3},s),h),{},{index:w,cx:(y=g.x)!==null&&y!==void 0?y:void 0,cy:(_=g.y)!==null&&_!==void 0?_:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return m.createElement(Tke,{key:"dot-".concat(w),option:r,dotProps:b,className:i})}),p={};return l&&c!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),m.createElement(cn,{zIndex:u},m.createElement(Ft,im({className:n},p),f))}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function c2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){Ake(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ake(e,t,r){return(t=Oke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oke(e){var t=Ike(e,"string");return typeof t=="symbol"?t:t+""}function Ike(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var K$=0,Dke={xAxis:{},yAxis:{},zAxis:{}},G$=ln({name:"cartesianAxis",initialState:Dke,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:_t()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:_t()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:_t()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:_t()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:_t()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:_t()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:_t()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:_t()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:_t()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var l=[...s,n].slice(-3);e.yAxis[r]=c2(c2({},i),{},{width:n,widthHistory:l})}}}}),{addXAxis:Lke,replaceXAxis:$ke,removeXAxis:Rke,addYAxis:Mke,replaceYAxis:Bke,removeYAxis:Fke,addZAxis:BEe,replaceZAxis:FEe,removeZAxis:zEe,updateYAxisWidth:zke}=G$.actions,Uke=G$.reducer,Wke=F([ir],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Hke=F([Wke,ba,ka],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),xb=()=>we(Hke),qke=()=>we(Mwe);function u2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u2(Object(r),!0).forEach(function(n){Vke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t,r){return(t=Kke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kke(e){var t=Gke(e,"string");return typeof t=="symbol"?t:t+""}function Gke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yke=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=ug(ug(ug({},l),Zs(i)),Pw(i)),u;return m.isValidElement(i)?u=m.cloneElement(i,c):typeof i=="function"?u=i(c):u=m.createElement(I$,c),m.createElement(Ft,{className:"recharts-active-dot",clipPath:s},u)};function d2(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Vt.activeDot}=e,l=we(ls),c=qke();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return $t(u)?null:m.createElement(cn,{zIndex:s},m.createElement(Yke,{point:u,childIndex:Number(l),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var h2=(e,t,r)=>{var n=r??e;if(!$t(n))return Ir(n,t,0)},Xke=(e,t,r)=>{var n={},i=e.filter(Ap),a=e.filter(u=>u.stackId==null),s=i.reduce((u,d)=>{var h=u[d.stackId];return h==null&&(h=[]),h.push(d),u[d.stackId]=h,u},n),l=Object.entries(s).map(u=>{var d,[h,f]=u,p=f.map(w=>w.dataKey),g=h2(t,r,(d=f[0])===null||d===void 0?void 0:d.barSize);return{stackId:h,dataKeys:p,barSize:g}}),c=a.map(u=>{var d=[u.dataKey].filter(f=>f!=null),h=h2(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:h}});return[...l,...c]};function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){Jke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jke(e,t,r){return(t=Qke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Zke(e,"string");return typeof t=="symbol"?t:t+""}function Zke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eje(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var l=Ir(e,r,0,!0),c,u=[];if(De((a=n[0])===null||a===void 0?void 0:a.barSize)){var d=!1,h=r/s,f=n.reduce((b,k)=>b+(k.barSize||0),0);f+=(s-1)*l,f>=r&&(f-=(s-1)*l,l=0),f>=r&&h>0&&(d=!0,h*=.9,f=s*h);var p=(r-f)/2>>0,g={offset:p-l,size:0};c=n.reduce((b,k)=>{var x,C={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:g.offset+g.size+l,size:d?h:(x=k.barSize)!==null&&x!==void 0?x:0}},S=[...b,C];return g=C.position,S},u)}else{var w=Ir(t,r,0,!0);r-2*w-(s-1)*l<=0&&(l=0);var y=(r-2*w-(s-1)*l)/s;y>1&&(y>>=0);var _=De(i)?Math.min(y,i):y;c=n.reduce((b,k,x)=>[...b,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:w+(y+l)*x+(y-_)/2,size:_}}],u)}return c}}var tje=(e,t,r,n,i,a,s)=>{var l=$t(s)?t:s,c=eje(r,n,i!==a?i:a,e,l);return i!==a&&c!=null&&(c=c.map(u=>ah(ah({},u),{},{position:ah(ah({},u.position),{},{offset:u.position.offset-i/2})}))),c},rje=(e,t)=>{var r=Pp(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},nje=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function ije(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&De(e.zIndex)?e.zIndex:t}var Y$=e=>{var{chartData:t}=e,r=bt(),n=Lr();return m.useEffect(()=>n?()=>{}:(r(CC(t)),()=>{r(CC(void 0))}),[t,r,n]),null},m2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X$=ln({name:"brush",initialState:m2,reducers:{setBrushSettings(e,t){return t.payload==null?m2:t.payload}}}),{setBrushSettings:UEe}=X$.actions,aje=X$.reducer;function sje(e){return(e%180+180)%180}var oje=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sje(i),s=a*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},lje={dots:[],areas:[],lines:[]},J$=ln({name:"referenceElements",initialState:lje,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=oi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=oi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=oi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:WEe,removeDot:HEe,addArea:qEe,removeArea:VEe,addLine:KEe,removeLine:GEe}=J$.actions,cje=J$.reducer,uje=m.createContext(void 0),dje=e=>{var{children:t}=e,[r]=m.useState("".concat(vu("recharts"),"-clip")),n=xb();if(n==null)return null;var{x:i,y:a,width:s,height:l}=n;return m.createElement(uje.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:i,y:a,height:l,width:s}))),t)};function Q$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function hje(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oje(n,r)}function fje(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:l}=e;return t===1?{start:n?i:a,end:n?i+s:a+l}:{start:n?i+s:a+l,end:n?i:a}}function Pu(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function mje(e,t){return Q$(e,t+1)}function pje(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Q$(n,u)};var w=c,y,_=()=>(y===void 0&&(y=r(g,w)),y),b=g.coordinate,k=c===0||Pu(e,b,_,d,l);k||(c=0,d=s,u+=1),k&&(d=b+e*(_()/2+i),c+=u)},f;u<=a.length;)if(f=h(),f)return f.v;return[]}function vje(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:l,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,h=l,f=!0,p=function(){var x=n[w];if(x==null)return 0;var C=w,S,j=()=>(S===void 0&&(S=r(x,C)),S),N=x.coordinate,T=w===d||Pu(e,N,j,h,c);if(!T)return f=!1,1;T&&(h=N+e*(j()/2+i))},g,w=d;w<s&&(g=p(),!(g!==0&&g===1));w+=u);if(f){for(var y=[],_=d;_<s;_+=u){var b=n[_];b!=null&&y.push(b)}return y}}return[]}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){gje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gje(e,t,r){return(t=yje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yje(e){var t=_je(e,"string");return typeof t=="symbol"?t:t+""}function _je(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wje(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:l}=t,{end:c}=t,u=function(f){var p=a[f];if(p==null)return 1;var g=p,w,y=()=>(w===void 0&&(w=r(p,f)),w);if(f===s-1){var _=e*(g.coordinate+e*y()/2-c);a[f]=g=Pr(Pr({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else a[f]=g=Pr(Pr({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var b=Pu(e,g.tickCoord,y,l,c);b&&(c=g.tickCoord-e*(y()/2+i),a[f]=Pr(Pr({},g),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function xje(e,t,r,n,i,a){var s=(n||[]).slice(),l=s.length,{start:c,end:u}=t;if(a){var d=n[l-1];if(d!=null){var h=r(d,l-1),f=e*(d.coordinate+e*h/2-u);if(s[l-1]=d=Pr(Pr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate}),d.tickCoord!=null){var p=Pu(e,d.tickCoord,()=>h,c,u);p&&(u=d.tickCoord-e*(h/2+i),s[l-1]=Pr(Pr({},d),{},{isShow:!0}))}}}for(var g=a?l-1:l,w=function(b){var k=s[b];if(k==null)return 1;var x=k,C,S=()=>(C===void 0&&(C=r(k,b)),C);if(b===0){var j=e*(x.coordinate-e*S()/2-c);s[b]=x=Pr(Pr({},x),{},{tickCoord:j<0?x.coordinate-j*e:x.coordinate})}else s[b]=x=Pr(Pr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var N=Pu(e,x.tickCoord,S,c,u);N&&(c=x.tickCoord+e*(S()/2+i),s[b]=Pr(Pr({},x),{},{isShow:!0}))}},y=0;y<g;y++)w(y);return s}function bb(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!i||!i.length||!n)return[];if(me(c)||Qu.isSsr){var f;return(f=mje(i,me(c)?c:0))!==null&&f!==void 0?f:[]}var p=[],g=l==="top"||l==="bottom"?"width":"height",w=d&&g==="width"?zc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(C,S)=>{var j=typeof u=="function"?u(C.value,S):C.value;return g==="width"?hje(zc(j,{fontSize:t,letterSpacing:r}),w,h):zc(j,{fontSize:t,letterSpacing:r})[g]},_=i[0],b=i[1],k=i.length>=2&&_!=null&&b!=null?mr(b.coordinate-_.coordinate):1,x=fje(a,k,g);return c==="equidistantPreserveStart"?pje(k,x,y,i,s):c==="equidistantPreserveEnd"?vje(k,x,y,i,s):(c==="preserveStart"||c==="preserveStartEnd"?p=xje(k,x,y,i,s,c==="preserveStartEnd"):p=wje(k,x,y,i,s),p.filter(C=>C.isShow))}var bje=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var h=d.getBoundingClientRect();h.width>s&&(s=h.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+a,u=s+c+l+(r?n:0);return Math.round(u)}return 0},kje=["axisLine","width","height","className","hide","ticks","axisType"];function jje(e,t){if(e==null)return{};var r,n,i=Sje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(null,arguments)}function v2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v2(Object(r),!0).forEach(function(n){Cje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cje(e,t,r){return(t=Nje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nje(e){var t=Tje(e,"string");return typeof t=="symbol"?t:t+""}function Tje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ia={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vt.axis};function Eje(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=Ot(Ot(Ot({},c),on(l)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Ot(Ot({},u),{},{x1:t,y1:r+d*i,x2:t+n,y2:r+d*i})}else{var h=+(a==="left"&&!s||a==="right"&&s);u=Ot(Ot({},u),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+i})}return m.createElement("line",oo({},u,{className:Ke("recharts-cartesian-axis-line",to(l,"className"))}))}function Pje(e,t,r,n,i,a,s,l,c){var u,d,h,f,p,g,w=l?-1:1,y=e.tickSize||s,_=me(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,f=r+ +!l*i,h=f-w*y,g=h-w*c,p=_;break;case"left":h=f=e.coordinate,d=t+ +!l*n,u=d-w*y,p=u-w*c,g=_;break;case"right":h=f=e.coordinate,d=t+ +l*n,u=d+w*y,p=u+w*c,g=_;break;default:u=d=e.coordinate,f=r+ +l*i,h=f+w*y,g=h+w*c,p=_;break}return{line:{x1:u,y1:h,x2:d,y2:f},tick:{x:p,y:g}}}function Aje(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Oje(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ije(e){var{option:t,tickProps:r,value:n}=e,i,a=Ke(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,Ot(Ot({},r),{},{className:a}));else if(typeof t=="function")i=t(Ot(Ot({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ke(s,R$(t))),i=m.createElement(Fp,oo({},r,{className:s}),n)}return i}var Dje=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:f,y:p,width:g,height:w,tickSize:y,tickMargin:_,fontSize:b,letterSpacing:k,getTicksConfig:x,events:C,axisType:S}=e,j=bb(Ot(Ot({},x),{},{ticks:r}),b,k),N=Aje(d,h),T=Oje(d,h),P=on(x),I=Zs(n),E={};typeof i=="object"&&(E=i);var B=Ot(Ot({},P),{},{fill:"none"},E),K=j.map(A=>Ot({entry:A},Pje(A,f,p,g,w,d,y,h,_))),R=K.map(A=>{var{entry:U,line:z}=A;return m.createElement(Ft,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},i&&m.createElement("line",oo({},B,z,{className:Ke("recharts-cartesian-axis-tick-line",to(i,"className"))})))}),te=K.map((A,U)=>{var z,Q,{entry:W,tick:re}=A,O=Ot(Ot(Ot(Ot({verticalAnchor:T},P),{},{textAnchor:N,stroke:"none",fill:a},re),{},{index:U,payload:W,visibleTicksCount:j.length,tickFormatter:s,padding:c},u),{},{angle:(z=(Q=u==null?void 0:u.angle)!==null&&Q!==void 0?Q:P.angle)!==null&&z!==void 0?z:0}),$=Ot(Ot({},O),I);return m.createElement(Ft,oo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},Qm(C,W,U)),n&&m.createElement(Ije,{option:n,tickProps:$,value:"".concat(typeof s=="function"?s(W.value,U):W.value).concat(l||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},te.length>0&&m.createElement(cn,{zIndex:Vt.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},te)),R.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},R))}),Lje=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:l,axisType:c}=e,u=jje(e,kje),[d,h]=m.useState(""),[f,p]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return bje({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=m.useCallback(y=>{if(y){var _=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=_;var b=_[0];if(b){var k=window.getComputedStyle(b),x=k.fontSize,C=k.letterSpacing;(x!==d||C!==f)&&(h(x),p(C))}}},[d,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:m.createElement(cn,{zIndex:e.zIndex},m.createElement(Ft,{className:Ke("recharts-cartesian-axis",a)},m.createElement(Eje,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:on(e)}),m.createElement(Dje,{ref:w,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(Rbe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(Kbe,{label:e.label,labelRef:e.labelRef}),e.children)))}),kb=m.forwardRef((e,t)=>{var r=gr(e,ia);return m.createElement(Lje,oo({},r,{ref:t}))});kb.displayName="CartesianAxis";var $je=["x1","y1","x2","y2","key"],Rje=["offset"],Mje=["xAxisId","yAxisId"],Bje=["xAxisId","yAxisId"];function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){Fje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fje(e,t,r){return(t=zje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zje(e){var t=Uje(e,"string");return typeof t=="symbol"?t:t+""}function Uje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}function am(e,t){if(e==null)return{};var r,n,i=Wje(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hje=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:l}=e;return m.createElement("rect",{x:n,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Z$(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:l,y2:c,key:u}=r,d=am(r,$je),h=(i=on(d))!==null&&i!==void 0?i:{},{offset:f}=h,p=am(h,Rje);n=m.createElement("line",Bs({},p,{x1:a,y1:s,x2:l,y2:c,fill:"none",key:u}))}return n}function qje(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,l=am(e,Mje),c=i.map((u,d)=>{var h=Or(Or({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return m.createElement(Z$,{key:"line-".concat(d),option:n,lineItemProps:h})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function Vje(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,l=am(e,Bje),c=i.map((u,d)=>{var h=Or(Or({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return m.createElement(Z$,{option:n,lineItemProps:h,key:"line-".concat(d)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function Kje(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length||l==null)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var p=u[f+1],g=p==null,w=g?i+s-h:p-h;if(w<=0)return null;var y=f%t.length;return m.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:w,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Gje(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(h=>Math.round(h+i-i)).sort((h,f)=>h-f);i!==u[0]&&u.unshift(0);var d=u.map((h,f)=>{var p=u[f+1],g=p==null,w=g?i+s-h:p-h;if(w<=0)return null;var y=f%r.length;return m.createElement("rect",{key:"react-".concat(f),x:h,y:a,width:w,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Yje=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return NI(bb(Or(Or(Or({},ia),r),{},{ticks:TI(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Xje=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return NI(bb(Or(Or(Or({},ia),r),{},{ticks:TI(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Jje={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vt.grid};function A_(e){var t=FI(),r=zI(),n=BI(),i=Or(Or({},gr(e,Jje)),{},{x:me(e.x)?e.x:n.left,y:me(e.y)?e.y:n.top,width:me(e.width)?e.width:n.width,height:me(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=i,g=Lr(),w=we(T=>pC(T,"xAxis",a,g)),y=we(T=>pC(T,"yAxis",s,g));if(!Mi(u)||!Mi(d)||!me(l)||!me(c))return null;var _=i.verticalCoordinatesGenerator||Yje,b=i.horizontalCoordinatesGenerator||Xje,{horizontalPoints:k,verticalPoints:x}=i;if((!k||!k.length)&&typeof b=="function"){var C=f&&f.length,S=b({yAxis:y?Or(Or({},y),{},{ticks:C?f:y.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:h);Pf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(k=S)}if((!x||!x.length)&&typeof _=="function"){var j=p&&p.length,N=_({xAxis:w?Or(Or({},w),{},{ticks:j?p:w.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:h);Pf(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(x=N)}return m.createElement(cn,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(Hje,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(Kje,Bs({},i,{horizontalPoints:k})),m.createElement(Gje,Bs({},i,{verticalPoints:x})),m.createElement(qje,Bs({},i,{offset:n,horizontalPoints:k,xAxis:w,yAxis:y})),m.createElement(Vje,Bs({},i,{offset:n,verticalPoints:x,xAxis:w,yAxis:y}))))}A_.displayName="CartesianGrid";var Qje={},eR=ln({name:"errorBars",initialState:Qje,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:YEe,replaceErrorBar:XEe,removeErrorBar:JEe}=eR.actions,Zje=eR.reducer,eSe=["children"];function tSe(e,t){if(e==null)return{};var r,n,i=rSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nSe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},iSe=m.createContext(nSe);function aSe(e){var{children:t}=e,r=tSe(e,eSe);return m.createElement(iSe.Provider,{value:r},t)}function jb(e,t){var r,n,i=we(u=>Ca(u,e)),a=we(u=>Na(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:cr.allowDataOverflow,l=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:ur.allowDataOverflow,c=s||l;return{needClip:c,needClipX:s,needClipY:l}}function tR(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=xb(),{needClipX:a,needClipY:s,needClip:l}=jb(t,r);if(!l||!i)return null;var{x:c,y:u,width:d,height:h}=i;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?c:c-d/2,y:s?u:u-h/2,width:a?d:d*2,height:s?h:h*2}))}function sSe(e){var t=Zs(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),l=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(l)||l<0)&&(l=n),{r:s,strokeWidth:l}}return{r,strokeWidth:n}}var oSe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hd=m;function lSe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cSe=typeof Object.is=="function"?Object.is:lSe,uSe=hd.useSyncExternalStore,dSe=hd.useRef,hSe=hd.useEffect,fSe=hd.useMemo,mSe=hd.useDebugValue;oSe.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=dSe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=fSe(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return h=g}return h=p}if(g=h,cSe(d,p))return g;var w=n(p);return i!==void 0&&i(g,w)?(d=p,g):(d=p,h=w)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,i]);var l=uSe(e,a[0],a[1]);return hSe(function(){s.hasValue=!0,s.value=l},[l]),mSe(l),l};function pSe(e){e()}function vSe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pSe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var y2={notify(){},get:()=>[]};function gSe(e,t){let r,n=y2,i=0,a=!1;function s(w){d();const y=n.subscribe(w);let _=!1;return()=>{_||(_=!0,y(),h())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return a}function d(){i++,r||(r=e.subscribe(c),n=vSe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=y2)}function f(){a||(a=!0,d())}function p(){a&&(a=!1,h())}const g={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>n};return g}var ySe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Se=ySe(),wSe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xSe=wSe(),bSe=()=>_Se||xSe?m.useLayoutEffect:m.useEffect,kSe=bSe();function _2(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jSe(e,t){if(_2(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!_2(e[r[i]],t[r[i]]))return!1;return!0}var dg=Symbol.for("react-redux-context"),hg=typeof globalThis<"u"?globalThis:{};function SSe(){if(!m.createContext)return{};const e=hg[dg]??(hg[dg]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var CSe=SSe();function NSe(e){const{children:t,context:r,serverState:n,store:i}=e,a=m.useMemo(()=>{const c=gSe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=m.useMemo(()=>i.getState(),[i]);kSe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const l=r||CSe;return m.createElement(l.Provider,{value:a},t)}var TSe=NSe,ESe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function PSe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ev(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(ESe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!jSe(e[n],t[n]))return!1}else if(!PSe(e[n],t[n]))return!1;return!0}function Ui(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:K$}function Wi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:K$}var rR=(e,t,r)=>os(e,"xAxis",Ui(e,t),r),nR=(e,t,r)=>ss(e,"xAxis",Ui(e,t),r),iR=(e,t,r)=>os(e,"yAxis",Wi(e,t),r),aR=(e,t,r)=>ss(e,"yAxis",Wi(e,t),r),ASe=F([Fe,rR,iR,nR,aR],(e,t,r,n,i)=>zi(e,"xAxis")?wl(t,n,!1):wl(r,i,!1)),OSe=(e,t)=>t,sR=F([Dp,OSe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),oR=e=>{var t=Fe(e),r=zi(t,"xAxis");return r?"yAxis":"xAxis"},ISe=(e,t)=>{var r=oR(e);return r==="yAxis"?Wi(e,t):Ui(e,t)},DSe=(e,t,r)=>Qf(e,oR(e),ISe(e,t),r),LSe=F([sR,DSe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=Pp(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a==null?void 0:a.find(l=>l.key===i);if(s!=null)return s.map(l=>[l[0],l[1]])}}}),$Se=F([Fe,rR,iR,nR,aR,LSe,KD,ASe,sR,I_e],(e,t,r,n,i,a,s,l,c,u)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=s;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null)){var{data:p}=c,g;if(p&&p.length>0?g=p:g=d==null?void 0:d.slice(h,f+1),g!=null)return tCe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:c,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:l})}}),RSe=["id"],MSe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vs.apply(null,arguments)}function lR(e,t){if(e==null)return{};var r,n,i=BSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){FSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FSe(e,t,r){return(t=zSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sm(e,t){return e&&e!=="none"?e:t}var WSe=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:sm(n,i),value:$l(r,t),payload:e}]},HSe=m.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:l,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:r,getPosition:uo,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:$l(s,t),hide:l,type:u,color:sm(n,a),unit:c,graphicalItemId:d}};return m.createElement(_b,{tooltipEntrySettings:h})});function qSe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,l=on(n);return m.createElement(Pke,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:l,needClip:i,clipPathId:t})}function VSe(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,l,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Go(Go({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return m.createElement(A$,{value:t?i:void 0},r)}function x2(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:l,stroke:c,connectNulls:u,isRange:d}=a,{id:h}=a,f=lR(a,RSe),p=on(f),g=Ur(f);return m.createElement(m.Fragment,null,(t==null?void 0:t.length)>1&&m.createElement(Ft,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},m.createElement(il,Vs({},g,{id:h,points:t,connectNulls:u,type:l,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&m.createElement(il,Vs({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:t})),c!=="none"&&d&&m.createElement(il,Vs({},p,{className:"recharts-area-curve",layout:s,type:l,connectNulls:u,fill:"none",points:r}))),m.createElement(qSe,{points:t,props:f,clipPathId:i}))}function KSe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,l=(t=a[0])===null||t===void 0?void 0:t.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!De(l)||!De(c))return null;var u=n*Math.abs(l-c),d=Math.max(...a.map(h=>h.x||0));return me(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.x||0),d)),me(d)?m.createElement("rect",{x:0,y:l<c?l:l-u,width:d+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function GSe(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,l=(t=a[0])===null||t===void 0?void 0:t.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!De(l)||!De(c))return null;var u=n*Math.abs(l-c),d=Math.max(...a.map(h=>h.y||0));return me(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(h=>h.y||0),d)),me(d)?m.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(d+(s?parseInt("".concat(s),10):1))}):null}function YSe(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?m.createElement(KSe,{alpha:t,points:n,baseLine:i,strokeWidth:a}):m.createElement(GSe,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function XSe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationStart:f,onAnimationEnd:p}=n,g=m.useMemo(()=>({points:s,baseLine:l}),[s,l]),w=ed(g,"recharts-area-"),y=Jw(),[_,b]=m.useState(!1),k=!_,x=m.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),C=m.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]);if(y==null)return null;var S=i.current,j=a.current;return m.createElement(VSe,{showLabels:k,points:s},n.children,m.createElement(Zu,{animationId:w,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:x,onAnimationStart:C,key:w},N=>{if(S){var T=S.length/s.length,P=N===1?s:s.map((E,B)=>{var K=Math.floor(B*T);if(S[K]){var R=S[K];return Go(Go({},E),{},{x:ut(R.x,E.x,N),y:ut(R.y,E.y,N)})}return E}),I;return me(l)?I=ut(j,l,N):$t(l)||hi(l)?I=ut(j,0,N):I=l.map((E,B)=>{var K=Math.floor(B*T);if(Array.isArray(j)&&j[K]){var R=j[K];return Go(Go({},E),{},{x:ut(R.x,E.x,N),y:ut(R.y,E.y,N)})}return E}),N>0&&(i.current=P,a.current=I),m.createElement(x2,{points:P,baseLine:I,needClip:t,clipPathId:r,props:n})}return N>0&&(i.current=s,a.current=l),m.createElement(Ft,null,c&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(r)},m.createElement(YSe,{alpha:N,points:s,baseLine:l,layout:y,strokeWidth:n.strokeWidth}))),m.createElement(Ft,{clipPath:"url(#animationClipPath-".concat(r,")")},m.createElement(x2,{points:s,baseLine:l,needClip:t,clipPathId:r,props:n})))}),m.createElement(ub,{label:n.label}))}function JSe(e){var{needClip:t,clipPathId:r,props:n}=e,i=m.useRef(null),a=m.useRef();return m.createElement(XSe,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class QSe extends m.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:l,xAxisId:c,yAxisId:u,width:d,height:h,id:f,baseLine:p,zIndex:g}=this.props;if(t)return null;var w=Ke("recharts-area",i),y=f,{r:_,strokeWidth:b}=sSe(r),k=z$(r),x=_*2+b,C=l?"url(#clipPath-".concat(k?"":"dots-").concat(y,")"):void 0;return m.createElement(cn,{zIndex:g},m.createElement(Ft,{className:w},l&&m.createElement("defs",null,m.createElement(tR,{clipPathId:y,xAxisId:c,yAxisId:u}),!k&&m.createElement("clipPath",{id:"clipPath-dots-".concat(y)},m.createElement("rect",{x:s-x/2,y:a-x/2,width:d+x,height:h+x}))),m.createElement(JSe,{needClip:l,clipPathId:y,props:this.props})),m.createElement(d2,{points:n,mainColor:sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}),this.props.isRange&&Array.isArray(p)&&m.createElement(d2,{points:p,mainColor:sm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:C}))}}var cR={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Vt.area};function ZSe(e){var t,r=gr(e,cR),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:l,dot:c,fill:u,fillOpacity:d,hide:h,isAnimationActive:f,legendType:p,stroke:g,xAxisId:w,yAxisId:y}=r,_=lR(r,MSe),b=ho(),k=l$(),{needClip:x}=jb(w,y),C=Lr(),{points:S,isRange:j,baseLine:N}=(t=we(K=>$Se(K,e.id,C)))!==null&&t!==void 0?t:{},T=xb();if(b!=="horizontal"&&b!=="vertical"||T==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:P,width:I,x:E,y:B}=T;return!S||!S.length?null:m.createElement(QSe,Vs({},_,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:N,connectNulls:l,dot:c,fill:u,fillOpacity:d,height:P,hide:h,layout:b,isAnimationActive:f==="auto"?!Qu.isSsr:f,isRange:j,legendType:p,needClip:x,points:S,stroke:g,width:I,left:E,top:B,xAxisId:w,yAxisId:y}))}var eCe=(e,t,r,n,i)=>{var a=r??t;if(me(a))return a;var s=e==="horizontal"?i:n,l=s.scale.domain();if(s.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return a==="dataMin"?u:a==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return a==="dataMin"?l[0]:a==="dataMax"?l[1]:l[0]};function tCe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:h,yAxisTicks:f,bandSize:p}=e,g=i&&i.length,w=eCe(a,s,r,l,c),y=a==="horizontal",_=!1,b=u.map((x,C)=>{var S,j,N,T;if(g)T=i[d+C];else{var P=et(x,n);Array.isArray(P)?(T=P,_=!0):T=[w,P]}var I=(S=(j=T)===null||j===void 0?void 0:j[1])!==null&&S!==void 0?S:null,E=I==null||g&&!t&&et(x,n)==null;if(y){var B;return{x:bj({axis:l,ticks:h,bandSize:p,entry:x,index:C}),y:E?null:(B=c.scale.map(I))!==null&&B!==void 0?B:null,value:T,payload:x}}return{x:E?null:(N=l.scale.map(I))!==null&&N!==void 0?N:null,y:bj({axis:c,ticks:f,bandSize:p,entry:x,index:C}),value:T,payload:x}}),k;return g||_?k=b.map(x=>{var C,S=Array.isArray(x.value)?x.value[0]:null;if(y){var j;return{x:x.x,y:S!=null&&x.y!=null&&(j=c.scale.map(S))!==null&&j!==void 0?j:null,payload:x.payload}}return{x:S!=null&&(C=l.scale.map(S))!==null&&C!==void 0?C:null,y:x.y,payload:x.payload}}):k=y?c.scale.map(w):l.scale.map(w),{points:b,baseLine:k??0,isRange:_}}function rCe(e){var t=gr(e,cR),r=Lr();return m.createElement(wb,{id:t.id,type:"area"},n=>m.createElement(m.Fragment,null,m.createElement(H$,{legendPayload:WSe(t)}),m.createElement(HSe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),m.createElement(V$,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:EI(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),m.createElement(ZSe,Vs({},t,{id:n}))))}var O_=m.memo(rCe,ev);O_.displayName="Area";var nCe="Invariant failed";function iCe(e,t){throw new Error(nCe)}function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(null,arguments)}function om(e){return m.createElement(W$,I_({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var aCe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(me(t))return t;var a=me(n)||$t(n);return a?t(n,i):(a||iCe(),r)}},sCe=(e,t,r)=>r,oCe=(e,t)=>t,fd=F([Dp,oCe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lCe=F([fd],e=>e==null?void 0:e.maxBarSize),cCe=(e,t,r,n)=>n,uCe=F([Fe,Dp,Ui,Wi,sCe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),dCe=(e,t,r)=>{var n=Fe(e),i=Ui(e,t),a=Wi(e,t);if(!(i==null||a==null))return n==="horizontal"?Qf(e,"yAxis",a,r):Qf(e,"xAxis",i,r)},hCe=(e,t)=>{var r=Fe(e),n=Ui(e,t),i=Wi(e,t);if(!(n==null||i==null))return r==="horizontal"?mC(e,"xAxis",n):mC(e,"yAxis",i)},fCe=F([uCe,O_e,hCe],Xke),mCe=(e,t,r)=>{var n,i,a=fd(e,t);if(a==null)return 0;var s=Ui(e,t),l=Wi(e,t);if(s==null||l==null)return 0;var c=Fe(e),u=aL(e),{maxBarSize:d}=a,h=$t(d)?u:d,f,p;return c==="horizontal"?(f=os(e,"xAxis",s,r),p=ss(e,"xAxis",s,r)):(f=os(e,"yAxis",l,r),p=ss(e,"yAxis",l,r)),(n=(i=wl(f,p,!0))!==null&&i!==void 0?i:h)!==null&&n!==void 0?n:0},uR=(e,t,r)=>{var n=Fe(e),i=Ui(e,t),a=Wi(e,t);if(!(i==null||a==null)){var s,l;return n==="horizontal"?(s=os(e,"xAxis",i,r),l=ss(e,"xAxis",i,r)):(s=os(e,"yAxis",a,r),l=ss(e,"yAxis",a,r)),wl(s,l)}},pCe=F([fCe,aL,A_e,sL,mCe,uR,lCe],tje),vCe=(e,t,r)=>{var n=Ui(e,t);if(n!=null)return os(e,"xAxis",n,r)},gCe=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return os(e,"yAxis",n,r)},yCe=(e,t,r)=>{var n=Ui(e,t);if(n!=null)return ss(e,"xAxis",n,r)},_Ce=(e,t,r)=>{var n=Wi(e,t);if(n!=null)return ss(e,"yAxis",n,r)},wCe=F([pCe,fd],nje),xCe=F([dCe,fd],rje),bCe=F([ir,Gw,vCe,gCe,yCe,_Ce,wCe,Fe,KD,uR,xCe,fd,cCe],(e,t,r,n,i,a,s,l,c,u,d,h,f)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:w}=c;if(!(h==null||s==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=h,_;if(y!=null&&y.length>0?_=y:_=p==null?void 0:p.slice(g,w+1),_!=null)return XCe({layout:l,barSettings:h,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:d,displayedData:_,offset:e,cells:f,dataStartIndex:g})}}),kCe=["index"];function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(null,arguments)}function jCe(e,t){if(e==null)return{};var r,n,i=SCe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dR=m.createContext(void 0),CCe=e=>{var t=m.useContext(dR);if(t!=null)return t.stackId;if(e!=null)return EI(e)},NCe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),TCe=e=>{var t=m.useContext(dR);if(t!=null){var{stackId:r}=t;return"url(#".concat(NCe(r,e),")")}},hR=e=>{var{index:t}=e,r=jCe(e,kCe),n=TCe(t);return m.createElement(Ft,D_({className:"recharts-bar-stack-layer",clipPath:n},r))},ECe=["onMouseEnter","onMouseLeave","onClick"],PCe=["value","background","tooltipPosition"],ACe=["id"],OCe=["onMouseEnter","onClick","onMouseLeave"];function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}function b2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b2(Object(r),!0).forEach(function(n){ICe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ICe(e,t,r){return(t=DCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=LCe(e,"string");return typeof t=="symbol"?t:t+""}function LCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lm(e,t){if(e==null)return{};var r,n,i=$Ce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RCe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:$l(r,t),payload:e}]},MCe=m.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:uo,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:$l(a,t),hide:s,type:c,color:i,unit:l,graphicalItemId:u}};return m.createElement(_b,{tooltipEntrySettings:d})});function BCe(e){var t=we(ls),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:l,onClick:c}=a,u=lm(a,ECe),d=vb(s,n,a.id),h=gb(l),f=yb(c,n,a.id);if(!i||r==null)return null;var p=Zs(i);return m.createElement(cn,{zIndex:ije(i,Vt.barBackground)},r.map((g,w)=>{var{value:y,background:_,tooltipPosition:b}=g,k=lm(g,PCe);if(!_)return null;var x=d(g,w),C=h(g,w),S=f(g,w),j=Br(Br(Br(Br(Br({option:i,isActive:String(w)===t},k),{},{fill:"#eee"},_),p),Qm(u,g,w)),{},{onMouseEnter:x,onMouseLeave:C,onClick:S,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return m.createElement(om,ga({key:"background-bar-".concat(w)},j))}))}function FCe(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Br(Br({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return m.createElement(A$,{value:t?i:void 0},r)}function zCe(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,l=we(ls),c=we(nb),u=r&&String(a)===l&&(c==null||s===c),d=u?r:t;return u?m.createElement(cn,{zIndex:Vt.activeBar},m.createElement(hR,{index:a},m.createElement(om,ga({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s})))):m.createElement(om,ga({},n,{name:String(n.name)},i,{isActive:u,option:d,index:a,dataKey:s}))}function UCe(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return m.createElement(om,ga({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function WCe(e){var t,{data:r,props:n}=e,i=(t=on(n))!==null&&t!==void 0?t:{},{id:a}=i,s=lm(i,ACe),{shape:l,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:h,onMouseLeave:f}=n,p=lm(n,OCe),g=vb(d,c,a),w=gb(f),y=yb(h,c,a);return r?m.createElement(m.Fragment,null,r.map((_,b)=>m.createElement(hR,ga({index:b,key:"rectangle-".concat(_==null?void 0:_.x,"-").concat(_==null?void 0:_.y,"-").concat(_==null?void 0:_.value,"-").concat(b),className:"recharts-bar-rectangle"},Qm(p,_,b),{onMouseEnter:g(_,b),onMouseLeave:w(_,b),onClick:y(_,b)}),u?m.createElement(zCe,{shape:l,activeBar:u,baseProps:s,entry:_,index:b,dataKey:c}):m.createElement(UCe,{shape:l,baseProps:s,entry:_,index:b,dataKey:c})))):null}function HCe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,h=r.current,f=ed(t,"recharts-bar-"),[p,g]=m.useState(!1),w=!p,y=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),_=m.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return m.createElement(FCe,{showLabels:w,rects:n},m.createElement(Zu,{animationId:f,begin:s,duration:l,isActive:a,easing:c,onAnimationEnd:y,onAnimationStart:_,key:f},b=>{var k=b===1?n:n==null?void 0:n.map((x,C)=>{var S=h&&h[C];if(S)return Br(Br({},x),{},{x:ut(S.x,x.x,b),y:ut(S.y,x.y,b),width:ut(S.width,x.width,b),height:ut(S.height,x.height,b)});if(i==="horizontal"){var j=ut(0,x.height,b),N=ut(x.stackedBarStart,x.y,b);return Br(Br({},x),{},{y:N,height:j})}var T=ut(0,x.width,b),P=ut(x.stackedBarStart,x.x,b);return Br(Br({},x),{},{width:T,x:P})});return b>0&&(r.current=k??null),k==null?null:m.createElement(Ft,null,m.createElement(WCe,{props:t,data:k}))}),m.createElement(ub,{label:t.label}),t.children)}function qCe(e){var t=m.useRef(null);return m.createElement(HCe,{previousRectanglesRef:t,props:e})}var fR=0,VCe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:et(e,t)}};class KCe extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:l,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ke("recharts-bar",i),h=u;return m.createElement(Ft,{className:d,id:u},l&&m.createElement("defs",null,m.createElement(tR,{clipPathId:h,xAxisId:a,yAxisId:s})),m.createElement(Ft,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(h,")"):void 0},m.createElement(BCe,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),m.createElement(qCe,this.props)))}}var GCe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:fR,xAxisId:0,yAxisId:0,zIndex:Vt.bar};function YCe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:h}=jb(t,r),f=ho(),p=Lr(),g=pb(e.children,Sl),w=we(b=>bCe(b,e.id,p,g));if(f!=="vertical"&&f!=="horizontal")return null;var y,_=w==null?void 0:w[0];return _==null||_.height==null||_.width==null?y=0:y=f==="vertical"?_.height/2:_.width/2,m.createElement(aSe,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:VCe,errorBarOffset:y},m.createElement(KCe,ga({},e,{layout:f,needClip:h,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function XCe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:h,offset:f,cells:p,parentViewBox:g,dataStartIndex:w}=e,y=t==="horizontal"?l:s,_=d?y.scale.domain():null,b=Ume({numericAxis:y}),k=y.scale.map(b);return h.map((x,C)=>{var S,j,N,T,P,I;if(d){var E=d[C+w];if(E==null)return null;S=Rme(E,_)}else S=et(x,r),Array.isArray(S)||(S=[b,S]);var B=aCe(n,fR)(S[1],C);if(t==="horizontal"){var K,R=l.scale.map(S[0]),te=l.scale.map(S[1]);if(R==null||te==null)return null;j=kj({axis:s,ticks:c,bandSize:a,offset:i.offset,entry:x,index:C}),N=(K=te??R)!==null&&K!==void 0?K:void 0,T=i.size;var A=R-te;if(P=hi(A)?0:A,I={x:j,y:f.top,width:T,height:f.height},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var U=mr(P||B)*(Math.abs(B)-Math.abs(P));N-=U,P+=U}}else{var z=s.scale.map(S[0]),Q=s.scale.map(S[1]);if(z==null||Q==null)return null;if(j=z,N=kj({axis:l,ticks:u,bandSize:a,offset:i.offset,entry:x,index:C}),T=Q-z,P=i.size,I={x:f.left,y:N,width:f.width,height:P},Math.abs(B)>0&&Math.abs(T)<Math.abs(B)){var W=mr(T||B)*(Math.abs(B)-Math.abs(T));T+=W}}if(j==null||N==null||T==null||P==null)return null;var re=Br(Br({},x),{},{stackedBarStart:k,x:j,y:N,width:T,height:P,value:d?S:S[1],payload:x,background:I,tooltipPosition:{x:j+T/2,y:N+P/2},parentViewBox:g},p&&p[C]&&p[C].props);return re}).filter(Boolean)}function JCe(e){var t=gr(e,GCe),r=CCe(t.stackId),n=Lr();return m.createElement(wb,{id:t.id,type:"bar"},i=>m.createElement(m.Fragment,null,m.createElement(H$,{legendPayload:RCe(t)}),m.createElement(MCe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),m.createElement(V$,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(cn,{zIndex:t.zIndex},m.createElement(YCe,ga({},t,{id:i})))))}var L_=m.memo(JCe,ev);L_.displayName="Bar";var QCe=["domain","range"],ZCe=["domain","range"];function k2(e,t){if(e==null)return{};var r,n,i=e2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j2(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function mR(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=k2(e,QCe),{domain:a,range:s}=t,l=k2(t,ZCe);return!j2(r,a)||!j2(n,s)?!1:ev(i,l)}var t2e=["type"],r2e=["dangerouslySetInnerHTML","ticks","scale"],n2e=["id","scale"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(null,arguments)}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){i2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i2e(e,t,r){return(t=a2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2e(e){var t=s2e(e,"string");return typeof t=="symbol"?t:t+""}function s2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_(e,t){if(e==null)return{};var r,n,i=o2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l2e(e){var t=bt(),r=m.useRef(null),n=Jw(),{type:i}=e,a=R_(e,t2e),s=Tp(n,"xAxis",i),l=m.useMemo(()=>{if(s!=null)return C2(C2({},a),{},{type:s})},[a,s]);return m.useLayoutEffect(()=>{l!=null&&(r.current===null?t(Lke(l)):r.current!==l&&t($ke({prev:r.current,next:l})),r.current=l)},[l,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(Rke(r.current)),r.current=null)},[t]),null}var c2e=e=>{var{xAxisId:t,className:r}=e,n=we(Gw),i=Lr(),a="xAxis",s=we(_=>BL(_,a,t,i)),l=we(_=>LL(_,t)),c=we(_=>I0e(_,t)),u=we(_=>vL(_,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:f}=e,p=R_(e,r2e),{id:g,scale:w}=u,y=R_(u,n2e);return m.createElement(kb,$_({},p,y,{x:c.x,y:c.y,width:l.width,height:l.height,className:Ke("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},u2e={allowDataOverflow:cr.allowDataOverflow,allowDecimals:cr.allowDecimals,allowDuplicatedCategory:cr.allowDuplicatedCategory,angle:cr.angle,axisLine:ia.axisLine,height:cr.height,hide:!1,includeHidden:cr.includeHidden,interval:cr.interval,label:!1,minTickGap:cr.minTickGap,mirror:cr.mirror,orientation:cr.orientation,padding:cr.padding,reversed:cr.reversed,scale:cr.scale,tick:cr.tick,tickCount:cr.tickCount,tickLine:ia.tickLine,tickSize:ia.tickSize,type:cr.type,xAxisId:0},d2e=e=>{var t=gr(e,u2e);return m.createElement(m.Fragment,null,m.createElement(l2e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(c2e,t))},M_=m.memo(d2e,mR);M_.displayName="XAxis";var h2e=["type"],f2e=["dangerouslySetInnerHTML","ticks","scale"],m2e=["id","scale"];function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(null,arguments)}function N2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N2(Object(r),!0).forEach(function(n){p2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p2e(e,t,r){return(t=v2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v2e(e){var t=g2e(e,"string");return typeof t=="symbol"?t:t+""}function g2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F_(e,t){if(e==null)return{};var r,n,i=y2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function y2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _2e(e){var t=bt(),r=m.useRef(null),n=Jw(),{type:i}=e,a=F_(e,h2e),s=Tp(n,"yAxis",i),l=m.useMemo(()=>{if(s!=null)return T2(T2({},a),{},{type:s})},[s,a]);return m.useLayoutEffect(()=>{l!=null&&(r.current===null?t(Mke(l)):r.current!==l&&t(Bke({prev:r.current,next:l})),r.current=l)},[l,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(Fke(r.current)),r.current=null)},[t]),null}function w2e(e){var{yAxisId:t,className:r,width:n,label:i}=e,a=m.useRef(null),s=m.useRef(null),l=we(Gw),c=Lr(),u=bt(),d="yAxis",h=we(S=>$L(S,t)),f=we(S=>L0e(S,t)),p=we(S=>BL(S,d,t,c)),g=we(S=>gL(S,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!h||cb(i)||m.isValidElement(i)||g==null)){var S=a.current;if(S){var j=S.getCalculatedWidth();Math.round(h.width)!==Math.round(j)&&u(zke({id:t,width:j}))}}},[p,h,u,i,t,n,g]),h==null||f==null||g==null)return null;var{dangerouslySetInnerHTML:w,ticks:y,scale:_}=e,b=F_(e,f2e),{id:k,scale:x}=g,C=F_(g,m2e);return m.createElement(kb,B_({},b,C,{ref:a,labelRef:s,x:f.x,y:f.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ke("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:p,axisType:d}))}var x2e={allowDataOverflow:ur.allowDataOverflow,allowDecimals:ur.allowDecimals,allowDuplicatedCategory:ur.allowDuplicatedCategory,angle:ur.angle,axisLine:ia.axisLine,hide:!1,includeHidden:ur.includeHidden,interval:ur.interval,label:!1,minTickGap:ur.minTickGap,mirror:ur.mirror,orientation:ur.orientation,padding:ur.padding,reversed:ur.reversed,scale:ur.scale,tick:ur.tick,tickCount:ur.tickCount,tickLine:ia.tickLine,tickSize:ia.tickSize,type:ur.type,width:ur.width,yAxisId:0},b2e=e=>{var t=gr(e,x2e);return m.createElement(m.Fragment,null,m.createElement(_2e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(w2e,t))},z_=m.memo(b2e,mR);z_.displayName="YAxis";var k2e=(e,t)=>t,Sb=F([k2e,Fe,fL,_r,r$,Ta,Xwe,ir],nxe),Cb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},pR=zn("mouseClick"),vR=Gu();vR.startListening({actionCreator:pR,effect:(e,t)=>{var r=e.payload,n=Sb(t.getState(),Cb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Y0e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var U_=zn("mouseMove"),gR=Gu(),sh=null;gR.startListening({actionCreator:U_,effect:(e,t)=>{var r=e.payload;sh!==null&&cancelAnimationFrame(sh);var n=Cb(r);sh=requestAnimationFrame(()=>{var i=t.getState(),a=Jx(i,i.tooltip.settings.shared);if(a==="axis"){var s=Sb(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(KL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(VL())}sh=null})}});function j2e(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var E2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},yR=ln({name:"rootProps",initialState:E2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:E2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),S2e=yR.reducer,{updateOptions:C2e}=yR.actions,N2e=null,T2e={updatePolarOptions:(e,t)=>t.payload},_R=ln({name:"polarOptions",initialState:N2e,reducers:T2e}),{updatePolarOptions:E2e}=_R.actions,P2e=_R.reducer,wR=zn("keyDown"),xR=zn("focus"),Nb=Gu();Nb.startListening({actionCreator:wR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Qx(i,ql(r),ld(r),ud(r)),l=s==null?-1:Number(s);if(!(!Number.isFinite(l)||l<0)){var c=Ta(r);if(a==="Enter"){var u=em(r,"axis","hover",String(i.index));t.dispatch(S_({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=B0e(r),h=d==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,p=l+f*h;if(!(c==null||p>=c.length||p<0)){var g=em(r,"axis","hover",String(p));t.dispatch(S_({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});Nb.startListening({actionCreator:xR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=em(r,"axis","hover",String(a));t.dispatch(S_({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var On=zn("externalEvent"),bR=Gu(),fg=new Map;bR.startListening({actionCreator:On,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=fg.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var l=t.getState(),c={activeCoordinate:Lwe(l),activeDataKey:nb(l),activeIndex:ls(l),activeLabel:a$(l),activeTooltipIndex:ls(l),isTooltipActive:$we(l)};r(c,n)}finally{fg.delete(i)}});fg.set(i,s)}}});var A2e=F([Wl],e=>e.tooltipItemPayloads),O2e=F([A2e,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(t)}}}),kR=zn("touchMove"),jR=Gu();jR.startListening({actionCreator:kR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=Jx(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=Sb(n,Cb({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(KL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(AI),h=(l=u.getAttribute(OI))!==null&&l!==void 0?l:void 0,f=Hl(n).find(w=>w.id===h);if(d==null||f==null||h==null)return;var{dataKey:p}=f,g=O2e(n,d,h);t.dispatch(qL({activeDataKey:p,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:h}))}}}});var I2e=QO({brush:aje,cartesianAxis:Uke,chartData:Ixe,errorBars:Zje,graphicalItems:Y1e,layout:Ome,legend:Ope,options:Txe,polarAxis:d1e,polarOptions:P2e,referenceElements:cje,rootProps:S2e,tooltip:X0e,zIndex:gxe}),D2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return nme({reducer:I2e,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([vR.middleware,gR.middleware,Nb.middleware,bR.middleware,jR.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(fI({type:"raf"}))},devTools:{serialize:{replacer:j2e},name:"recharts-".concat(r)}})};function SR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Lr(),a=m.useRef(null);if(i)return r;a.current==null&&(a.current=D2e(t,n));var s=Bw;return m.createElement(TSe,{context:s,store:a.current},r)}function L2e(e){var{layout:t,margin:r}=e,n=bt(),i=Lr();return m.useEffect(()=>{i||(n(Eme(t)),n(Tme(r)))},[n,i,t,r]),null}var CR=m.memo(L2e,ev);function NR(e){var t=bt();return m.useEffect(()=>{t(C2e(e))},[t,e]),null}function P2(e){var{zIndex:t,isPanorama:r}=e,n=m.useRef(null),i=bt();return m.useLayoutEffect(()=>(n.current&&i(pxe({zIndex:t,element:n.current,isPanorama:r})),()=>{i(vxe({zIndex:t,isPanorama:r}))}),[i,t,r]),m.createElement("g",{tabIndex:-1,ref:n})}function A2(e){var{children:t,isPanorama:r}=e,n=we(axe);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return m.createElement(m.Fragment,null,i.map(s=>m.createElement(P2,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>m.createElement(P2,{key:s,zIndex:s,isPanorama:r})))}var $2e=["children"];function R2e(e,t){if(e==null)return{};var r,n,i=M2e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M2e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cm.apply(null,arguments)}var B2e={width:"100%",height:"100%",display:"block"},F2e=m.forwardRef((e,t)=>{var r=FI(),n=zI(),i=ZI();if(!Mi(r)||!Mi(n))return null;var{children:a,otherAttributes:s,title:l,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),m.createElement(QA,cm({},s,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:B2e,ref:t}),a)}),z2e=e=>{var{children:t}=e,r=we(pp);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return m.createElement(QA,{width:n,height:i,x:s,y:a},t)},O2=m.forwardRef((e,t)=>{var{children:r}=e,n=R2e(e,$2e),i=Lr();return i?m.createElement(z2e,null,m.createElement(A2,{isPanorama:!0},r)):m.createElement(F2e,cm({ref:t},n),m.createElement(A2,{isPanorama:!1},r))});function U2e(){var e=bt(),[t,r]=m.useState(null),n=we(Gme);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;De(a)&&a!==n&&e(Ame(a))}},[t,e,n]),r}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function W2e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(n){H2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H2e(e,t,r){return(t=q2e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q2e(e){var t=V2e(e,"string");return typeof t=="symbol"?t:t+""}function V2e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rs.apply(null,arguments)}var K2e=()=>(Uxe(),null);function um(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var G2e=m.forwardRef((e,t)=>{var r,n,i=m.useRef(null),[a,s]=m.useState({containerWidth:um((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:um((n=e.style)===null||n===void 0?void 0:n.height)}),l=m.useCallback((u,d)=>{s(h=>{var f=Math.round(u),p=Math.round(d);return h.containerWidth===f&&h.containerHeight===p?h:{containerWidth:f,containerHeight:p}})},[]),c=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:h}=u.getBoundingClientRect();l(d,h);var f=g=>{var w=g[0];if(w!=null){var{width:y,height:_}=w.contentRect;l(y,_)}},p=new ResizeObserver(f);p.observe(u),i.current=p}},[t,l]);return m.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[l]),m.createElement(m.Fragment,null,m.createElement(Xu,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",rs({ref:c},e)))}),Y2e=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=m.useState({containerWidth:um(r),containerHeight:um(n)}),s=m.useCallback((c,u)=>{a(d=>{var h=Math.round(c),f=Math.round(u);return d.containerWidth===h&&d.containerHeight===f?d:{containerWidth:h,containerHeight:f}})},[]),l=m.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return m.createElement(m.Fragment,null,m.createElement(Xu,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",rs({ref:l},e)))}),X2e=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(Xu,{width:r,height:n}),m.createElement("div",rs({ref:t},e)))}),J2e=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?m.createElement(Y2e,rs({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?m.createElement(X2e,rs({},e,{width:r,height:n,ref:t})):m.createElement(m.Fragment,null,m.createElement(Xu,{width:r,height:n}),m.createElement("div",rs({ref:t},e)))});function Q2e(e){return e?G2e:J2e}var Z2e=m.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:w,style:y,width:_,responsive:b,dispatchTouchEvents:k=!0}=e,x=m.useRef(null),C=bt(),[S,j]=m.useState(null),[N,T]=m.useState(null),P=U2e(),I=Yw(),E=(I==null?void 0:I.width)>0?I.width:_,B=(I==null?void 0:I.height)>0?I.height:i,K=m.useCallback(L=>{P(L),typeof t=="function"&&t(L),j(L),T(L),L!=null&&(x.current=L)},[P,t,j,T]),R=m.useCallback(L=>{C(pR(L)),C(On({handler:a,reactEvent:L}))},[C,a]),te=m.useCallback(L=>{C(U_(L)),C(On({handler:u,reactEvent:L}))},[C,u]),A=m.useCallback(L=>{C(VL()),C(On({handler:d,reactEvent:L}))},[C,d]),U=m.useCallback(L=>{C(U_(L)),C(On({handler:h,reactEvent:L}))},[C,h]),z=m.useCallback(()=>{C(xR())},[C]),Q=m.useCallback(L=>{C(wR(L.key))},[C]),W=m.useCallback(L=>{C(On({handler:s,reactEvent:L}))},[C,s]),re=m.useCallback(L=>{C(On({handler:l,reactEvent:L}))},[C,l]),O=m.useCallback(L=>{C(On({handler:c,reactEvent:L}))},[C,c]),$=m.useCallback(L=>{C(On({handler:f,reactEvent:L}))},[C,f]),Z=m.useCallback(L=>{C(On({handler:w,reactEvent:L}))},[C,w]),X=m.useCallback(L=>{k&&C(kR(L)),C(On({handler:g,reactEvent:L}))},[C,k,g]),ce=m.useCallback(L=>{C(On({handler:p,reactEvent:L}))},[C,p]),le=Q2e(b);return m.createElement(f$.Provider,{value:S},m.createElement(Jde.Provider,{value:N},m.createElement(le,{width:E??(y==null?void 0:y.width),height:B??(y==null?void 0:y.height),className:Ke("recharts-wrapper",n),style:W2e({position:"relative",cursor:"default",width:E,height:B},y),onClick:R,onContextMenu:W,onDoubleClick:re,onFocus:z,onKeyDown:Q,onMouseDown:O,onMouseEnter:te,onMouseLeave:A,onMouseMove:U,onMouseUp:$,onTouchEnd:ce,onTouchMove:X,onTouchStart:Z,ref:K},m.createElement(K2e,null),r)))}),eNe=["width","height","responsive","children","className","style","compact","title","desc"];function tNe(e,t){if(e==null)return{};var r,n,i=rNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TR=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:l,compact:c,title:u,desc:d}=e,h=tNe(e,eNe),f=on(h);return c?m.createElement(m.Fragment,null,m.createElement(Xu,{width:r,height:n}),m.createElement(O2,{otherAttributes:f,title:u,desc:d},a)):m.createElement(Z2e,{className:s,style:l,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(O2,{otherAttributes:f,title:u,desc:d,ref:t},m.createElement(dje,null,a)))});function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(null,arguments)}var nNe={top:5,right:5,bottom:5,left:5},iNe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:nNe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ER=m.forwardRef(function(t,r){var n,i=gr(t.categoricalChartProps,iNe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(SR,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},m.createElement(Y$,{chartData:u.data}),m.createElement(CR,{layout:i.layout,margin:i.margin}),m.createElement(NR,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(TR,W_({},i,{ref:r})))}),aNe=["axis","item"],sNe=m.forwardRef((e,t)=>m.createElement(ER,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aNe,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t}));function oNe(e){var t=bt();return m.useEffect(()=>{t(E2e(e))},[t,e]),null}var lNe=["layout"];function H_(){return H_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H_.apply(null,arguments)}function cNe(e,t){if(e==null)return{};var r,n,i=uNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dNe={top:5,right:5,bottom:5,left:5},PR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:dNe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hNe=m.forwardRef(function(t,r){var n,i=gr(t.categoricalChartProps,PR),{layout:a}=i,s=cNe(i,lNe),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return m.createElement(SR,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:l},m.createElement(Y$,{chartData:i.data}),m.createElement(CR,{layout:a,margin:i.margin}),m.createElement(NR,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(oNe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),m.createElement(TR,H_({},s,{ref:r})))});function D2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(r),!0).forEach(function(n){fNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fNe(e,t,r){return(t=mNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mNe(e){var t=pNe(e,"string");return typeof t=="symbol"?t:t+""}function pNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vNe=["item"],gNe=L2(L2({},PR),{},{layout:"centric",startAngle:0,endAngle:360}),$2=m.forwardRef((e,t)=>{var r=gr(e,gNe);return m.createElement(hNe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vNe,tooltipPayloadSearcher:lb,categoricalChartProps:r,ref:t})}),yNe=["axis"],_Ne=m.forwardRef((e,t)=>m.createElement(ER,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yNe,tooltipPayloadSearcher:lb,categoricalChartProps:e,ref:t}));const R2=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899"];function wNe(){const{state:e}=Xe(),[t,r]=m.useState("month"),n=e.tasks,i=e.columns,a=m.useMemo(()=>{const f=n.length,p=i.find(B=>B.title.toLowerCase()==="to do"),g=i.find(B=>B.title.toLowerCase()==="in progress"),w=i.find(B=>B.title.toLowerCase()==="review"),y=i.find(B=>B.title.toLowerCase()==="done"),_=n.filter(B=>B.column_id===(p==null?void 0:p.id)).length,b=n.filter(B=>B.column_id===(g==null?void 0:g.id)).length,k=n.filter(B=>B.column_id===(w==null?void 0:w.id)).length,x=n.filter(B=>B.column_id===(y==null?void 0:y.id)).length,C=n.filter(B=>B.priority==="high").length,S=n.filter(B=>B.priority==="medium").length,j=n.filter(B=>B.priority==="low").length,N=f>0?Math.round(x/f*100):0,T=new Date,P=n.filter(B=>B.due_date?new Date(B.due_date)<T&&B.column_id!==(y==null?void 0:y.id):!1).length,I=n.filter(B=>B.due_date).length,E={};return n.forEach(B=>{B.project_id&&(E[B.project_id]=(E[B.project_id]||0)+1)}),{total:f,todo:_,inProgress:b,review:k,done:x,high:C,medium:S,low:j,completionRate:N,overdue:P,withDueDate:I,projectCounts:E}},[n,i]),s=m.useMemo(()=>{const f=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=new Date,g=[];for(let w=6;w>=0;w--){const y=new Date(p);y.setDate(y.getDate()-w);const _=f[y.getDay()],b=new Date(y.setHours(0,0,0,0)),k=new Date(y.setHours(23,59,59,999)),x=n.filter(S=>{const j=new Date(S.created_at);return j>=b&&j<=k}).length,C=n.filter(S=>{const j=i.find(T=>T.title.toLowerCase()==="done");if(S.column_id!==(j==null?void 0:j.id))return!1;const N=new Date(S.updated_at);return N>=b&&N<=k}).length;g.push({day:_,created:x,completed:C})}return g},[n,i]),l=m.useMemo(()=>i.filter(f=>f.title.toLowerCase()!=="archive").map((f,p)=>({name:f.title,value:n.filter(g=>g.column_id===f.id).length,color:f.color||R2[p%R2.length]})).filter(f=>f.value>0),[i,n]),c=[{name:"High",value:a.high,color:"#ef4444"},{name:"Medium",value:a.medium,color:"#f59e0b"},{name:"Low",value:a.low,color:"#22c55e"}].filter(f=>f.value>0),u=m.useMemo(()=>{const f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=new Date,g=[];for(let w=5;w>=0;w--){const y=new Date(p.getFullYear(),p.getMonth()-w,1),_=f[y.getMonth()],b=new Date(y.getFullYear(),y.getMonth(),1),k=new Date(y.getFullYear(),y.getMonth()+1,0,23,59,59,999),x=n.filter(S=>{const j=new Date(S.created_at);return j>=b&&j<=k}).length,C=n.filter(S=>{const j=i.find(T=>T.title.toLowerCase()==="done");if(S.column_id!==(j==null?void 0:j.id))return!1;const N=new Date(S.updated_at);return N>=b&&N<=k}).length;g.push({month:_,created:x,completed:C})}return g},[n,i]),d=m.useMemo(()=>{if(a.total===0)return 0;const f=a.completionRate*.4,p=(a.inProgress+a.review)/a.total*100*.3,g=a.done/a.total*100*.3;return Math.round(f+p+g)},[a]),h=({active:f,payload:p,label:g})=>f&&p&&p.length?o.jsxs("div",{className:v.chartTooltip,children:[o.jsx("p",{className:v.tooltipLabel,children:g}),p.map((w,y)=>o.jsxs("p",{className:v.tooltipValue,style:{color:w.color},children:[w.name,": ",w.value]},y))]}):null;return o.jsxs("div",{className:v.reportsView,children:[o.jsxs("div",{className:v.reportsHeader,children:[o.jsxs("div",{className:v.reportsTitle,children:[o.jsx("div",{className:v.reportsIcon,children:o.jsx(sf,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Reports & Analytics"}),o.jsx("p",{children:"Track your productivity and performance"})]})]}),o.jsxs("div",{className:v.timeRangeSelector,children:[o.jsx("button",{className:`${v.rangeBtn} ${t==="week"?v.active:""}`,onClick:()=>r("week"),children:"Week"}),o.jsx("button",{className:`${v.rangeBtn} ${t==="month"?v.active:""}`,onClick:()=>r("month"),children:"Month"}),o.jsx("button",{className:`${v.rangeBtn} ${t==="year"?v.active:""}`,onClick:()=>r("year"),children:"Year"})]})]}),o.jsxs("div",{className:v.performanceCard,children:[o.jsxs("div",{className:v.performanceContent,children:[o.jsxs("div",{className:v.performanceInfo,children:[o.jsx("h2",{children:"Performance Score"}),o.jsxs("div",{className:v.performanceBadge,children:[o.jsx(Oy,{}),d>=70?"Excellent":d>=40?"Good":"Keep Going"]}),o.jsx("p",{children:"Based on task completion and productivity metrics"})]}),o.jsxs("div",{className:v.performanceRing,children:[o.jsxs("svg",{viewBox:"0 0 100 100",children:[o.jsx("circle",{className:v.ringBg,cx:"50",cy:"50",r:"40"}),o.jsx("circle",{className:v.ringFill,cx:"50",cy:"50",r:"40",strokeDasharray:`${d*2.51} 251`})]}),o.jsxs("div",{className:v.performanceValue,children:[o.jsx("span",{className:v.performanceNumber,children:d}),o.jsx("span",{className:v.performanceLabel,children:"Score"})]})]})]}),o.jsxs("div",{className:v.performanceMetrics,children:[o.jsxs("div",{className:v.metricItem,children:[o.jsx(Ly,{}),o.jsxs("div",{children:[o.jsx("span",{className:v.metricValue,children:a.total}),o.jsx("span",{className:v.metricLabel,children:"Total Tasks"})]})]}),o.jsxs("div",{className:v.metricItem,children:[o.jsx(Fi,{}),o.jsxs("div",{children:[o.jsx("span",{className:v.metricValue,children:a.done}),o.jsx("span",{className:v.metricLabel,children:"Completed"})]})]}),o.jsxs("div",{className:v.metricItem,children:[o.jsx(St,{}),o.jsxs("div",{children:[o.jsx("span",{className:v.metricValue,children:a.inProgress}),o.jsx("span",{className:v.metricLabel,children:"In Progress"})]})]}),o.jsxs("div",{className:v.metricItem,children:[o.jsx(vl,{}),o.jsxs("div",{children:[o.jsxs("span",{className:v.metricValue,children:[a.completionRate,"%"]}),o.jsx("span",{className:v.metricLabel,children:"Rate"})]})]})]})]}),o.jsxs("div",{className:v.quickStatsRow,children:[o.jsxs("div",{className:v.quickStatCard,children:[o.jsx("div",{className:v.quickStatIcon,style:{background:"#fef2f2",color:"#ef4444"},children:o.jsx(Ht,{})}),o.jsxs("div",{className:v.quickStatInfo,children:[o.jsx("span",{className:v.quickStatValue,children:a.overdue}),o.jsx("span",{className:v.quickStatLabel,children:"Overdue Tasks"})]})]}),o.jsxs("div",{className:v.quickStatCard,children:[o.jsx("div",{className:v.quickStatIcon,style:{background:"#eff6ff",color:"#3b82f6"},children:o.jsx(es,{})}),o.jsxs("div",{className:v.quickStatInfo,children:[o.jsx("span",{className:v.quickStatValue,children:a.high}),o.jsx("span",{className:v.quickStatLabel,children:"High Priority"})]})]}),o.jsxs("div",{className:v.quickStatCard,children:[o.jsx("div",{className:v.quickStatIcon,style:{background:"#f0fdf4",color:"#22c55e"},children:o.jsx(_n,{})}),o.jsxs("div",{className:v.quickStatInfo,children:[o.jsx("span",{className:v.quickStatValue,children:a.review}),o.jsx("span",{className:v.quickStatLabel,children:"In Review"})]})]}),o.jsxs("div",{className:v.quickStatCard,children:[o.jsx("div",{className:v.quickStatIcon,style:{background:"#fefce8",color:"#eab308"},children:o.jsx(Pi,{})}),o.jsxs("div",{className:v.quickStatInfo,children:[o.jsx("span",{className:v.quickStatValue,children:Object.keys(a.projectCounts).length}),o.jsx("span",{className:v.quickStatLabel,children:"Active Projects"})]})]})]}),o.jsxs("div",{className:v.reportsGrid,children:[o.jsxs("div",{className:v.reportCard,children:[o.jsxs("div",{className:v.reportCardHeader,children:[o.jsxs("h3",{children:[o.jsx(Fm,{})," Weekly Activity"]}),o.jsx("span",{className:v.reportBadge,children:"Last 7 Days"})]}),o.jsx("div",{className:v.chartContainer,children:o.jsx(Yd,{width:"100%",height:200,children:o.jsxs(sNe,{data:s,children:[o.jsx(A_,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(M_,{dataKey:"day",stroke:"var(--text-muted)",fontSize:12}),o.jsx(z_,{stroke:"var(--text-muted)",fontSize:12}),o.jsx(ih,{content:o.jsx(h,{})}),o.jsx(L_,{dataKey:"created",name:"Created",fill:"#3b82f6",radius:[4,4,0,0]}),o.jsx(L_,{dataKey:"completed",name:"Completed",fill:"#22c55e",radius:[4,4,0,0]})]})})})]}),o.jsxs("div",{className:v.reportCard,children:[o.jsxs("div",{className:v.reportCardHeader,children:[o.jsxs("h3",{children:[o.jsx(sf,{})," Task Distribution"]}),o.jsx("span",{className:v.reportBadge,children:"By Status"})]}),o.jsxs("div",{className:v.chartContainer,children:[o.jsx(Yd,{width:"100%",height:200,children:o.jsxs($2,{children:[o.jsx(P_,{data:l,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:l.map((f,p)=>o.jsx(Sl,{fill:f.color},`cell-${p}`))}),o.jsx(ih,{content:o.jsx(h,{})})]})}),o.jsx("div",{className:v.pieLegend,children:l.map((f,p)=>o.jsxs("div",{className:v.pieLegendItem,children:[o.jsx("span",{className:v.pieLegendDot,style:{background:f.color}}),o.jsx("span",{children:f.name}),o.jsx("span",{className:v.pieLegendValue,children:f.value})]},p))})]})]}),o.jsxs("div",{className:v.reportCard,children:[o.jsxs("div",{className:v.reportCardHeader,children:[o.jsxs("h3",{children:[o.jsx(_n,{})," Monthly Trend"]}),o.jsx("span",{className:v.reportBadge,children:"Last 6 Months"})]}),o.jsx("div",{className:v.chartContainer,children:o.jsx(Yd,{width:"100%",height:200,children:o.jsxs(_Ne,{data:u,children:[o.jsx(A_,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),o.jsx(M_,{dataKey:"month",stroke:"var(--text-muted)",fontSize:12}),o.jsx(z_,{stroke:"var(--text-muted)",fontSize:12}),o.jsx(ih,{content:o.jsx(h,{})}),o.jsx(O_,{type:"monotone",dataKey:"created",name:"Created",stroke:"#3b82f6",fill:"#3b82f620"}),o.jsx(O_,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"#22c55e",fill:"#22c55e20"})]})})})]}),o.jsxs("div",{className:v.reportCard,children:[o.jsxs("div",{className:v.reportCardHeader,children:[o.jsxs("h3",{children:[o.jsx(Ly,{})," Priority Breakdown"]}),o.jsx("span",{className:v.reportBadge,children:"By Priority"})]}),o.jsxs("div",{className:v.chartContainer,children:[o.jsx(Yd,{width:"100%",height:200,children:o.jsxs($2,{children:[o.jsx(P_,{data:c,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:c.map((f,p)=>o.jsx(Sl,{fill:f.color},`cell-${p}`))}),o.jsx(ih,{content:o.jsx(h,{})})]})}),o.jsx("div",{className:v.pieLegend,children:c.map((f,p)=>o.jsxs("div",{className:v.pieLegendItem,children:[o.jsx("span",{className:v.pieLegendDot,style:{background:f.color}}),o.jsxs("span",{children:[f.name," Priority"]}),o.jsx("span",{className:v.pieLegendValue,children:f.value})]},p))})]})]})]})]})}function xNe(){const{user:e}=Ye(),{showToast:t}=vr(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,l]=m.useState("all"),[c,u]=m.useState("all"),[d,h]=m.useState("");m.useEffect(()=>{f()},[e]);const f=async()=>{if(!e)return;a(!0);const{data:j,error:N}=await nw(e.id);console.log("[Notifications] Loaded notifications:",j,N);const{data:T,error:P}=await sw(e.email||"");console.log("[Notifications] Loaded invitations:",T,P);const I=[...(j||[]).map(E=>({...E,isInvitation:!1})),...(T||[]).map(E=>({id:E.id,type:"invitation",title:"Team Invitation",message:`${E.name} invited you to join their team as ${E.role}`,is_read:!1,created_at:E.invited_at,isInvitation:!0,invitationData:E}))];I.sort((E,B)=>new Date(B.created_at).getTime()-new Date(E.created_at).getTime()),n(I),a(!1)},p=async j=>{const{error:N}=await ow(j);N?t("Failed to accept invitation","error"):(t("You joined the team!","success"),f())},g=async j=>{const{error:N}=await lw(j);N?t("Failed to decline invitation","error"):(t("Invitation declined","info"),n(r.filter(T=>T.id!==j)))},w=r.filter(j=>{const N=s==="all"||!j.is_read,T=c==="all"||j.type===c,P=j.title.toLowerCase().includes(d.toLowerCase())||j.message.toLowerCase().includes(d.toLowerCase());return N&&T&&P}),y=r.filter(j=>!j.is_read).length,_=async j=>{await iw(j),n(r.map(N=>N.id===j?{...N,is_read:!0}:N))},b=async()=>{e&&(await aw(e.id),n(r.map(j=>({...j,is_read:!0}))),t("All notifications marked as read!","success"))},k=async j=>{await dP(j),n(r.filter(N=>N.id!==j)),t("Notification deleted!","success")},x=j=>{switch(j){case"task":return Fi;case"reminder":return sn;case"mention":return $i;case"comment":return FiMessageCircle;case"invitation":return dA;default:return lA}},C={task:"green",system:"blue",mention:"purple",reminder:"yellow",invitation:"indigo",comment:"cyan"},S=j=>{const N=new Date(j),P=new Date().getTime()-N.getTime(),I=Math.floor(P/6e4),E=Math.floor(P/36e5),B=Math.floor(P/864e5);return I<1?"Just now":I<60?`${I}m ago`:E<24?`${E}h ago`:B<7?`${B}d ago`:N.toLocaleDateString()};return i?o.jsx("div",{className:v.notificationsView,children:o.jsx("div",{className:v.loading,children:"Loading notifications..."})}):o.jsxs("div",{className:v.notificationsView,children:[o.jsxs("div",{className:v.notificationsHeader,children:[o.jsxs("div",{className:v.notificationsTitle,children:[o.jsxs("div",{className:v.notificationsIcon,children:[o.jsx(ta,{}),y>0&&o.jsx("span",{className:v.notificationsBadge,children:y})]}),o.jsxs("div",{children:[o.jsx("h1",{children:"Notifications"}),o.jsx("p",{children:y>0?`${y} unread notifications`:"All caught up!"})]})]}),y>0&&o.jsxs("button",{className:v.markAllBtn,onClick:b,children:[o.jsx(an,{})," Mark all as read"]})]}),o.jsxs("div",{className:v.notificationsStats,children:[o.jsxs("div",{className:v.notifStatCard,children:[o.jsx("span",{className:v.notifStatValue,children:r.length}),o.jsx("span",{className:v.notifStatLabel,children:"Total"})]}),o.jsxs("div",{className:v.notifStatCard,children:[o.jsx("span",{className:v.notifStatValue,children:y}),o.jsx("span",{className:v.notifStatLabel,children:"Unread"})]}),o.jsxs("div",{className:v.notifStatCard,children:[o.jsx("span",{className:v.notifStatValue,children:r.filter(j=>j.type==="task").length}),o.jsx("span",{className:v.notifStatLabel,children:"Tasks"})]}),o.jsxs("div",{className:v.notifStatCard,children:[o.jsx("span",{className:v.notifStatValue,children:r.filter(j=>j.type==="reminder").length}),o.jsx("span",{className:v.notifStatLabel,children:"Reminders"})]})]}),o.jsxs("div",{className:v.notificationsFilters,children:[o.jsxs("div",{className:v.notifSearch,children:[o.jsx(Bm,{}),o.jsx("input",{type:"text",placeholder:"Search notifications...",value:d,onChange:j=>h(j.target.value)})]}),o.jsxs("div",{className:v.notifFilterTabs,children:[o.jsx("button",{className:`${v.notifFilterTab} ${s==="all"?v.active:""}`,onClick:()=>l("all"),children:"All"}),o.jsx("button",{className:`${v.notifFilterTab} ${s==="unread"?v.active:""}`,onClick:()=>l("unread"),children:"Unread"})]}),o.jsxs("select",{className:v.notifTypeFilter,value:c,onChange:j=>u(j.target.value),children:[o.jsx("option",{value:"all",children:"All Types"}),o.jsx("option",{value:"invitation",children:"Invitations"}),o.jsx("option",{value:"task",children:"Tasks"}),o.jsx("option",{value:"comment",children:"Comments"}),o.jsx("option",{value:"reminder",children:"Reminders"}),o.jsx("option",{value:"mention",children:"Mentions"}),o.jsx("option",{value:"system",children:"System"})]})]}),o.jsx("div",{className:v.notificationsList,children:w.length>0?w.map(j=>{const N=x(j.type);return j.isInvitation?o.jsxs("div",{className:`${v.notifCard} ${v.invitationCard}`,children:[o.jsx("div",{className:`${v.notifIcon} ${v.indigo}`,children:o.jsx(N,{})}),o.jsxs("div",{className:v.notifContent,children:[o.jsx("h4",{children:j.title}),o.jsx("p",{children:j.message}),o.jsx("span",{className:v.notifTime,children:S(j.created_at)})]}),o.jsxs("div",{className:v.invitationActions,children:[o.jsxs("button",{className:v.acceptBtn,onClick:()=>p(j.id),title:"Accept",children:[o.jsx(an,{})," Accept"]}),o.jsxs("button",{className:v.declineBtn,onClick:()=>g(j.id),title:"Decline",children:[o.jsx(rr,{})," Decline"]})]})]},j.id):o.jsxs("div",{className:`${v.notifCard} ${j.is_read?"":v.unread}`,children:[o.jsx("div",{className:`${v.notifIcon} ${v[C[j.type]]}`,children:o.jsx(N,{})}),o.jsxs("div",{className:v.notifContent,children:[o.jsx("h4",{children:j.title}),o.jsx("p",{children:j.message}),o.jsx("span",{className:v.notifTime,children:S(j.created_at)})]}),o.jsxs("div",{className:v.notifActions,children:[!j.is_read&&o.jsx("button",{className:v.notifReadBtn,onClick:()=>_(j.id),title:"Mark as read",children:o.jsx(an,{})}),o.jsx("button",{className:v.notifDeleteBtn,onClick:()=>k(j.id),title:"Delete",children:o.jsx(rr,{})})]})]},j.id)}):o.jsxs("div",{className:v.emptyNotifications,children:[o.jsx("div",{className:v.emptyNotifIcon,children:o.jsx(ta,{})}),o.jsx("h3",{children:"No notifications"}),o.jsx("p",{children:s==="unread"?"No unread notifications":"You're all caught up!"})]})})]})}class bNe{constructor(){Gl(this,"permission","default");Gl(this,"isSupported",!1);this.isSupported="Notification"in window,this.isSupported&&(this.permission=Notification.permission)}isNotificationSupported(){return this.isSupported}getPermissionState(){return this.permission}async requestPermission(){if(!this.isSupported)return console.log("[Notifications] Not supported in this browser"),"denied";try{const t=await Notification.requestPermission();return this.permission=t,this.permission}catch(t){return console.error("[Notifications] Error requesting permission:",t),"denied"}}async show(t){if(!this.isSupported)return console.log("[Notifications] Not supported"),null;if(this.permission!=="granted"&&await this.requestPermission()!=="granted")return console.log("[Notifications] Permission not granted"),null;try{const r=new Notification(t.title,{body:t.body,icon:t.icon||"/favicon.ico",tag:t.tag,data:t.data,requireInteraction:t.requireInteraction||!1});return r.onclick=n=>{var i;n.preventDefault(),window.focus(),r.close(),(i=t.data)!=null&&i.url&&(window.location.href=t.data.url)},r}catch(r){return console.error("[Notifications] Error showing notification:",r),null}}async showTaskReminder(t){return this.show({title:`Task Reminder: ${t.title}`,body:t.description||"Don't forget about this task!",tag:`task-reminder-${t.id}`,data:{taskId:t.id,url:`/board?task=${t.id}`},requireInteraction:!0})}async showDueDateNotification(t){const r=new Date(t.due_date),n=new Date,i=r.getTime()-n.getTime(),a=Math.round(i/(1e3*60*60));let s;return i<0?s="This task is overdue!":a<1?s="Due within the next hour!":a<24?s=`Due in ${a} hours`:s=`Due in ${Math.round(a/24)} days`,this.show({title:`Due Soon: ${t.title}`,body:s,tag:`due-date-${t.id}`,data:{taskId:t.id,url:`/board?task=${t.id}`},requireInteraction:!0})}async showCommentNotification(t){return this.show({title:`${t.commenterName} commented on "${t.taskTitle}"`,body:t.commentPreview,tag:`comment-${t.taskId}`,data:{taskId:t.taskId,url:`/board?task=${t.taskId}`}})}async showMentionNotification(t){return this.show({title:`${t.mentionerName} mentioned you`,body:`In "${t.taskTitle}": ${t.context}`,tag:`mention-${t.taskId}`,data:{taskId:t.taskId,url:`/board?task=${t.taskId}`},requireInteraction:!0})}async showTaskAssignedNotification(t){return this.show({title:"New Task Assigned",body:`${t.assignerName} assigned you to "${t.taskTitle}"`,tag:`assigned-${t.taskId}`,data:{taskId:t.taskId,url:`/board?task=${t.taskId}`}})}async showInvitationNotification(t){return this.show({title:"Team Invitation",body:`${t.inviterName} invited you to join "${t.teamName}"`,tag:"invitation",data:{url:"/notifications"},requireInteraction:!0})}}const vc=new bNe;function kNe(){var K;const{user:e,profile:t,refreshProfile:r}=Ye(),{theme:n,toggleTheme:i}=Fu(),{showToast:a}=vr(),s=m.useRef(null),[l,c]=m.useState("profile"),[u,d]=m.useState(!0),[h,f]=m.useState(!1),[p,g]=m.useState(!1),[w,y]=m.useState({name:"",email:"",emailNotifications:!0,pushNotifications:!0,weeklyDigest:!1,compactMode:!1,showCompletedTasks:!0,dueDateReminders:!0,taskAssigned:!0,commentMentions:!0,taskCompleted:!0}),[_,b]=m.useState("default"),[k,x]=m.useState(null);m.useEffect(()=>{C()},[e,t]);const C=async()=>{var te;if(!e)return;d(!0),y(A=>{var U;return{...A,name:(t==null?void 0:t.full_name)||((U=e.user_metadata)==null?void 0:U.name)||"",email:e.email||""}}),x((t==null?void 0:t.avatar_url)||((te=e.user_metadata)==null?void 0:te.avatar_url)||null),vc.isNotificationSupported()&&b(vc.getPermissionState());const{data:R}=await hP(e.id);R&&y(A=>({...A,emailNotifications:R.email_notifications,pushNotifications:R.push_notifications,weeklyDigest:R.weekly_digest,compactMode:R.compact_mode,showCompletedTasks:R.show_completed_tasks,dueDateReminders:R.due_date_reminders??!0,taskAssigned:R.task_assigned??!0,commentMentions:R.comment_mentions??!0,taskCompleted:R.task_completed??!0})),d(!1)},S=()=>{var R;(R=s.current)==null||R.click()},j=async R=>{var U;const te=(U=R.target.files)==null?void 0:U[0];if(!te||!e)return;if(!te.type.startsWith("image/")){a("Please select an image file","error");return}if(te.size>2*1024*1024){a("Image must be less than 2MB","error");return}const A=new FileReader;A.onload=z=>{var Q;x((Q=z.target)==null?void 0:Q.result)},A.readAsDataURL(te),g(!0);try{const{url:z,error:Q}=await FE(e.id,te);if(Q){a("Failed to upload image","error");return}const{error:W}=await ky(e.id,{avatar_url:z});if(W){a("Failed to update profile","error");return}await r(),a("Profile photo updated!","success")}catch{a("Failed to upload image","error")}finally{g(!1)}},N=async R=>{const te=!w[R];if(R==="pushNotifications"&&te){const U=await vc.requestPermission();if(b(U),U!=="granted"){a("Please allow browser notifications","error");return}}if(y({...w,[R]:te}),e&&["emailNotifications","pushNotifications","weeklyDigest","compactMode","showCompletedTasks","dueDateReminders","taskAssigned","commentMentions","taskCompleted"].includes(R)){const z={emailNotifications:"email_notifications",pushNotifications:"push_notifications",weeklyDigest:"weekly_digest",compactMode:"compact_mode",showCompletedTasks:"show_completed_tasks",dueDateReminders:"due_date_reminders",taskAssigned:"task_assigned",commentMentions:"comment_mentions",taskCompleted:"task_completed"}[R];await fP({user_id:e.id,email_notifications:w.emailNotifications,push_notifications:w.pushNotifications,weekly_digest:w.weeklyDigest,compact_mode:w.compactMode,show_completed_tasks:w.showCompletedTasks,due_date_reminders:w.dueDateReminders,task_assigned:w.taskAssigned,comment_mentions:w.commentMentions,task_completed:w.taskCompleted,[z]:te}),a("Settings saved!","success")}},T=async()=>{const R=await vc.requestPermission();b(R),R==="granted"?a("Push notifications enabled!","success"):R==="denied"&&a("Push notifications blocked. Please enable in browser settings.","error")},P=async()=>{if(_!=="granted"){a("Please enable push notifications first","error");return}await vc.show({title:"Test Notification",body:"This is a test notification from Kanban Board Pro!",tag:"test"}),a("Test notification sent!","success")},I=async()=>{if(!(!e||!w.name.trim())){f(!0);try{const{error:R}=await ky(e.id,{full_name:w.name.trim()});if(R){a("Failed to update profile","error");return}await r(),a("Profile saved!","success")}catch{a("Failed to save profile","error")}finally{f(!1)}}},E=[{id:"profile",label:"Profile",icon:$i},{id:"notifications",label:"Notifications",icon:ta},{id:"appearance",label:"Appearance",icon:BF},{id:"privacy",label:"Privacy",icon:lf}];if(u)return o.jsx("div",{className:v.settingsView,children:o.jsx("div",{className:v.loading,children:"Loading settings..."})});const B=(t==null?void 0:t.full_name)||((K=e==null?void 0:e.user_metadata)==null?void 0:K.name)||"User";return o.jsxs("div",{className:v.settingsView,children:[o.jsx("div",{className:v.settingsHeader,children:o.jsxs("div",{className:v.settingsTitle,children:[o.jsx("div",{className:v.settingsIcon,children:o.jsx($i,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Settings"}),o.jsx("p",{children:"Manage your account and preferences"})]})]})}),o.jsxs("div",{className:v.settingsLayout,children:[o.jsx("div",{className:v.settingsTabs,children:E.map(R=>o.jsxs("button",{className:`${v.settingsTab} ${l===R.id?v.active:""}`,onClick:()=>c(R.id),children:[o.jsx(R.icon,{}),R.label]},R.id))}),o.jsxs("div",{className:v.settingsContent,children:[l==="profile"&&o.jsxs("div",{className:v.settingsSection,children:[o.jsx("h2",{children:"Profile Settings"}),o.jsxs("div",{className:v.avatarSection,children:[o.jsxs("div",{className:v.avatarWrapper,children:[o.jsxs("div",{className:v.avatarLarge,onClick:S,children:[k?o.jsx("img",{src:k,alt:B}):o.jsx("span",{children:(B==null?void 0:B.charAt(0).toUpperCase())||"U"}),o.jsx("div",{className:v.avatarOverlay,children:p?o.jsx("span",{className:v.uploadingSpinner}):o.jsx(bF,{})})]}),o.jsxs("div",{className:v.avatarInfo,children:[o.jsx("h3",{children:"Profile Photo"}),o.jsx("p",{children:"Click to change your photo"}),o.jsx("span",{className:v.avatarHint,children:"JPG, PNG or GIF. Max 2MB."})]})]}),o.jsx("input",{ref:s,type:"file",accept:"image/*",onChange:j,style:{display:"none"}})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Full Name"}),o.jsx("input",{type:"text",value:w.name,onChange:R=>y({...w,name:R.target.value}),placeholder:"Enter your name"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Email Address"}),o.jsx("input",{type:"email",value:w.email,disabled:!0}),o.jsx("span",{className:v.formHint,children:"Email cannot be changed"})]}),o.jsxs("button",{className:v.primaryBtn,onClick:I,disabled:h||p,children:[o.jsx(MF,{})," ",h?"Saving...":"Save Changes"]})]}),l==="notifications"&&o.jsxs("div",{className:v.settingsSection,children:[o.jsx("h2",{children:"Notification Preferences"}),_!=="granted"&&o.jsxs("div",{className:v.permissionBanner,children:[o.jsx(sn,{}),o.jsxs("div",{children:[o.jsx("h4",{children:"Browser Notifications"}),o.jsx("p",{children:_==="denied"?"Notifications are blocked. Please enable them in your browser settings.":"Enable browser notifications to get real-time updates"})]}),_!=="denied"&&o.jsx("button",{className:v.primaryBtn,onClick:T,children:"Enable"})]}),_==="granted"&&o.jsxs("div",{className:v.permissionGranted,children:[o.jsx(an,{}),o.jsx("span",{children:"Browser notifications enabled"}),o.jsx("button",{className:v.testNotifBtn,onClick:P,children:"Test"})]}),o.jsx("h3",{className:v.subsectionTitle,children:"General"}),o.jsxs("div",{className:v.toggleGroup,children:[o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Email Notifications"}),o.jsx("p",{children:"Receive email updates about your tasks"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.emailNotifications,onChange:()=>N("emailNotifications")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Push Notifications"}),o.jsx("p",{children:"Get notified in your browser"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.pushNotifications,onChange:()=>N("pushNotifications")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Weekly Digest"}),o.jsx("p",{children:"Receive a weekly summary of your activity"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.weeklyDigest,onChange:()=>N("weeklyDigest")}),o.jsx("span",{className:v.slider})]})]})]}),o.jsx("h3",{className:v.subsectionTitle,children:"Task Notifications"}),o.jsxs("div",{className:v.toggleGroup,children:[o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Due Date Reminders"}),o.jsx("p",{children:"Get notified before tasks are due"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.dueDateReminders,onChange:()=>N("dueDateReminders")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Task Assigned"}),o.jsx("p",{children:"Get notified when someone assigns you a task"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.taskAssigned,onChange:()=>N("taskAssigned")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Task Completed"}),o.jsx("p",{children:"Get notified when your tasks are completed"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.taskCompleted,onChange:()=>N("taskCompleted")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Comments & Mentions"}),o.jsx("p",{children:"Get notified when someone mentions you or comments"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.commentMentions,onChange:()=>N("commentMentions")}),o.jsx("span",{className:v.slider})]})]})]})]}),l==="appearance"&&o.jsxs("div",{className:v.settingsSection,children:[o.jsx("h2",{children:"Appearance"}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Dark Mode"}),o.jsx("p",{children:"Switch between light and dark theme"})]}),o.jsxs("button",{className:v.themeToggle,onClick:i,children:[n==="dark"?o.jsx(pw,{}):o.jsx(mw,{}),o.jsx("span",{children:n==="dark"?"Light Mode":"Dark Mode"})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Compact Mode"}),o.jsx("p",{children:"Show more content with smaller UI elements"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.compactMode,onChange:()=>N("compactMode")}),o.jsx("span",{className:v.slider})]})]}),o.jsxs("div",{className:v.toggleItem,children:[o.jsxs("div",{children:[o.jsx("h4",{children:"Show Completed Tasks"}),o.jsx("p",{children:"Display completed tasks in the board"})]}),o.jsxs("label",{className:v.toggle,children:[o.jsx("input",{type:"checkbox",checked:w.showCompletedTasks,onChange:()=>N("showCompletedTasks")}),o.jsx("span",{className:v.slider})]})]})]}),l==="privacy"&&o.jsxs("div",{className:v.settingsSection,children:[o.jsx("h2",{children:"Privacy & Security"}),o.jsxs("div",{className:v.privacyInfo,children:[o.jsxs("div",{className:v.privacyItem,children:[o.jsx(lf,{}),o.jsxs("div",{children:[o.jsx("h4",{children:"Two-Factor Authentication"}),o.jsx("p",{children:"Add an extra layer of security to your account"})]}),o.jsx("button",{className:v.secondaryBtn,children:"Enable"})]}),o.jsxs("div",{className:v.privacyItem,children:[o.jsx(EF,{}),o.jsxs("div",{children:[o.jsx("h4",{children:"Data Export"}),o.jsx("p",{children:"Download all your data"})]}),o.jsx("button",{className:v.secondaryBtn,children:"Export"})]})]}),o.jsxs("div",{className:v.dangerZone,children:[o.jsx("h3",{children:"Danger Zone"}),o.jsx("button",{className:v.dangerBtn,children:"Delete Account"})]})]})]})]})]})}function jNe(){const[e,t]=m.useState(null),r=[{question:"How do I create a new task?",answer:'Click the "New Task" button in the header, or press the "N" key on your keyboard. Fill in the task details and click "Create Task".'},{question:"How do I move tasks between columns?",answer:"Simply drag and drop a task card from one column to another. The task will automatically be moved to the new status."},{question:"Can I set due dates for tasks?",answer:"Yes! When creating or editing a task, you can set a due date. Tasks with due dates will show the date at the bottom of the card."},{question:"How do I search for tasks?",answer:"Use the search box in the header. Type any keyword to filter tasks by title. The search works across all columns."},{question:"What are keyboard shortcuts?",answer:'Press "?" to see all available shortcuts. Common ones include: N (new task), S (toggle stats), T (toggle theme).'},{question:"How do I archive completed tasks?",answer:"Drag a task to the Archive column, or use the archive button on the task card. Archived tasks can be restored from the Archive view."}],n=[{title:"Getting Started Guide",icon:wF,description:"Learn the basics of Kanban Pro",link:"#"},{title:"Keyboard Shortcuts",icon:oA,description:"Master productivity shortcuts",link:"#"},{title:"Video Tutorials",icon:jk,description:"Watch step-by-step guides",link:"#"},{title:"Community Forum",icon:of,description:"Join discussions with other users",link:"#"}],i=a=>{t(e===a?null:a)};return o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsx("h1",{children:"Help & Support"}),o.jsx("p",{children:"Find answers and get support"})]}),o.jsx("div",{className:v.helpGrid,children:n.map((a,s)=>o.jsxs("a",{href:a.link,className:v.helpCard,children:[o.jsx(a.icon,{className:v.helpIcon}),o.jsxs("div",{children:[o.jsx("h3",{children:a.title}),o.jsx("p",{children:a.description})]}),o.jsx(jk,{className:v.externalIcon})]},s))}),o.jsxs("div",{className:v.section,children:[o.jsx("h2",{children:"Frequently Asked Questions"}),o.jsx("div",{className:v.faqList,children:r.map((a,s)=>o.jsxs("div",{className:`${v.faqItem} ${e===String(s)?v.expanded:""}`,children:[o.jsxs("button",{className:v.faqQuestion,onClick:()=>i(String(s)),children:[o.jsx("span",{children:a.question}),o.jsx(nA,{className:v.faqIcon})]}),e===String(s)&&o.jsx("div",{className:v.faqAnswer,children:a.answer})]},s))})]}),o.jsxs("div",{className:v.section,children:[o.jsx("h2",{children:"Still need help?"}),o.jsxs("div",{className:v.contactGrid,children:[o.jsxs("div",{className:v.contactCard,children:[o.jsx(pl,{className:v.contactIcon}),o.jsx("h3",{children:"Email Support"}),o.jsx("p",{children:"Get help from our support team"}),o.jsx("a",{href:"mailto:support@kanbanpro.com",className:v.contactLink,children:"support@kanbanpro.com"})]}),o.jsxs("div",{className:v.contactCard,children:[o.jsx(of,{className:v.contactIcon}),o.jsx("h3",{children:"Live Chat"}),o.jsx("p",{children:"Chat with us in real-time"}),o.jsx("button",{className:v.primaryBtn,children:"Start Chat"})]})]})]}),o.jsxs("div",{className:v.versionInfo,children:[o.jsx("p",{children:"Kanban Pro v2.0.0"}),o.jsx("p",{children:"Made with  for productivity enthusiasts"})]})]})}function SNe(){const{state:e,selectTask:t,openDetailPanel:r}=Xe(),[n,i]=m.useState("week"),[a,s]=m.useState(0),l=m.useRef(null),c=m.useMemo(()=>{const x=new Date,C=[];e.tasks.forEach(N=>{var T,P;if(N.due_date){const I=new Date(N.due_date),E=new Date(I);E.setDate(E.getDate()-3);const B=((T=N.subtasks)==null?void 0:T.filter(te=>te.is_completed).length)||0,K=((P=N.subtasks)==null?void 0:P.length)||1,R=K>0?B/K*100:0;C.push({id:N.id,title:N.title,startDate:E,endDate:I,priority:N.priority,column_id:N.column_id,dependencies:[],progress:R})}}),C.sort((N,T)=>N.startDate.getTime()-T.startDate.getTime());const S=new Date(x);S.setDate(S.getDate()-7);const j=new Date(x);return j.setDate(j.getDate()+(n==="day"?14:n==="week"?28:60)),{tasksWithDates:C,rangeStart:S,rangeEnd:j}},[e.tasks,n]),u=m.useMemo(()=>{const x=[],C=new Date(c.rangeStart),S=new Date;for(S.setHours(0,0,0,0);C<=c.rangeEnd;){const j=C.getTime()===S.getTime();x.push({date:new Date(C),label:C.getDate().toString(),isToday:j}),C.setDate(C.getDate()+1)}return x},[c]),d=m.useMemo(()=>{const x=[];let C=-1,S=0,j=0;return u.forEach((N,T)=>{const P=N.date.getMonth();P!==C?(C!==-1&&x.push({label:new Date(u[S].date).toLocaleDateString("en-US",{month:"short",year:"numeric"}),width:j,startIndex:S}),C=P,S=T,j=1):j++}),j>0&&x.push({label:new Date(u[S].date).toLocaleDateString("en-US",{month:"short",year:"numeric"}),width:j,startIndex:S}),x},[u]),h=x=>{const C=n==="day"?60:n==="week"?40:20,S=Math.floor((x.startDate.getTime()-c.rangeStart.getTime())/(1e3*60*60*24)),j=Math.ceil((x.endDate.getTime()-x.startDate.getTime())/(1e3*60*60*24))+1;return{left:Math.max(0,S*C),width:Math.max(C,j*C)}},f=m.useMemo(()=>{const x=c.tasksWithDates.length,C=c.tasksWithDates.filter(N=>N.progress===100).length,S=c.tasksWithDates.filter(N=>N.progress>0&&N.progress<100).length,j=c.tasksWithDates.filter(N=>N.endDate<new Date&&N.progress<100).length;return{total:x,completed:C,inProgress:S,overdue:j}},[c.tasksWithDates]),p=n==="day"?60:n==="week"?40:20,g=()=>{if(l.current){const x=p*7;l.current.scrollBy({left:-x,behavior:"smooth"})}},w=()=>{if(l.current){const x=p*7;l.current.scrollBy({left:x,behavior:"smooth"})}},y=()=>{if(l.current){const x=7*p;l.current.scrollLeft=x-l.current.clientWidth/2}},_=x=>{var C;return((C=e.columns.find(S=>S.id===x))==null?void 0:C.title)||"Unknown"},b=x=>{switch(x){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},k=x=>{t(x),r(x)};return o.jsxs("div",{className:v.ganttView,children:[o.jsxs("div",{className:v.ganttHeader,children:[o.jsxs("div",{className:v.ganttTitle,children:[o.jsx("div",{className:v.ganttIcon,children:o.jsx(ml,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Gantt Chart"}),o.jsx("p",{children:"Visualize task timeline and dependencies"})]})]}),o.jsxs("div",{className:v.ganttControls,children:[o.jsxs("div",{className:v.zoomControls,children:[o.jsx("button",{className:v.zoomBtn,onClick:()=>i("day"),title:"Day view",disabled:n==="day",children:o.jsx(WF,{})}),o.jsx("button",{className:v.zoomBtn,onClick:()=>i("week"),title:"Week view",disabled:n==="week",children:o.jsx(Ht,{})}),o.jsx("button",{className:v.zoomBtn,onClick:()=>i("month"),title:"Month view",disabled:n==="month",children:o.jsx(HF,{})})]}),o.jsxs("div",{className:v.scrollControls,children:[o.jsx("button",{className:v.navBtn,onClick:g,children:o.jsx(iA,{})}),o.jsx("button",{className:v.todayBtn,onClick:y,children:"Today"}),o.jsx("button",{className:v.navBtn,onClick:w,children:o.jsx(aA,{})})]})]})]}),o.jsxs("div",{className:v.ganttStats,children:[o.jsxs("div",{className:`${v.statCard} ${v.blue}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:f.total}),o.jsx("span",{className:v.statLabel,children:"Total Tasks"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.green}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(ml,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:f.completed}),o.jsx("span",{className:v.statLabel,children:"Completed"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.yellow}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(Ht,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:f.inProgress}),o.jsx("span",{className:v.statLabel,children:"In Progress"})]})]}),f.overdue>0&&o.jsxs("div",{className:`${v.statCard} ${v.red}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(sn,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:f.overdue}),o.jsx("span",{className:v.statLabel,children:"Overdue"})]})]})]}),o.jsx("div",{className:v.ganttContainer,children:c.tasksWithDates.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:v.ganttTaskList,children:[o.jsx("div",{className:v.ganttTaskListHeader,children:o.jsx("span",{children:"Task"})}),c.tasksWithDates.map(x=>o.jsxs("div",{className:v.ganttTaskItem,onClick:()=>k(x.id),children:[o.jsx("div",{className:v.ganttTaskPriority,style:{backgroundColor:b(x.priority)}}),o.jsxs("div",{className:v.ganttTaskInfo,children:[o.jsx("span",{className:v.ganttTaskTitle,children:x.title}),o.jsx("span",{className:v.ganttTaskStatus,children:_(x.column_id)})]})]},x.id))]}),o.jsxs("div",{className:v.ganttTimeline,ref:l,children:[o.jsx("div",{className:v.ganttMonthHeaders,children:d.map((x,C)=>o.jsx("div",{className:v.ganttMonthHeader,style:{width:x.width*p},children:x.label},C))}),o.jsx("div",{className:v.ganttDayHeaders,children:u.map((x,C)=>o.jsx("div",{className:`${v.ganttDayHeader} ${x.isToday?v.today:""}`,style:{width:p},children:x.label},C))}),o.jsxs("div",{className:v.ganttTaskBars,children:[c.tasksWithDates.map(x=>{const C=h(x);return o.jsx("div",{className:v.ganttTaskRow,children:o.jsx("div",{className:v.ganttTaskBar,style:{left:C.left,width:C.width,backgroundColor:b(x.priority)},onClick:()=>k(x.id),children:x.progress>0&&o.jsx("div",{className:v.ganttTaskProgress,style:{width:`${x.progress}%`}})})},x.id)}),o.jsx("div",{className:v.ganttTodayLine,style:{left:7*p}})]})]})]}):o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(Ht,{})}),o.jsx("h3",{children:"No tasks with due dates"}),o.jsx("p",{children:"Add due dates to your tasks to see them in the Gantt chart"})]})}),o.jsxs("div",{className:v.ganttLegend,children:[o.jsxs("div",{className:v.ganttLegendItem,children:[o.jsx("div",{className:v.ganttLegendColor,style:{backgroundColor:"#ef4444"}}),o.jsx("span",{children:"High Priority"})]}),o.jsxs("div",{className:v.ganttLegendItem,children:[o.jsx("div",{className:v.ganttLegendColor,style:{backgroundColor:"#f59e0b"}}),o.jsx("span",{children:"Medium Priority"})]}),o.jsxs("div",{className:v.ganttLegendItem,children:[o.jsx("div",{className:v.ganttLegendColor,style:{backgroundColor:"#10b981"}}),o.jsx("span",{children:"Low Priority"})]}),o.jsxs("div",{className:v.ganttLegendItem,children:[o.jsx("div",{className:v.ganttTodayIndicator}),o.jsx("span",{children:"Today"})]})]})]})}function CNe(){const{state:e,selectTask:t,openDetailPanel:r}=Xe(),{user:n}=Ye(),i=m.useMemo(()=>{const c=new Map;return e.tasks.forEach(u=>{u.task_assignees&&u.task_assignees.length>0&&u.task_assignees.forEach(d=>{var p;const h=d.profiles;if(!h)return;c.has(d.user_id)||c.set(d.user_id,{id:d.user_id,name:h.full_name||((p=h.email)==null?void 0:p.split("@")[0])||"Unknown",avatar:h.avatar_url,role:"Member",tasks:[],totalTasks:0,completedTasks:0,inProgressTasks:0,highPriorityTasks:0,capacity:0,status:"underCapacity"}),c.get(d.user_id).tasks.push(u)})}),c.forEach(u=>{u.totalTasks=u.tasks.length,u.completedTasks=u.tasks.filter(h=>{const f=e.columns.find(p=>p.id===h.column_id);return(f==null?void 0:f.title.toLowerCase())==="done"}).length,u.inProgressTasks=u.tasks.filter(h=>{const f=e.columns.find(p=>p.id===h.column_id);return(f==null?void 0:f.title.toLowerCase())==="in progress"}).length,u.highPriorityTasks=u.tasks.filter(h=>h.priority==="high").length;const d=5;u.capacity=Math.min(100,Math.round(u.totalTasks/d*100)),u.capacity>100?u.status="overloaded":u.capacity>=80?u.status="atCapacity":u.status="underCapacity"}),Array.from(c.values())},[e.tasks,e.columns]),a=m.useMemo(()=>{const c=i.reduce((p,g)=>p+g.totalTasks,0),u=i.reduce((p,g)=>p+g.completedTasks,0),d=i.filter(p=>p.status==="overloaded").length,h=i.filter(p=>p.status==="underCapacity").length,f=i.filter(p=>p.status==="atCapacity").length;return{total:c,completed:u,overloaded:d,underCapacity:h,atCapacity:f}},[i]),s=c=>{switch(c){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}},l=c=>{t(c),r(c)};return i.length===0?o.jsxs("div",{className:v.workloadView,children:[o.jsx("div",{className:v.workloadHeader,children:o.jsxs("div",{className:v.workloadTitle,children:[o.jsx("div",{className:v.workloadIcon,children:o.jsx(ii,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Workload"}),o.jsx("p",{children:"Track team capacity and task distribution"})]})]})}),o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(ii,{})}),o.jsx("h3",{children:"No team members assigned"}),o.jsx("p",{children:"Assign team members to tasks to see workload distribution"})]})]}):o.jsxs("div",{className:v.workloadView,children:[o.jsx("div",{className:v.workloadHeader,children:o.jsxs("div",{className:v.workloadTitle,children:[o.jsx("div",{className:v.workloadIcon,children:o.jsx(ii,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Workload"}),o.jsx("p",{children:"Track team capacity and task distribution"})]})]})}),o.jsxs("div",{className:v.ganttStats,children:[o.jsxs("div",{className:`${v.statCard} ${v.blue}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(ii,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:i.length}),o.jsx("span",{className:v.statLabel,children:"Team Members"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.green}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(Fi,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:a.completed}),o.jsx("span",{className:v.statLabel,children:"Completed"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.yellow}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:a.atCapacity}),o.jsx("span",{className:v.statLabel,children:"At Capacity"})]})]}),a.overloaded>0&&o.jsxs("div",{className:`${v.statCard} ${v.red}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(eA,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:a.overloaded}),o.jsx("span",{className:v.statLabel,children:"Overloaded"})]})]})]}),o.jsx("div",{className:v.workloadGrid,children:i.map(c=>o.jsxs("div",{className:`${v.workloadCard} ${v[c.status]}`,children:[o.jsxs("div",{className:v.workloadCardHeader,children:[o.jsx("div",{className:v.workloadAvatar,children:c.avatar?o.jsx("img",{src:c.avatar,alt:c.name}):c.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:v.workloadMemberInfo,children:[o.jsx("div",{className:v.workloadMemberName,children:c.name}),o.jsx("div",{className:v.workloadMemberRole,children:c.role})]}),o.jsx("span",{className:`${v.workloadStatusBadge} ${v[c.status]}`,children:c.status==="overloaded"?"Overloaded":c.status==="atCapacity"?"At Capacity":"Available"})]}),o.jsxs("div",{className:v.workloadStats,children:[o.jsxs("div",{className:v.workloadStat,children:[o.jsx("div",{className:v.workloadStatValue,children:c.totalTasks}),o.jsx("div",{className:v.workloadStatLabel,children:"Total Tasks"})]}),o.jsxs("div",{className:v.workloadStat,children:[o.jsx("div",{className:v.workloadStatValue,children:c.completedTasks}),o.jsx("div",{className:v.workloadStatLabel,children:"Completed"})]}),o.jsxs("div",{className:v.workloadStat,children:[o.jsx("div",{className:v.workloadStatValue,children:c.inProgressTasks}),o.jsx("div",{className:v.workloadStatLabel,children:"In Progress"})]}),o.jsxs("div",{className:v.workloadStat,children:[o.jsx("div",{className:v.workloadStatValue,children:c.highPriorityTasks}),o.jsx("div",{className:v.workloadStatLabel,children:"High Priority"})]})]}),o.jsx("div",{className:v.workloadCapacityBar,children:o.jsx("div",{className:`${v.workloadCapacityFill} ${v[c.status]}`,style:{width:`${Math.min(100,c.capacity)}%`}})}),o.jsxs("div",{className:v.workloadCapacityLabel,children:[c.capacity,"% capacity"]}),c.tasks.length>0&&o.jsxs("div",{className:v.workloadTaskList,children:[o.jsx("div",{className:v.workloadTaskListTitle,children:"Recent Tasks"}),c.tasks.slice(0,5).map(u=>o.jsxs("div",{className:v.workloadTaskItem,onClick:()=>l(u.id),children:[o.jsx("div",{className:v.workloadTaskDot,style:{backgroundColor:s(u.priority)}}),o.jsx("span",{className:v.workloadTaskTitle,children:u.title})]},u.id)),c.tasks.length>5&&o.jsx("div",{className:v.workloadTaskItem,children:o.jsxs("span",{children:["+",c.tasks.length-5," more tasks"]})})]})]},c.id))}),o.jsxs("div",{className:v.workloadSummary,children:[o.jsxs("h3",{children:[o.jsx(Fm,{style:{marginRight:"8px",display:"inline"}}),"Team Distribution"]}),o.jsx("div",{className:v.workloadDistribution,children:o.jsxs("div",{className:v.workloadDistributionItem,children:[o.jsx("span",{className:v.workloadDistributionLabel,children:"Workload Status"}),o.jsxs("div",{className:v.workloadDistributionBar,children:[a.overloaded>0&&o.jsx("div",{className:`${v.workloadDistributionSegment} ${v.overloaded}`,style:{width:`${a.overloaded/i.length*100}%`},children:a.overloaded}),a.atCapacity>0&&o.jsx("div",{className:`${v.workloadDistributionSegment} ${v.atCapacity}`,style:{width:`${a.atCapacity/i.length*100}%`},children:a.atCapacity}),a.underCapacity>0&&o.jsx("div",{className:`${v.workloadDistributionSegment} ${v.underCapacity}`,style:{width:`${a.underCapacity/i.length*100}%`},children:a.underCapacity})]})]})}),o.jsxs("div",{style:{marginTop:"var(--spacing-md)",display:"flex",gap:"var(--spacing-lg)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#ef4444"}}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Overloaded (",a.overloaded,")"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#f59e0b"}}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["At Capacity (",a.atCapacity,")"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[o.jsx("div",{style:{width:12,height:12,borderRadius:2,background:"#10b981"}}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["Available (",a.underCapacity,")"]})]})]})]})]})}function NNe(){const{state:e,selectTask:t,openDetailPanel:r}=Xe(),n=m.useMemo(()=>{const d=new Map,h=new Date;h.setHours(0,0,0,0);const f=h.toISOString().split("T")[0];e.tasks.filter(k=>!k.is_archived).map(k=>{var j,N;const x=((j=k.subtasks)==null?void 0:j.filter(T=>T.is_completed).length)||0,C=((N=k.subtasks)==null?void 0:N.length)||0,S=C>0?x/C*100:0;return{id:k.id,title:k.title,priority:k.priority,due_date:k.due_date,column_id:k.column_id,progress:S,created_at:k.created_at}}).forEach(k=>{const x=k.due_date||"no-date",C=k.due_date?new Date(k.due_date):null;if(!d.has(x)){let S="No Due Date",j=!1,N=!1;C&&(x===f?(S="Today",j=!0):C<h?(S=a(C),N=!0):S=a(C)),d.set(x,{date:x,label:S,tasks:[],isToday:j,isPast:N})}d.get(x).tasks.push(k)});const g=Array.from(d.values()).sort((k,x)=>k.date==="no-date"?1:x.date==="no-date"?-1:k.date.localeCompare(x.date)),w=[],y=[],_=[],b=[];return g.forEach(k=>{k.date==="no-date"?b.push(k):k.isPast&&!k.isToday?w.push(k):k.isToday?y.push(k):_.push(k)}),[...y,...w,..._,...b]},[e.tasks]),i=m.useMemo(()=>{const d=e.tasks.filter(g=>!g.is_archived).length,h=e.tasks.filter(g=>{if(!g.due_date||g.is_archived)return!1;const w=new Date(g.due_date),y=new Date;return y.setHours(0,0,0,0),w<y}).length,f=e.tasks.filter(g=>{if(!g.due_date)return!1;const w=new Date().toISOString().split("T")[0];return g.due_date===w}).length,p=e.tasks.filter(g=>{if(!g.due_date)return!1;const w=new Date(g.due_date),y=new Date;y.setHours(0,0,0,0);const _=new Date(y);return _.setDate(_.getDate()+7),w>y&&w<=_}).length;return{total:d,overdue:h,today:f,upcoming:p}},[e.tasks]);function a(d){const h=new Date;h.setHours(0,0,0,0);const f=new Date(h);f.setDate(f.getDate()+1);const p=new Date(h);return p.setDate(p.getDate()-1),d.toDateString()===p.toDateString()?"Yesterday":d.toDateString()===f.toDateString()?"Tomorrow":d.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function s(d){switch(d){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#10b981";default:return"#6b7280"}}function l(d){const h=e.columns.find(f=>f.id===d);return(h==null?void 0:h.title)||"Unknown"}const c=d=>{t(d),r(d)},u=d=>{const h=e.columns.find(f=>f.id===d);return(h==null?void 0:h.title.toLowerCase())==="done"};return o.jsxs("div",{className:v.timelineView,children:[o.jsx("div",{className:v.timelineHeader,children:o.jsxs("div",{className:v.timelineTitle,children:[o.jsx("div",{className:v.timelineIcon,children:o.jsx(St,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Timeline"}),o.jsx("p",{children:"View tasks organized by date"})]})]})}),o.jsxs("div",{className:v.ganttStats,children:[o.jsxs("div",{className:`${v.statCard} ${v.blue}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(Ht,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:i.today}),o.jsx("span",{className:v.statLabel,children:"Due Today"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.green}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(St,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:i.upcoming}),o.jsx("span",{className:v.statLabel,children:"This Week"})]})]}),i.overdue>0&&o.jsxs("div",{className:`${v.statCard} ${v.red}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(sn,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:i.overdue}),o.jsx("span",{className:v.statLabel,children:"Overdue"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.purple}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(Fi,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:i.total}),o.jsx("span",{className:v.statLabel,children:"Total Tasks"})]})]})]}),o.jsxs("div",{className:v.timelineContent,children:[o.jsx("div",{className:v.timelineLine}),n.length>0?n.map(d=>o.jsxs("div",{className:v.timelineGroup,children:[o.jsxs("div",{className:v.timelineGroupHeader,children:[o.jsx("div",{className:`${v.timelineGroupDot} ${d.isToday?v.today:""} ${d.isPast?v.past:""}`,children:d.tasks.length}),o.jsxs("div",{className:v.timelineGroupDate,children:[d.label,d.isPast&&!d.isToday&&o.jsx("span",{className:v.timelineGroupCount,children:" (Overdue)"})]})]}),o.jsx("div",{className:v.timelineItems,children:d.tasks.map(h=>o.jsxs("div",{className:`${v.timelineItem} ${u(h.column_id)?v.completed:""}`,onClick:()=>c(h.id),children:[o.jsx("div",{className:v.timelineItemDot}),o.jsx("div",{className:v.timelineItemPriority,style:{backgroundColor:s(h.priority)}}),o.jsxs("div",{className:v.timelineItemContent,children:[o.jsx("div",{className:v.timelineItemTitle,children:h.title}),o.jsxs("div",{className:v.timelineItemMeta,children:[o.jsx("span",{className:v.timelineItemStatus,children:l(h.column_id)}),h.due_date&&o.jsxs("span",{className:`${v.timelineItemDue} ${d.isPast&&!d.isToday?v.overdue:""}`,children:[o.jsx(Ht,{}),h.due_date]})]})]}),h.progress>0&&o.jsx("div",{className:v.timelineItemProgress,children:o.jsx("div",{className:v.timelineItemProgressFill,style:{width:`${h.progress}%`}})})]},h.id))})]},d.date)):o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(St,{})}),o.jsx("h3",{children:"No tasks found"}),o.jsx("p",{children:"Create tasks with due dates to see them on the timeline"})]})]})]})}function TNe(){const{user:e}=Ye(),{showToast:t}=vr(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,l]=m.useState(null),[c,u]=m.useState(!1),[d,h]=m.useState(null),[f,p]=m.useState({name:"",description:"",title_template:"",description_template:"",priority:"medium",default_tags:"",subtask_templates:""});m.useEffect(()=>{g()},[e]);const g=async()=>{if(e){a(!0),l(null);try{const{data:x,error:C}=await cw(e.id);C?(console.error("Error loading templates:",C),l("Gagal memuat template. Pastikan tabel task_templates sudah dibuat.")):x&&n(x)}catch(x){console.error("Exception loading templates:",x),l("Terjadi kesalahan saat memuat template.")}a(!1)}},w=()=>{p({name:"",description:"",title_template:"",description_template:"",priority:"medium",default_tags:"",subtask_templates:""}),h(null)},y=x=>{var C;x?(h(x),p({name:x.name,description:x.description||"",title_template:x.title_template||"",description_template:x.description_template||"",priority:x.priority,default_tags:(x.default_tags||[]).join(", "),subtask_templates:((C=x.subtask_templates)==null?void 0:C.map(S=>S.title).join(`
`))||""})):w(),u(!0)},_=()=>{u(!1),w()},b=async()=>{if(!e||!f.name.trim()){t("Nama template harus diisi","error");return}const x=f.subtask_templates.split(`
`).filter(j=>j.trim()).map((j,N)=>({title:j.trim(),position:N})),C={user_id:e.id,name:f.name.trim(),description:f.description.trim()||null,title_template:f.title_template.trim()||null,description_template:f.description_template.trim()||null,priority:f.priority,default_labels:[],default_tags:f.default_tags.split(",").map(j=>j.trim()).filter(j=>j),subtask_templates:x};let S;if(d?S=(await $P(d.id,C)).error:S=(await LP(C)).error,S){t("Gagal menyimpan template","error");return}t(d?"Template diperbarui":"Template dibuat","success"),_(),g()},k=async x=>{if(!confirm("Hapus template ini?"))return;const{error:C}=await RP(x);if(C){t("Gagal menghapus template","error");return}t("Template dihapus","info"),g()};return o.jsxs("div",{className:v.viewContainer,children:[o.jsxs("div",{className:v.viewHeader,children:[o.jsxs("div",{children:[o.jsx("h1",{children:"Templates"}),o.jsx("p",{children:"Kelola template tugas untuk pembuatan cepat"})]}),o.jsxs("button",{className:v.primaryBtn,onClick:()=>y(),children:[o.jsx(ht,{})," New Template"]})]}),o.jsx("div",{className:v.statsGrid,children:o.jsxs("div",{className:`${v.statCard} ${v.purple}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(Ei,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:r.length}),o.jsx("span",{className:v.statLabel,children:"Templates"})]})]})}),o.jsx("div",{className:v.section,children:i?o.jsx("div",{className:v.emptyState,children:o.jsx("p",{children:"Loading..."})}):s?o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(Ei,{})}),o.jsx("h3",{children:"Error"}),o.jsx("p",{children:s}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"8px"},children:"Jalankan migration 007_add_advanced_features.sql di Supabase"}),o.jsxs("button",{className:v.primaryBtn,onClick:()=>y(),children:[o.jsx(ht,{})," Buat Template"]})]}):r.length>0?o.jsx("div",{className:v.projectsGrid,children:r.map(x=>o.jsxs("div",{className:v.projectCard,children:[o.jsxs("div",{className:v.projectHeader,children:[o.jsx("div",{className:v.projectColor,style:{background:"#8b5cf6"},children:o.jsx(Ei,{})}),o.jsxs("div",{className:v.projectCardActions,children:[o.jsx("button",{className:v.iconBtn,onClick:()=>y(x),title:"Edit",children:o.jsx(ua,{})}),o.jsx("button",{className:`${v.iconBtn} ${v.danger}`,onClick:()=>k(x.id),title:"Delete",children:o.jsx(rr,{})})]})]}),o.jsx("h3",{children:x.name}),x.description&&o.jsx("p",{children:x.description}),o.jsxs("div",{className:v.templateMeta,children:[x.title_template&&o.jsxs("span",{className:v.templateTag,children:["Title: ",x.title_template]}),o.jsxs("span",{className:v.templateTag,children:["Priority: ",x.priority]}),x.default_tags&&x.default_tags.length>0&&o.jsxs("span",{className:v.templateTag,children:["Tags: ",x.default_tags.join(", ")]}),x.subtask_templates&&Array.isArray(x.subtask_templates)&&x.subtask_templates.length>0&&o.jsxs("span",{className:v.templateTag,children:["Subtasks: ",x.subtask_templates.length]})]})]},x.id))}):o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(Ei,{})}),o.jsx("h3",{children:"Belum ada template"}),o.jsx("p",{children:"Buat template untuk mempercepat pembuatan tugas"}),o.jsxs("button",{className:v.primaryBtn,onClick:()=>y(),children:[o.jsx(ht,{})," Buat Template"]})]})}),c&&o.jsx("div",{className:v.modal,onClick:_,children:o.jsxs("div",{className:v.modalContent,onClick:x=>x.stopPropagation(),children:[o.jsxs("div",{className:v.modalHeader,children:[o.jsx("h3",{children:d?"Edit Template":"New Template"}),o.jsx("button",{onClick:_,children:o.jsx(ft,{})})]}),o.jsxs("div",{className:v.modalBody,children:[o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Template Name *"}),o.jsx("input",{type:"text",value:f.name,onChange:x=>p({...f,name:x.target.value}),placeholder:"e.g., Bug Report, Feature Request"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Description"}),o.jsx("input",{type:"text",value:f.description,onChange:x=>p({...f,description:x.target.value}),placeholder:"What is this template for?"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Default Title"}),o.jsx("input",{type:"text",value:f.title_template,onChange:x=>p({...f,title_template:x.target.value}),placeholder:"Default task title"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Default Description"}),o.jsx("textarea",{value:f.description_template,onChange:x=>p({...f,description_template:x.target.value}),placeholder:"Default task description",rows:3})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Priority"}),o.jsxs("select",{value:f.priority,onChange:x=>p({...f,priority:x.target.value}),children:[o.jsx("option",{value:"low",children:"Low"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"high",children:"High"})]})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Default Tags (comma separated)"}),o.jsx("input",{type:"text",value:f.default_tags,onChange:x=>p({...f,default_tags:x.target.value}),placeholder:"bug, urgent, frontend"})]}),o.jsxs("div",{className:v.formGroup,children:[o.jsx("label",{children:"Subtasks (one per line)"}),o.jsx("textarea",{value:f.subtask_templates,onChange:x=>p({...f,subtask_templates:x.target.value}),placeholder:`Research
Design
Implementation
Testing`,rows:4})]})]}),o.jsxs("div",{className:v.modalFooter,children:[o.jsx("button",{className:v.secondaryBtn,onClick:_,children:"Cancel"}),o.jsxs("button",{className:v.primaryBtn,onClick:b,children:[o.jsx(Ei,{})," ",d?"Update":"Create"]})]})]})})]})}const ENe="_activityFeed_16x4h_1",PNe="_feedHeader_16x4h_8",ANe="_feedTitle_16x4h_15",ONe="_feedActions_16x4h_25",INe="_refreshBtn_16x4h_30",DNe="_spinning_16x4h_54",LNe="_filterChips_16x4h_63",$Ne="_filterChip_16x4h_63",RNe="_active_16x4h_86",MNe="_activityList_16x4h_91",BNe="_activityItem_16x4h_99",FNe="_activityIcon_16x4h_112",zNe="_created_16x4h_127",UNe="_updated_16x4h_132",WNe="_completed_16x4h_137",HNe="_deleted_16x4h_142",qNe="_comment_16x4h_147",VNe="_activityContent_16x4h_157",KNe="_activityText_16x4h_162",GNe="_activityTime_16x4h_173",YNe="_noActivity_16x4h_178",yt={activityFeed:ENe,feedHeader:PNe,feedTitle:ANe,feedActions:ONe,refreshBtn:INe,spinning:DNe,filterChips:LNe,filterChip:$Ne,active:RNe,activityList:MNe,activityItem:BNe,activityIcon:FNe,created:zNe,updated:UNe,completed:WNe,deleted:HNe,comment:qNe,default:"_default_16x4h_152",activityContent:VNe,activityText:KNe,activityTime:GNe,noActivity:YNe};function XNe({boardId:e,taskId:t,limit:r=20}){const{user:n}=Ye(),{showToast:i}=vr(),[a,s]=m.useState([]),[l,c]=m.useState(!1),[u,d]=m.useState(null);m.useEffect(()=>{h()},[e,t,r]);const h=async()=>{c(!0);const{data:b,error:k}=await uw(e,t,void 0,r);b&&s(b),c(!1)},f=b=>{switch(b){case"task_created":return o.jsx(ht,{});case"task_updated":case"priority_changed":case"due_date_changed":return o.jsx(NF,{});case"task_completed":return o.jsx(an,{});case"task_deleted":return o.jsx(rr,{});case"task_moved":return o.jsx(Ay,{});case"comment_added":return o.jsx(DF,{});case"attachment_added":return o.jsx(Ni,{});case"assignee_added":case"assignee_removed":return o.jsx($i,{});case"label_added":case"label_removed":return o.jsx(Ol,{});case"time_logged":return o.jsx(St,{});default:return o.jsx(_n,{})}},p=b=>b.includes("created")?yt.created:b.includes("updated")||b.includes("changed")?yt.updated:b.includes("completed")?yt.completed:b.includes("deleted")?yt.deleted:b.includes("comment")?yt.comment:yt.default,g=b=>{var S;const k=((S=b.profiles)==null?void 0:S.full_name)||"Someone",x=b.action_details||{},C=x.title||"a task";switch(b.action_type){case"task_created":return`<strong>${k}</strong> created task "${C}"`;case"task_updated":return`<strong>${k}</strong> updated task "${C}"`;case"task_completed":return`<strong>${k}</strong> completed task "${C}"`;case"task_deleted":return`<strong>${k}</strong> deleted task "${C}"`;case"task_moved":return`<strong>${k}</strong> moved task "${C}"`;case"task_archived":return`<strong>${k}</strong> archived task "${C}"`;case"task_restored":return`<strong>${k}</strong> restored task "${C}"`;case"comment_added":return`<strong>${k}</strong> added a comment`;case"attachment_added":return`<strong>${k}</strong> added an attachment`;case"assignee_added":return`<strong>${k}</strong> assigned task "${C}"`;case"priority_changed":return`<strong>${k}</strong> changed priority to ${x.new_priority||"unknown"}`;case"due_date_changed":return`<strong>${k}</strong> changed due date`;case"time_logged":return`<strong>${k}</strong> logged time`;default:return`<strong>${k}</strong> ${b.action_type.replace(/_/g," ")}`}},w=b=>{const k=new Date(b),C=new Date().getTime()-k.getTime(),S=Math.floor(C/6e4),j=Math.floor(C/36e5),N=Math.floor(C/864e5);return S<1?"Just now":S<60?`${S}m ago`:j<24?`${j}h ago`:N<7?`${N}d ago`:k.toLocaleDateString()},y=u?a.filter(b=>b.action_type.includes(u)):a,_=[{value:"created",label:"Created"},{value:"updated",label:"Updated"},{value:"completed",label:"Completed"},{value:"comment",label:"Comments"}];return o.jsxs("div",{className:yt.activityFeed,children:[o.jsxs("div",{className:yt.feedHeader,children:[o.jsxs("h3",{className:yt.feedTitle,children:[o.jsx(_n,{})," Activity"]}),o.jsx("div",{className:yt.feedActions,children:o.jsx("button",{className:yt.refreshBtn,onClick:h,disabled:l,title:"Refresh",children:o.jsx(RF,{className:l?yt.spinning:""})})})]}),o.jsxs("div",{className:yt.filterChips,children:[o.jsx("button",{className:`${yt.filterChip} ${u?"":yt.active}`,onClick:()=>d(null),children:"All"}),_.map(b=>o.jsx("button",{className:`${yt.filterChip} ${u===b.value?yt.active:""}`,onClick:()=>d(b.value),children:b.label},b.value))]}),o.jsx("div",{className:yt.activityList,children:y.length>0?y.map(b=>o.jsxs("div",{className:yt.activityItem,children:[o.jsx("div",{className:`${yt.activityIcon} ${p(b.action_type)}`,children:f(b.action_type)}),o.jsxs("div",{className:yt.activityContent,children:[o.jsx("p",{className:yt.activityText,dangerouslySetInnerHTML:{__html:g(b)}}),o.jsx("span",{className:yt.activityTime,children:w(b.created_at)})]})]},b.id)):o.jsxs("div",{className:yt.noActivity,children:[o.jsx(_n,{}),o.jsx("p",{children:"No activity yet"})]})})]})}function JNe(){var a;const{user:e}=Ye(),{state:t}=Xe(),[r,n]=m.useState("all"),i=(a=t.board)==null?void 0:a.id;return o.jsxs("div",{className:v.viewContainer,children:[o.jsx("div",{className:v.viewHeader,children:o.jsxs("div",{children:[o.jsx("h1",{children:"Activity"}),o.jsx("p",{children:"Track all activities across your board"})]})}),o.jsxs("div",{className:v.statsGrid,children:[o.jsxs("div",{className:`${v.statCard} ${v.blue}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(_n,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:t.tasks.length}),o.jsx("span",{className:v.statLabel,children:"Total Tasks"})]})]}),o.jsxs("div",{className:`${v.statCard} ${v.green}`,children:[o.jsx("div",{className:v.statIcon,children:o.jsx(_n,{})}),o.jsxs("div",{className:v.statContent,children:[o.jsx("span",{className:v.statValue,children:t.tasks.filter(s=>{const l=t.columns.find(c=>c.id===s.column_id);return(l==null?void 0:l.title.toLowerCase())==="done"}).length}),o.jsx("span",{className:v.statLabel,children:"Completed"})]})]})]}),o.jsxs("div",{className:v.section,children:[o.jsxs("div",{className:v.sectionHeader,children:[o.jsx(_n,{}),o.jsx("span",{children:"Recent Activity"})]}),i?o.jsx(XNe,{boardId:i,limit:50}):o.jsxs("div",{className:v.emptyState,children:[o.jsx("div",{className:v.emptyIcon,children:o.jsx(_n,{})}),o.jsx("h3",{children:"No Activity Yet"}),o.jsx("p",{children:"Start creating tasks to see activity here"})]})]})]})}function QNe(){const{user:e}=Ye(),{openDetailPanel:t}=Xe(),{showToast:r}=vr(),[n,i]=m.useState([]),[a,s]=m.useState(!0);m.useEffect(()=>{l()},[e]);const l=async()=>{if(!e)return;s(!0);const{data:f,error:p}=await zP(e.id);if(p)console.error("Error loading watched tasks:",p);else{const g=(f||[]).filter(w=>w.tasks).map(w=>w.tasks);i(g)}s(!1)},c=async f=>{if(!e)return;const{error:p}=await BP(f,e.id);p?r("Failed to stop watching","error"):(i(n.filter(g=>g.id!==f)),r("Stopped watching this task","info"))},u=f=>{t(f)},d=f=>{switch(f){case"high":return"#ef4444";case"medium":return"#f59e0b";case"low":return"#22c55e";default:return"#6b7280"}},h=f=>{if(!f)return null;const p=new Date(f),g=new Date,w=p.getTime()-g.getTime(),y=Math.ceil(w/(1e3*60*60*24));return y<0?{text:"Overdue",color:"#ef4444"}:y===0?{text:"Today",color:"#f59e0b"}:y===1?{text:"Tomorrow",color:"#3b82f6"}:{text:p.toLocaleDateString(),color:"#6b7280"}};return a?o.jsx("div",{className:v.watchingView,children:o.jsxs("div",{className:v.loading,children:[o.jsx(Qs,{className:v.spinner}),o.jsx("span",{children:"Loading watched tasks..."})]})}):o.jsxs("div",{className:v.watchingView,children:[o.jsx("div",{className:v.watchingHeader,children:o.jsxs("div",{className:v.watchingTitle,children:[o.jsx("div",{className:v.watchingIcon,children:o.jsx(fl,{})}),o.jsxs("div",{children:[o.jsx("h1",{children:"Watching"}),o.jsxs("p",{children:[n.length," task",n.length!==1?"s":""," you're following"]})]})]})}),o.jsx("div",{className:v.watchingInfo,children:o.jsx("p",{children:"You'll receive notifications when these tasks are updated."})}),o.jsx("div",{className:v.watchingList,children:n.length>0?n.map(f=>{const p=h(f.due_date);return o.jsxs("div",{className:v.watchingCard,children:[o.jsxs("div",{className:v.watchingCardHeader,children:[o.jsx("span",{className:v.priorityBadge,style:{background:d(f.priority)},children:f.priority}),p&&o.jsx("span",{className:v.dueBadge,style:{color:p.color},children:p.text})]}),o.jsx("h3",{className:v.watchingCardTitle,onClick:()=>u(f.id),children:f.title}),f.description&&o.jsx("p",{className:v.watchingCardDesc,children:f.description}),o.jsx("div",{className:v.watchingCardActions,children:o.jsxs("button",{className:v.unwatchBtn,onClick:()=>c(f.id),children:[o.jsx(sA,{})," Stop Watching"]})})]},f.id)}):o.jsxs("div",{className:v.emptyWatching,children:[o.jsx("div",{className:v.emptyWatchingIcon,children:o.jsx(fl,{})}),o.jsx("h3",{children:"No watched tasks"}),o.jsx("p",{children:'Click the "Watch" button on any task to follow its updates'})]})})]})}const ZNe="_container_1n8wo_1",eTe="_loading_1n8wo_7",tTe="_header_1n8wo_13",rTe="_title_1n8wo_20",nTe="_subtitle_1n8wo_27",iTe="_createBtn_1n8wo_33",aTe="_empty_1n8wo_52",sTe="_emptyIcon_1n8wo_60",oTe="_ruleList_1n8wo_77",lTe="_ruleCard_1n8wo_83",cTe="_inactive_1n8wo_99",uTe="_ruleInfo_1n8wo_104",dTe="_ruleHeader_1n8wo_108",hTe="_ruleName_1n8wo_115",fTe="_ruleDescription_1n8wo_122",mTe="_ruleMeta_1n8wo_128",pTe="_metaItem_1n8wo_134",vTe="_ruleActions_1n8wo_143",gTe="_editBtn_1n8wo_148",yTe="_deleteBtn_1n8wo_149",_Te="_toggle_1n8wo_178",wTe="_toggleSlider_1n8wo_191",xTe="_modalOverlay_1n8wo_223",bTe="_modal_1n8wo_223",kTe="_modalHeader_1n8wo_246",jTe="_closeBtn_1n8wo_261",STe="_modalBody_1n8wo_273",CTe="_formGroup_1n8wo_277",NTe="_formRow_1n8wo_311",TTe="_checkboxLabel_1n8wo_317",ETe="_modalFooter_1n8wo_330",PTe="_cancelBtn_1n8wo_340",ATe="_saveBtn_1n8wo_341",Ae={container:ZNe,loading:eTe,header:tTe,title:rTe,subtitle:nTe,createBtn:iTe,empty:aTe,emptyIcon:sTe,ruleList:oTe,ruleCard:lTe,inactive:cTe,ruleInfo:uTe,ruleHeader:dTe,ruleName:hTe,ruleDescription:fTe,ruleMeta:mTe,metaItem:pTe,ruleActions:vTe,editBtn:gTe,deleteBtn:yTe,toggle:_Te,toggleSlider:wTe,modalOverlay:xTe,modal:bTe,modalHeader:kTe,closeBtn:jTe,modalBody:STe,formGroup:CTe,formRow:NTe,checkboxLabel:TTe,modalFooter:ETe,cancelBtn:PTe,saveBtn:ATe},M2=[{value:"task_created",label:"When a task is created"},{value:"task_moved",label:"When a task is moved to a column"},{value:"task_completed",label:"When a task is completed"},{value:"due_date_approaching",label:"When due date is approaching"},{value:"priority_changed",label:"When priority changes"}],B2=[{value:"move_to_column",label:"Move to column"},{value:"assign_user",label:"Assign user"},{value:"add_label",label:"Add label"},{value:"set_priority",label:"Set priority"},{value:"send_notification",label:"Send notification"}];function OTe(){var te;const{state:e}=Xe(),{user:t}=Ye(),{showToast:r}=vr(),[n,i]=m.useState([]),[a,s]=m.useState(!0),[l,c]=m.useState(!1),[u,d]=m.useState(null),[h,f]=m.useState(""),[p,g]=m.useState(""),[w,y]=m.useState("task_created"),[_,b]=m.useState({}),[k,x]=m.useState("move_to_column"),[C,S]=m.useState({}),[j,N]=m.useState(!0);m.useEffect(()=>{T()},[(te=e.board)==null?void 0:te.id]);const T=async()=>{var z;if(!((z=e.board)!=null&&z.id))return;s(!0);const{data:A,error:U}=await M.from("automation_rules").select("*").eq("board_id",e.board.id).order("created_at",{ascending:!1});!U&&A&&i(A),s(!1)},P=()=>{f(""),g(""),y("task_created"),b({}),x("move_to_column"),S({}),N(!0),d(null)},I=()=>{P(),c(!0)},E=A=>{d(A),f(A.name),g(A.description||""),y(A.trigger_type),b(A.trigger_config||{}),x(A.action_type),S(A.action_config||{}),N(A.is_active),c(!0)},B=async()=>{var U;if(!((U=e.board)!=null&&U.id)||!(t!=null&&t.id)||!h.trim()){r("Please fill in all required fields","error");return}const A={board_id:e.board.id,name:h.trim(),description:p.trim()||null,is_active:j,trigger_type:w,trigger_config:_,action_type:k,action_config:C,created_by:t.id};try{if(u){const{error:z}=await M.from("automation_rules").update({name:A.name,description:A.description,is_active:A.is_active,trigger_type:A.trigger_type,trigger_config:A.trigger_config,action_type:A.action_type,action_config:A.action_config}).eq("id",u.id);if(z)throw z;r("Rule updated!","success")}else{const{error:z}=await M.from("automation_rules").insert(A);if(z)throw z;r("Rule created!","success")}c(!1),P(),T()}catch(z){console.error("Save rule error:",z),r("Failed to save rule","error")}},K=async A=>{if(confirm("Delete this automation rule?"))try{const{error:U}=await M.from("automation_rules").delete().eq("id",A);if(U)throw U;r("Rule deleted","info"),T()}catch(U){console.error("Delete rule error:",U),r("Failed to delete rule","error")}},R=async A=>{try{const{error:U}=await M.from("automation_rules").update({is_active:!A.is_active}).eq("id",A.id);if(U)throw U;r(A.is_active?"Rule disabled":"Rule enabled","info"),T()}catch(U){console.error("Toggle rule error:",U),r("Failed to update rule","error")}};return a?o.jsx("div",{className:Ae.container,children:o.jsx("div",{className:Ae.loading,children:"Loading automation rules..."})}):o.jsxs("div",{className:Ae.container,children:[o.jsxs("div",{className:Ae.header,children:[o.jsxs("div",{children:[o.jsx("h2",{className:Ae.title,children:"Automation Rules"}),o.jsx("p",{className:Ae.subtitle,children:"Automate repetitive tasks and workflows"})]}),o.jsxs("button",{className:Ae.createBtn,onClick:I,children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 5v14M5 12h14"})}),"Create Rule"]})]}),n.length===0?o.jsxs("div",{className:Ae.empty,children:[o.jsx("div",{className:Ae.emptyIcon,children:o.jsx("svg",{width:"64",height:"64",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:o.jsx("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})})}),o.jsx("h3",{children:"No automation rules yet"}),o.jsx("p",{children:"Create your first rule to automate your workflow"})]}):o.jsx("div",{className:Ae.ruleList,children:n.map(A=>{var U,z;return o.jsxs("div",{className:`${Ae.ruleCard} ${A.is_active?"":Ae.inactive}`,children:[o.jsxs("div",{className:Ae.ruleInfo,children:[o.jsxs("div",{className:Ae.ruleHeader,children:[o.jsx("h3",{className:Ae.ruleName,children:A.name}),o.jsxs("label",{className:Ae.toggle,children:[o.jsx("input",{type:"checkbox",checked:A.is_active,onChange:()=>R(A)}),o.jsx("span",{className:Ae.toggleSlider})]})]}),A.description&&o.jsx("p",{className:Ae.ruleDescription,children:A.description}),o.jsxs("div",{className:Ae.ruleMeta,children:[o.jsxs("span",{className:Ae.metaItem,children:[o.jsx("strong",{children:"Trigger:"})," ",((U=M2.find(Q=>Q.value===A.trigger_type))==null?void 0:U.label)||A.trigger_type]}),o.jsxs("span",{className:Ae.metaItem,children:[o.jsx("strong",{children:"Action:"})," ",((z=B2.find(Q=>Q.value===A.action_type))==null?void 0:z.label)||A.action_type]})]})]}),o.jsxs("div",{className:Ae.ruleActions,children:[o.jsx("button",{className:Ae.editBtn,onClick:()=>E(A),children:"Edit"}),o.jsx("button",{className:Ae.deleteBtn,onClick:()=>K(A.id),children:"Delete"})]})]},A.id)})}),l&&o.jsx("div",{className:Ae.modalOverlay,onClick:()=>c(!1),children:o.jsxs("div",{className:Ae.modal,onClick:A=>A.stopPropagation(),children:[o.jsxs("div",{className:Ae.modalHeader,children:[o.jsx("h3",{children:u?"Edit Rule":"Create Automation Rule"}),o.jsx("button",{className:Ae.closeBtn,onClick:()=>c(!1),children:""})]}),o.jsxs("div",{className:Ae.modalBody,children:[o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Rule Name *"}),o.jsx("input",{type:"text",value:h,onChange:A=>f(A.target.value),placeholder:"e.g., Auto-assign high priority tasks"})]}),o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Description"}),o.jsx("textarea",{value:p,onChange:A=>g(A.target.value),placeholder:"What does this rule do?",rows:2})]}),o.jsxs("div",{className:Ae.formRow,children:[o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"When (Trigger)"}),o.jsx("select",{value:w,onChange:A=>y(A.target.value),children:M2.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))})]}),o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Then (Action)"}),o.jsx("select",{value:k,onChange:A=>x(A.target.value),children:B2.map(A=>o.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),w==="task_moved"&&o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Target Column"}),o.jsxs("select",{value:_.column_id||"",onChange:A=>b({..._,column_id:A.target.value}),children:[o.jsx("option",{value:"",children:"Select column"}),e.columns.map(A=>o.jsx("option",{value:A.id,children:A.title},A.id))]})]}),w==="due_date_approaching"&&o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Days before due date"}),o.jsx("input",{type:"number",min:"1",max:"30",value:_.days||1,onChange:A=>b({..._,days:parseInt(A.target.value)})})]}),k==="move_to_column"&&o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Move to Column"}),o.jsxs("select",{value:C.column_id||"",onChange:A=>S({...C,column_id:A.target.value}),children:[o.jsx("option",{value:"",children:"Select column"}),e.columns.map(A=>o.jsx("option",{value:A.id,children:A.title},A.id))]})]}),k==="set_priority"&&o.jsxs("div",{className:Ae.formGroup,children:[o.jsx("label",{children:"Set Priority"}),o.jsxs("select",{value:C.priority||"medium",onChange:A=>S({...C,priority:A.target.value}),children:[o.jsx("option",{value:"high",children:"High"}),o.jsx("option",{value:"medium",children:"Medium"}),o.jsx("option",{value:"low",children:"Low"})]})]}),o.jsx("div",{className:Ae.formGroup,children:o.jsxs("label",{className:Ae.checkboxLabel,children:[o.jsx("input",{type:"checkbox",checked:j,onChange:A=>N(A.target.checked)}),"Rule is active"]})})]}),o.jsxs("div",{className:Ae.modalFooter,children:[o.jsx("button",{className:Ae.cancelBtn,onClick:()=>c(!1),children:"Cancel"}),o.jsx("button",{className:Ae.saveBtn,onClick:B,children:u?"Update Rule":"Create Rule"})]})]})})]})}const ITe="_container_1dxrd_1",DTe="_loading_1dxrd_7",LTe="_header_1dxrd_13",$Te="_title_1dxrd_20",RTe="_subtitle_1dxrd_27",MTe="_createBtn_1dxrd_33",BTe="_fieldList_1dxrd_77",FTe="_fieldCard_1dxrd_83",zTe="_fieldInfo_1dxrd_99",UTe="_fieldIcon_1dxrd_105",WTe="_fieldDetails_1dxrd_109",HTe="_fieldName_1dxrd_114",qTe="_required_1dxrd_121",VTe="_fieldType_1dxrd_126",KTe="_fieldActions_1dxrd_132",GTe="_editBtn_1dxrd_137",YTe="_deleteBtn_1dxrd_138",XTe="_modalOverlay_1dxrd_167",JTe="_modal_1dxrd_167",QTe="_modalHeader_1dxrd_190",ZTe="_closeBtn_1dxrd_205",eEe="_modalBody_1dxrd_217",tEe="_formGroup_1dxrd_221",rEe="_optionsInput_1dxrd_252",nEe="_optionsList_1dxrd_275",iEe="_optionTag_1dxrd_282",aEe="_checkboxLabel_1dxrd_307",sEe="_modalFooter_1dxrd_320",oEe="_cancelBtn_1dxrd_330",lEe="_saveBtn_1dxrd_331",cEe="_templatesSection_1dxrd_386",uEe="_templatesTitle_1dxrd_394",dEe="_templatesSubtitle_1dxrd_401",hEe="_templatesGrid_1dxrd_407",fEe="_templateCard_1dxrd_413",mEe="_templateAdded_1dxrd_426",pEe="_templateIcon_1dxrd_439",vEe="_templateName_1dxrd_444",gEe="_templateType_1dxrd_451",yEe="_addedBadge_1dxrd_457",_Ee="_activeFieldsSection_1dxrd_469",wEe="_sectionTitle_1dxrd_473",xEe="_emptyState_1dxrd_480",Te={container:ITe,loading:DTe,header:LTe,title:$Te,subtitle:RTe,createBtn:MTe,fieldList:BTe,fieldCard:FTe,fieldInfo:zTe,fieldIcon:UTe,fieldDetails:WTe,fieldName:HTe,required:qTe,fieldType:VTe,fieldActions:KTe,editBtn:GTe,deleteBtn:YTe,modalOverlay:XTe,modal:JTe,modalHeader:QTe,closeBtn:ZTe,modalBody:eEe,formGroup:tEe,optionsInput:rEe,optionsList:nEe,optionTag:iEe,checkboxLabel:aEe,modalFooter:sEe,cancelBtn:oEe,saveBtn:lEe,templatesSection:cEe,templatesTitle:uEe,templatesSubtitle:dEe,templatesGrid:hEe,templateCard:fEe,templateAdded:mEe,templateIcon:pEe,templateName:vEe,templateType:gEe,addedBadge:yEe,activeFieldsSection:_Ee,sectionTitle:wEe,emptyState:xEe},mg=[{value:"text",label:"Text"},{value:"number",label:"Number"},{value:"date",label:"Date"},{value:"select",label:"Dropdown"},{value:"multiselect",label:"Multi-Select"},{value:"checkbox",label:"Checkbox"},{value:"url",label:"URL"}],bEe=[{name:"Payment Status",field_type:"select",options:[{value:"unpaid",label:"Unpaid"},{value:"pending",label:"Pending"},{value:"paid",label:"Paid"}],is_required:!1},{name:"Priority Level",field_type:"select",options:[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],is_required:!1},{name:"Estimated Hours",field_type:"number",options:[],is_required:!1},{name:"Client Name",field_type:"text",options:[],is_required:!1},{name:"Document Link",field_type:"url",options:[],is_required:!1},{name:"Start Date",field_type:"date",options:[],is_required:!1},{name:"Approved",field_type:"checkbox",options:[],is_required:!1},{name:"Task Type",field_type:"select",options:[{value:"bug",label:"Bug"},{value:"feature",label:"Feature"},{value:"improvement",label:"Improvement"},{value:"documentation",label:"Documentation"}],is_required:!1}];function kEe(){var K;const{state:e}=Xe(),{showToast:t}=vr(),[r,n]=m.useState([]),[i,a]=m.useState(!0),[s,l]=m.useState(!1),[c,u]=m.useState(null),[d,h]=m.useState(""),[f,p]=m.useState("text"),[g,w]=m.useState([]),[y,_]=m.useState(!1),[b,k]=m.useState("");m.useEffect(()=>{x()},[(K=e.board)==null?void 0:K.id]);const x=async()=>{var A;if(!((A=e.board)!=null&&A.id))return;a(!0);const{data:R,error:te}=await M.from("custom_fields").select("*").eq("board_id",e.board.id).order("position",{ascending:!0});!te&&R&&n(R),a(!1)},C=()=>{h(""),p("text"),w([]),_(!1),k(""),u(null)},S=()=>{C(),l(!0)},j=R=>{u(R),h(R.name),p(R.field_type),w(R.options||[]),_(R.is_required),l(!0)},N=()=>{b.trim()&&(w([...g,{value:b.trim().toLowerCase().replace(/\s+/g,"-"),label:b.trim()}]),k(""))},T=R=>{w(g.filter((te,A)=>A!==R))},P=async()=>{var te;if(!((te=e.board)!=null&&te.id)||!d.trim()){t("Please fill in all required fields","error");return}if((f==="select"||f==="multiselect")&&g.length===0){t("Please add at least one option","error");return}const R={board_id:e.board.id,name:d.trim(),field_type:f,options:f==="select"||f==="multiselect"?g:[],is_required:y,position:r.length};try{if(c){const{error:A}=await M.from("custom_fields").update({name:R.name,field_type:R.field_type,options:R.options,is_required:R.is_required}).eq("id",c.id);if(A)throw A;t("Field updated!","success")}else{const{error:A}=await M.from("custom_fields").insert(R);if(A)throw A;t("Field created!","success")}l(!1),C(),x()}catch(A){console.error("Save field error:",A),t("Failed to save field","error")}},I=async R=>{if(confirm("Delete this custom field? All values will be lost."))try{const{error:te}=await M.from("custom_fields").delete().eq("id",R);if(te)throw te;t("Field deleted","info"),x()}catch(te){console.error("Delete field error:",te),t("Failed to delete field","error")}},E=async R=>{var te;if((te=e.board)!=null&&te.id){if(r.some(A=>A.name.toLowerCase()===R.name.toLowerCase())){t(`Field "${R.name}" already exists`,"error");return}try{const A={board_id:e.board.id,name:R.name,field_type:R.field_type,options:R.options,is_required:R.is_required,position:r.length},{error:U}=await M.from("custom_fields").insert(A);if(U)throw U;t(`"${R.name}" field added!`,"success"),x()}catch(A){console.error("Add template error:",A),t("Failed to add field","error")}}},B=R=>{switch(R){case"text":return"";case"number":return"";case"date":return"";case"select":return"";case"multiselect":return"";case"checkbox":return"";case"url":return"";default:return""}};return i?o.jsx("div",{className:Te.container,children:o.jsx("div",{className:Te.loading,children:"Loading custom fields..."})}):o.jsxs("div",{className:Te.container,children:[o.jsxs("div",{className:Te.header,children:[o.jsxs("div",{children:[o.jsx("h2",{className:Te.title,children:"Custom Fields"}),o.jsx("p",{className:Te.subtitle,children:"Add custom fields to tasks for additional data"})]}),o.jsxs("button",{className:Te.createBtn,onClick:S,children:[o.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:o.jsx("path",{d:"M12 5v14M5 12h14"})}),"Add Field"]})]}),o.jsxs("div",{className:Te.templatesSection,children:[o.jsx("h3",{className:Te.templatesTitle,children:"Quick Add Templates"}),o.jsx("p",{className:Te.templatesSubtitle,children:"Click to quickly add common custom fields"}),o.jsx("div",{className:Te.templatesGrid,children:bEe.map((R,te)=>{var U;const A=r.some(z=>z.name.toLowerCase()===R.name.toLowerCase());return o.jsxs("button",{className:`${Te.templateCard} ${A?Te.templateAdded:""}`,onClick:()=>E(R),disabled:A,title:A?"Already added":`Add ${R.name} field`,children:[o.jsx("span",{className:Te.templateIcon,children:B(R.field_type)}),o.jsx("span",{className:Te.templateName,children:R.name}),o.jsx("span",{className:Te.templateType,children:(U=mg.find(z=>z.value===R.field_type))==null?void 0:U.label}),A&&o.jsx("span",{className:Te.addedBadge,children:" Added"})]},te)})})]}),o.jsxs("div",{className:Te.activeFieldsSection,children:[o.jsxs("h3",{className:Te.sectionTitle,children:["Active Fields (",r.length,")"]}),r.length===0?o.jsx("div",{className:Te.emptyState,children:o.jsx("p",{children:"No custom fields added yet. Use templates above or create your own."})}):o.jsx("div",{className:Te.fieldList,children:r.map(R=>{var te;return o.jsxs("div",{className:Te.fieldCard,children:[o.jsxs("div",{className:Te.fieldInfo,children:[o.jsx("div",{className:Te.fieldIcon,children:B(R.field_type)}),o.jsxs("div",{className:Te.fieldDetails,children:[o.jsxs("h3",{className:Te.fieldName,children:[R.name,R.is_required&&o.jsx("span",{className:Te.required,children:"*"})]}),o.jsxs("p",{className:Te.fieldType,children:[(te=mg.find(A=>A.value===R.field_type))==null?void 0:te.label,R.options&&R.options.length>0&&` (${R.options.length} options)`]})]})]}),o.jsxs("div",{className:Te.fieldActions,children:[o.jsx("button",{className:Te.editBtn,onClick:()=>j(R),children:"Edit"}),o.jsx("button",{className:Te.deleteBtn,onClick:()=>I(R.id),children:"Delete"})]})]},R.id)})})]}),s&&o.jsx("div",{className:Te.modalOverlay,onClick:()=>l(!1),children:o.jsxs("div",{className:Te.modal,onClick:R=>R.stopPropagation(),children:[o.jsxs("div",{className:Te.modalHeader,children:[o.jsx("h3",{children:c?"Edit Custom Field":"Add Custom Field"}),o.jsx("button",{className:Te.closeBtn,onClick:()=>l(!1),children:""})]}),o.jsxs("div",{className:Te.modalBody,children:[o.jsxs("div",{className:Te.formGroup,children:[o.jsx("label",{children:"Field Name *"}),o.jsx("input",{type:"text",value:d,onChange:R=>h(R.target.value),placeholder:"e.g., Budget, Customer, Status"})]}),o.jsxs("div",{className:Te.formGroup,children:[o.jsx("label",{children:"Field Type *"}),o.jsx("select",{value:f,onChange:R=>p(R.target.value),children:mg.map(R=>o.jsx("option",{value:R.value,children:R.label},R.value))})]}),(f==="select"||f==="multiselect")&&o.jsxs("div",{className:Te.formGroup,children:[o.jsx("label",{children:"Options"}),o.jsxs("div",{className:Te.optionsInput,children:[o.jsx("input",{type:"text",value:b,onChange:R=>k(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),N()),placeholder:"Type option and press Enter"}),o.jsx("button",{type:"button",onClick:N,children:"Add"})]}),g.length>0&&o.jsx("div",{className:Te.optionsList,children:g.map((R,te)=>o.jsxs("div",{className:Te.optionTag,children:[R.label,o.jsx("button",{onClick:()=>T(te),children:""})]},te))})]}),o.jsx("div",{className:Te.formGroup,children:o.jsxs("label",{className:Te.checkboxLabel,children:[o.jsx("input",{type:"checkbox",checked:y,onChange:R=>_(R.target.checked)}),"Required field"]})})]}),o.jsxs("div",{className:Te.modalFooter,children:[o.jsx("button",{className:Te.cancelBtn,onClick:()=>l(!1),children:"Cancel"}),o.jsx("button",{className:Te.saveBtn,onClick:P,children:c?"Update Field":"Add Field"})]})]})})]})}const jEe="_appLayout_qlgjp_2",SEe="_mainArea_qlgjp_8",CEe="_contentArea_qlgjp_17",pg={appLayout:jEe,mainArea:SEe,contentArea:CEe};function NEe(){const{currentView:e}=$m(),[t,r]=m.useState(!1),[n,i]=m.useState(!1);m.useEffect(()=>{const c=()=>{const u=window.innerWidth<1024;i(u),u||r(!1)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const a=()=>r(!t),s=()=>r(!1),l=m.useMemo(()=>{switch(e){case"dashboard":return o.jsx(Ide,{},"dashboard");case"board":return o.jsx(Gk,{},"board");case"my-tasks":return o.jsx(Dde,{},"my-tasks");case"calendar":return o.jsx(Lde,{},"calendar");case"projects":return o.jsx($de,{},"projects");case"labels":return o.jsx(Rde,{},"labels");case"starred":return o.jsx(Mde,{},"starred");case"archive":return o.jsx(Bde,{},"archive");case"team":return o.jsx(Fde,{},"team");case"reports":return o.jsx(wNe,{},"reports");case"notifications":return o.jsx(xNe,{},"notifications");case"settings":return o.jsx(kNe,{},"settings");case"help":return o.jsx(jNe,{},"help");case"gantt":return o.jsx(SNe,{},"gantt");case"workload":return o.jsx(CNe,{},"workload");case"timeline":return o.jsx(NNe,{},"timeline");case"templates":return o.jsx(TNe,{},"templates");case"activity":return o.jsx(JNe,{},"activity");case"automation":return o.jsx(OTe,{},"automation");case"custom-fields":return o.jsx(kEe,{},"custom-fields");case"watching":return o.jsx(QNe,{},"watching");default:return o.jsx(Gk,{},"board-default")}},[e]);return o.jsxs("div",{className:pg.appLayout,children:[o.jsx(KU,{isOpen:n?t:!0,onClose:s}),o.jsxs("div",{className:pg.mainArea,children:[o.jsx(PU,{onMenuClick:a}),o.jsxs("div",{className:pg.contentArea,children:[e==="board"&&o.jsx(AJ,{}),l]}),o.jsx(BQ,{}),o.jsx(zQ,{}),o.jsx(GA,{})]})]})}function TEe(){const{user:e,loading:t,initialized:r}=Ye(),{theme:n}=Fu();return console.log("[AppContent] user:",!!e,"authLoading:",t,"initialized:",r),m.useEffect(()=>{document.documentElement.setAttribute("data-theme",n)},[n]),!r||t?o.jsx(YF,{}):e?o.jsx(cF,{children:o.jsx(dF,{children:o.jsx(NEe,{})})}):o.jsxs(o.Fragment,{children:[o.jsx(i7,{}),o.jsx(GA,{})]})}function EEe(){return o.jsx(P4,{basename:"/kanban.github.io",children:o.jsx(uF,{children:o.jsx(iF,{children:o.jsx(aF,{children:o.jsxs(a4,{children:[o.jsx(uy,{path:"/invite",element:o.jsx(xZ,{})}),o.jsx(uy,{path:"*",element:o.jsx(TEe,{})})]})})})})})}vg.createRoot(document.getElementById("root")).render(o.jsx(EEe,{}));
